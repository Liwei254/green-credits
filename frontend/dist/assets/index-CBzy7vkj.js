var na=Object.defineProperty;var Vs=_e=>{throw TypeError(_e)};var ga=(_e,et,tt)=>et in _e?na(_e,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):_e[et]=tt;var Nt=(_e,et,tt)=>ga(_e,typeof et!="symbol"?et+"":et,tt),Cs=(_e,et,tt)=>et.has(_e)||Vs("Cannot "+tt);var Et=(_e,et,tt)=>(Cs(_e,et,"read from private field"),tt?tt.call(_e):et.get(_e)),Ot=(_e,et,tt)=>et.has(_e)?Vs("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(_e):et.set(_e,tt),Pt=(_e,et,tt,rt)=>(Cs(_e,et,"write to private field"),rt?rt.call(_e,tt):et.set(_e,tt),tt),Ut=(_e,et,tt)=>(Cs(_e,et,"access private method"),tt);var Yo=(_e,et,tt,rt)=>({set _(nt){Pt(_e,et,nt,tt)},get _(){return Et(_e,et,rt)}});function _mergeNamespaces(_e,et){for(var tt=0;tt<et.length;tt++){const rt=et[tt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const nt in rt)if(nt!=="default"&&!(nt in _e)){const ot=Object.getOwnPropertyDescriptor(rt,nt);ot&&Object.defineProperty(_e,nt,ot.get?ot:{enumerable:!0,get:()=>rt[nt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const ot of nt)if(ot.type==="childList")for(const st of ot.addedNodes)st.tagName==="LINK"&&st.rel==="modulepreload"&&rt(st)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const ot={};return nt.integrity&&(ot.integrity=nt.integrity),nt.referrerPolicy&&(ot.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?ot.credentials="include":nt.crossOrigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function rt(nt){if(nt.ep)return;nt.ep=!0;const ot=tt(nt);fetch(nt.href,ot)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(_e){return _e===null||typeof _e!="object"?null:(_e=z$1&&_e[z$1]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,et){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,et,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$1(_e,et,tt){this.props=_e,this.context=et,this.refs=D$2,this.updater=tt||B$1}var H$2=G$1.prototype=new F$1;H$2.constructor=G$1;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$1(_e,et,tt){var rt,nt={},ot=null,st=null;if(et!=null)for(rt in et.ref!==void 0&&(st=et.ref),et.key!==void 0&&(ot=""+et.key),et)J.call(et,rt)&&!L$2.hasOwnProperty(rt)&&(nt[rt]=et[rt]);var at=arguments.length-2;if(at===1)nt.children=tt;else if(1<at){for(var ct=Array(at),lt=0;lt<at;lt++)ct[lt]=arguments[lt+2];nt.children=ct}if(_e&&_e.defaultProps)for(rt in at=_e.defaultProps,at)nt[rt]===void 0&&(nt[rt]=at[rt]);return{$$typeof:l$2,type:_e,key:ot,ref:st,props:nt,_owner:K$1.current}}function N$2(_e,et){return{$$typeof:l$2,type:_e.type,key:et,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$1(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$2}function escape(_e){var et={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(tt){return et[tt]})}var P$3=/\/+/g;function Q$2(_e,et){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):et.toString(36)}function R$1(_e,et,tt,rt,nt){var ot=typeof _e;(ot==="undefined"||ot==="boolean")&&(_e=null);var st=!1;if(_e===null)st=!0;else switch(ot){case"string":case"number":st=!0;break;case"object":switch(_e.$$typeof){case l$2:case n$4:st=!0}}if(st)return st=_e,nt=nt(st),_e=rt===""?"."+Q$2(st,0):rt,I$1(nt)?(tt="",_e!=null&&(tt=_e.replace(P$3,"$&/")+"/"),R$1(nt,et,tt,"",function(lt){return lt})):nt!=null&&(O$1(nt)&&(nt=N$2(nt,tt+(!nt.key||st&&st.key===nt.key?"":(""+nt.key).replace(P$3,"$&/")+"/")+_e)),et.push(nt)),1;if(st=0,rt=rt===""?".":rt+":",I$1(_e))for(var at=0;at<_e.length;at++){ot=_e[at];var ct=rt+Q$2(ot,at);st+=R$1(ot,et,tt,ct,nt)}else if(ct=A$1(_e),typeof ct=="function")for(_e=ct.call(_e),at=0;!(ot=_e.next()).done;)ot=ot.value,ct=rt+Q$2(ot,at++),st+=R$1(ot,et,tt,ct,nt);else if(ot==="object")throw et=String(_e),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return st}function S$2(_e,et,tt){if(_e==null)return _e;var rt=[],nt=0;return R$1(_e,rt,"","",function(ot){return et.call(tt,ot,nt++)}),rt}function T$1(_e){if(_e._status===-1){var et=_e._result;et=et(),et.then(function(tt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=tt)},function(tt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=tt)}),_e._status===-1&&(_e._status=0,_e._result=et)}if(_e._status===1)return _e._result.default;throw _e._result}var U$1={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(_e,et,tt){S$2(_e,function(){et.apply(this,arguments)},tt)},count:function(_e){var et=0;return S$2(_e,function(){et++}),et},toArray:function(_e){return S$2(_e,function(et){return et})||[]},only:function(_e){if(!O$1(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$1;react_production_min.cloneElement=function(_e,et,tt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var rt=C$2({},_e.props),nt=_e.key,ot=_e.ref,st=_e._owner;if(et!=null){if(et.ref!==void 0&&(ot=et.ref,st=K$1.current),et.key!==void 0&&(nt=""+et.key),_e.type&&_e.type.defaultProps)var at=_e.type.defaultProps;for(ct in et)J.call(et,ct)&&!L$2.hasOwnProperty(ct)&&(rt[ct]=et[ct]===void 0&&at!==void 0?at[ct]:et[ct])}var ct=arguments.length-2;if(ct===1)rt.children=tt;else if(1<ct){at=Array(ct);for(var lt=0;lt<ct;lt++)at[lt]=arguments[lt+2];rt.children=at}return{$$typeof:l$2,type:_e.type,key:nt,ref:ot,props:rt,_owner:st}};react_production_min.createContext=function(_e){return _e={$$typeof:u$1,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$1,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$1;react_production_min.createFactory=function(_e){var et=M$1.bind(null,_e);return et.type=_e,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_e){return{$$typeof:y$1,_payload:{_status:-1,_result:_e},_init:T$1}};react_production_min.memo=function(_e,et){return{$$typeof:x$1,type:_e,compare:et===void 0?null:et}};react_production_min.startTransition=function(_e){var et=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=et}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_e,et){return U$1.current.useCallback(_e,et)};react_production_min.useContext=function(_e){return U$1.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$1.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,et){return U$1.current.useEffect(_e,et)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_e,et,tt){return U$1.current.useImperativeHandle(_e,et,tt)};react_production_min.useInsertionEffect=function(_e,et){return U$1.current.useInsertionEffect(_e,et)};react_production_min.useLayoutEffect=function(_e,et){return U$1.current.useLayoutEffect(_e,et)};react_production_min.useMemo=function(_e,et){return U$1.current.useMemo(_e,et)};react_production_min.useReducer=function(_e,et,tt){return U$1.current.useReducer(_e,et,tt)};react_production_min.useRef=function(_e){return U$1.current.useRef(_e)};react_production_min.useState=function(_e){return U$1.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,et,tt){return U$1.current.useSyncExternalStore(_e,et,tt)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$3=getDefaultExportFromCjs(reactExports),React$4=_mergeNamespaces({__proto__:null,default:React$3},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$3=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(_e,et,tt){var rt,nt={},ot=null,st=null;tt!==void 0&&(ot=""+tt),et.key!==void 0&&(ot=""+et.key),et.ref!==void 0&&(st=et.ref);for(rt in et)m$2.call(et,rt)&&!p$2.hasOwnProperty(rt)&&(nt[rt]=et[rt]);if(_e&&_e.defaultProps)for(rt in et=_e.defaultProps,et)nt[rt]===void 0&&(nt[rt]=et[rt]);return{$$typeof:k$1,type:_e,key:ot,ref:st,props:nt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function et(Lt,Ht){var Kt=Lt.length;Lt.push(Ht);e:for(;0<Kt;){var Qt=Kt-1>>>1,Yt=Lt[Qt];if(0<nt(Yt,Ht))Lt[Qt]=Ht,Lt[Kt]=Yt,Kt=Qt;else break e}}function tt(Lt){return Lt.length===0?null:Lt[0]}function rt(Lt){if(Lt.length===0)return null;var Ht=Lt[0],Kt=Lt.pop();if(Kt!==Ht){Lt[0]=Kt;e:for(var Qt=0,Yt=Lt.length,ar=Yt>>>1;Qt<ar;){var sr=2*(Qt+1)-1,tr=Lt[sr],It=sr+1,Ft=Lt[It];if(0>nt(tr,Kt))It<Yt&&0>nt(Ft,tr)?(Lt[Qt]=Ft,Lt[It]=Kt,Qt=It):(Lt[Qt]=tr,Lt[sr]=Kt,Qt=sr);else if(It<Yt&&0>nt(Ft,Kt))Lt[Qt]=Ft,Lt[It]=Kt,Qt=It;else break e}}return Ht}function nt(Lt,Ht){var Kt=Lt.sortIndex-Ht.sortIndex;return Kt!==0?Kt:Lt.id-Ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ot=performance;_e.unstable_now=function(){return ot.now()}}else{var st=Date,at=st.now();_e.unstable_now=function(){return st.now()-at}}var ct=[],lt=[],dt=1,ft=null,ht=3,pt=!1,gt=!1,mt=!1,vt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,bt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(Lt){for(var Ht=tt(lt);Ht!==null;){if(Ht.callback===null)rt(lt);else if(Ht.startTime<=Lt)rt(lt),Ht.sortIndex=Ht.expirationTime,et(ct,Ht);else break;Ht=tt(lt)}}function wt(Lt){if(mt=!1,xt(Lt),!gt)if(tt(ct)!==null)gt=!0,Wt(At);else{var Ht=tt(lt);Ht!==null&&Vt(wt,Ht.startTime-Lt)}}function At(Lt,Ht){gt=!1,mt&&(mt=!1,yt(kt),kt=-1),pt=!0;var Kt=ht;try{for(xt(Ht),ft=tt(ct);ft!==null&&(!(ft.expirationTime>Ht)||Lt&&!Tt());){var Qt=ft.callback;if(typeof Qt=="function"){ft.callback=null,ht=ft.priorityLevel;var Yt=Qt(ft.expirationTime<=Ht);Ht=_e.unstable_now(),typeof Yt=="function"?ft.callback=Yt:ft===tt(ct)&&rt(ct),xt(Ht)}else rt(ct);ft=tt(ct)}if(ft!==null)var ar=!0;else{var sr=tt(lt);sr!==null&&Vt(wt,sr.startTime-Ht),ar=!1}return ar}finally{ft=null,ht=Kt,pt=!1}}var St=!1,$t=null,kt=-1,Ct=5,_t=-1;function Tt(){return!(_e.unstable_now()-_t<Ct)}function jt(){if($t!==null){var Lt=_e.unstable_now();_t=Lt;var Ht=!0;try{Ht=$t(!0,Lt)}finally{Ht?Bt():(St=!1,$t=null)}}else St=!1}var Bt;if(typeof bt=="function")Bt=function(){bt(jt)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,Rt=Gt.port2;Gt.port1.onmessage=jt,Bt=function(){Rt.postMessage(null)}}else Bt=function(){vt(jt,0)};function Wt(Lt){$t=Lt,St||(St=!0,Bt())}function Vt(Lt,Ht){kt=vt(function(){Lt(_e.unstable_now())},Ht)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Lt){Lt.callback=null},_e.unstable_continueExecution=function(){gt||pt||(gt=!0,Wt(At))},_e.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<Lt?Math.floor(1e3/Lt):5},_e.unstable_getCurrentPriorityLevel=function(){return ht},_e.unstable_getFirstCallbackNode=function(){return tt(ct)},_e.unstable_next=function(Lt){switch(ht){case 1:case 2:case 3:var Ht=3;break;default:Ht=ht}var Kt=ht;ht=Ht;try{return Lt()}finally{ht=Kt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Lt,Ht){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var Kt=ht;ht=Lt;try{return Ht()}finally{ht=Kt}},_e.unstable_scheduleCallback=function(Lt,Ht,Kt){var Qt=_e.unstable_now();switch(typeof Kt=="object"&&Kt!==null?(Kt=Kt.delay,Kt=typeof Kt=="number"&&0<Kt?Qt+Kt:Qt):Kt=Qt,Lt){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=Kt+Yt,Lt={id:dt++,callback:Ht,priorityLevel:Lt,startTime:Kt,expirationTime:Yt,sortIndex:-1},Kt>Qt?(Lt.sortIndex=Kt,et(lt,Lt),tt(ct)===null&&Lt===tt(lt)&&(mt?(yt(kt),kt=-1):mt=!0,Vt(wt,Kt-Qt))):(Lt.sortIndex=Yt,et(ct,Lt),gt||pt||(gt=!0,Wt(At))),Lt},_e.unstable_shouldYield=Tt,_e.unstable_wrapCallback=function(Lt){var Ht=ht;return function(){var Kt=ht;ht=Ht;try{return Lt.apply(this,arguments)}finally{ht=Kt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(_e){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+_e,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+_e+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,et){ha(_e,et),ha(_e+"Capture",et)}function ha(_e,et){for(ea[_e]=et,_e=0;_e<et.length;_e++)da.add(et[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,et,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,et,tt,rt){if(et===null||typeof et>"u"||pa(_e,et,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$1(_e,et,tt,rt,nt,ot,st){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=_e,this.type=et,this.sanitizeURL=ot,this.removeEmptyString=st}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var et=_e[0];z[et]=new v$1(et,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z[et]=new v$1(et,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var et=_e.replace(ra,sa);z[et]=new v$1(et,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var et=_e.replace(ra,sa);z[et]=new v$1(et,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,et,tt,rt){var nt=z.hasOwnProperty(et)?z[et]:null;(nt!==null?nt.type!==0:rt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,nt,rt)&&(tt=null),rt||nt===null?oa(et)&&(tt===null?_e.removeAttribute(et):_e.setAttribute(et,""+tt)):nt.mustUseProperty?_e[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(et=nt.attributeName,rt=nt.attributeNamespace,tt===null?_e.removeAttribute(et):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?_e.setAttributeNS(rt,et,tt):_e.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,et){if(!_e||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(lt){var rt=lt}Reflect.construct(_e,[],et)}else{try{et.call()}catch(lt){rt=lt}_e.call(et.prototype)}else{try{throw Error()}catch(lt){rt=lt}_e()}}catch(lt){if(lt&&rt&&typeof lt.stack=="string"){for(var nt=lt.stack.split(`
`),ot=rt.stack.split(`
`),st=nt.length-1,at=ot.length-1;1<=st&&0<=at&&nt[st]!==ot[at];)at--;for(;1<=st&&0<=at;st--,at--)if(nt[st]!==ot[at]){if(st!==1||at!==1)do if(st--,at--,0>at||nt[st]!==ot[at]){var ct=`
`+nt[st].replace(" at new "," at ");return _e.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",_e.displayName)),ct}while(1<=st&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var et=_e.render;return _e=_e.displayName,_e||(_e=et.displayName||et.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return et=_e.displayName||null,et!==null?et:Qa(_e.type)||"Memo";case Ha:et=_e._payload,_e=_e._init;try{return Qa(_e(et))}catch{}}return null}function Ra(_e){var et=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=et.render,_e=_e.displayName||_e.name||"",et.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var et=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(_e){var et=Ta(_e)?"checked":"value",tt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,et),rt=""+_e[et];if(!_e.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,ot=tt.set;return Object.defineProperty(_e,et,{configurable:!0,get:function(){return nt.call(this)},set:function(st){rt=""+st,ot.call(this,st)}}),Object.defineProperty(_e,et,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(st){rt=""+st},stopTracking:function(){_e._valueTracker=null,delete _e[et]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var et=_e._valueTracker;if(!et)return!0;var tt=et.getValue(),rt="";return _e&&(rt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=rt,_e!==tt?(et.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,et){var tt=et.checked;return A({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??_e._wrapperState.initialChecked})}function Za(_e,et){var tt=et.defaultValue==null?"":et.defaultValue,rt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),_e._wrapperState={initialChecked:rt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(_e,et){et=et.checked,et!=null&&ta(_e,"checked",et,!1)}function bb(_e,et){ab(_e,et);var tt=Sa(et.value),rt=et.type;if(tt!=null)rt==="number"?(tt===0&&_e.value===""||_e.value!=tt)&&(_e.value=""+tt):_e.value!==""+tt&&(_e.value=""+tt);else if(rt==="submit"||rt==="reset"){_e.removeAttribute("value");return}et.hasOwnProperty("value")?cb(_e,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(_e,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(_e.defaultChecked=!!et.defaultChecked)}function db(_e,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var rt=et.type;if(!(rt!=="submit"&&rt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+_e._wrapperState.initialValue,tt||et===_e.value||(_e.value=et),_e.defaultValue=et}tt=_e.name,tt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,tt!==""&&(_e.name=tt)}function cb(_e,et,tt){(et!=="number"||Xa(_e.ownerDocument)!==_e)&&(tt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+tt&&(_e.defaultValue=""+tt))}var eb=Array.isArray;function fb(_e,et,tt,rt){if(_e=_e.options,et){et={};for(var nt=0;nt<tt.length;nt++)et["$"+tt[nt]]=!0;for(tt=0;tt<_e.length;tt++)nt=et.hasOwnProperty("$"+_e[tt].value),_e[tt].selected!==nt&&(_e[tt].selected=nt),nt&&rt&&(_e[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,nt=0;nt<_e.length;nt++){if(_e[nt].value===tt){_e[nt].selected=!0,rt&&(_e[nt].defaultSelected=!0);return}et!==null||_e[nt].disabled||(et=_e[nt])}et!==null&&(et.selected=!0)}}function gb(_e,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},et,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$1(92));if(eb(tt)){if(1<tt.length)throw Error(p$1(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}_e._wrapperState={initialValue:Sa(tt)}}function ib(_e,et){var tt=Sa(et.value),rt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==_e.value&&(_e.value=tt),et.defaultValue==null&&_e.defaultValue!==tt&&(_e.defaultValue=tt)),rt!=null&&(_e.defaultValue=""+rt)}function jb(_e){var et=_e.textContent;et===_e._wrapperState.initialValue&&et!==""&&et!==null&&(_e.value=et)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,et){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(et):_e==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return _e(et,tt,rt,nt)})}:_e}(function(_e,et){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;et.firstChild;)_e.appendChild(et.firstChild)}});function ob(_e,et){if(et){var tt=_e.firstChild;if(tt&&tt===_e.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}_e.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(et){et=et+_e.charAt(0).toUpperCase()+_e.substring(1),pb[et]=pb[_e]})});function rb(_e,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+et).trim():et+"px"}function sb(_e,et){_e=_e.style;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,et[tt],rt);tt==="float"&&(tt="cssFloat"),rt?_e.setProperty(tt,nt):_e[tt]=nt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,et){if(et){if(tb[_e]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$1(137,_e));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$1(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$1(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$1(62))}}function vb(_e,et){if(_e.indexOf("-")===-1)return typeof et.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$1(280));var et=_e.stateNode;et&&(et=Db(et),yb(_e.stateNode,_e.type,et))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,et=Ab;if(Ab=zb=null,Bb(_e),et)for(_e=0;_e<et.length;_e++)Bb(et[_e])}}function Gb(_e,et){return _e(et)}function Hb(){}var Ib=!1;function Jb(_e,et,tt){if(Ib)return _e(et,tt);Ib=!0;try{return Gb(_e,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,et){var tt=_e.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(_e=_e.type,rt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!rt;break e;default:_e=!1}if(_e)return null;if(tt&&typeof tt!="function")throw Error(p$1(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,et,tt,rt,nt,ot,st,at,ct){var lt=Array.prototype.slice.call(arguments,3);try{et.apply(tt,lt)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,et,tt,rt,nt,ot,st,at,ct){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,et,tt,rt,nt,ot,st,at,ct){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=lt)}}function Vb(_e){var et=_e,tt=_e;if(_e.alternate)for(;et.return;)et=et.return;else{_e=et;do et=_e,et.flags&4098&&(tt=et.return),_e=et.return;while(_e)}return et.tag===3?tt:null}function Wb(_e){if(_e.tag===13){var et=_e.memoizedState;if(et===null&&(_e=_e.alternate,_e!==null&&(et=_e.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$1(188))}function Yb(_e){var et=_e.alternate;if(!et){if(et=Vb(_e),et===null)throw Error(p$1(188));return et!==_e?null:_e}for(var tt=_e,rt=et;;){var nt=tt.return;if(nt===null)break;var ot=nt.alternate;if(ot===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===ot.child){for(ot=nt.child;ot;){if(ot===tt)return Xb(nt),_e;if(ot===rt)return Xb(nt),et;ot=ot.sibling}throw Error(p$1(188))}if(tt.return!==rt.return)tt=nt,rt=ot;else{for(var st=!1,at=nt.child;at;){if(at===tt){st=!0,tt=nt,rt=ot;break}if(at===rt){st=!0,rt=nt,tt=ot;break}at=at.sibling}if(!st){for(at=ot.child;at;){if(at===tt){st=!0,tt=ot,rt=nt;break}if(at===rt){st=!0,rt=ot,tt=nt;break}at=at.sibling}if(!st)throw Error(p$1(189))}}if(tt.alternate!==rt)throw Error(p$1(190))}if(tt.tag!==3)throw Error(p$1(188));return tt.stateNode.current===tt?_e:et}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var et=$b(_e);if(et!==null)return et;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,et){var tt=_e.pendingLanes;if(tt===0)return 0;var rt=0,nt=_e.suspendedLanes,ot=_e.pingedLanes,st=tt&268435455;if(st!==0){var at=st&~nt;at!==0?rt=tc(at):(ot&=st,ot!==0&&(rt=tc(ot)))}else st=tt&~nt,st!==0?rt=tc(st):ot!==0&&(rt=tc(ot));if(rt===0)return 0;if(et!==0&&et!==rt&&!(et&nt)&&(nt=rt&-rt,ot=et&-et,nt>=ot||nt===16&&(ot&4194240)!==0))return et;if(rt&4&&(rt|=tt&16),et=_e.entangledLanes,et!==0)for(_e=_e.entanglements,et&=rt;0<et;)tt=31-oc(et),nt=1<<tt,rt|=_e[tt],et&=~nt;return rt}function vc(_e,et){switch(_e){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,et){for(var tt=_e.suspendedLanes,rt=_e.pingedLanes,nt=_e.expirationTimes,ot=_e.pendingLanes;0<ot;){var st=31-oc(ot),at=1<<st,ct=nt[st];ct===-1?(!(at&tt)||at&rt)&&(nt[st]=vc(at,et)):ct<=et&&(_e.expiredLanes|=at),ot&=~at}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var et=[],tt=0;31>tt;tt++)et.push(_e);return et}function Ac(_e,et,tt){_e.pendingLanes|=et,et!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,et=31-oc(et),_e[et]=tt}function Bc(_e,et){var tt=_e.pendingLanes&~et;_e.pendingLanes=et,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=et,_e.mutableReadLanes&=et,_e.entangledLanes&=et,et=_e.entanglements;var rt=_e.eventTimes;for(_e=_e.expirationTimes;0<tt;){var nt=31-oc(tt),ot=1<<nt;et[nt]=0,rt[nt]=-1,_e[nt]=-1,tt&=~ot}}function Cc(_e,et){var tt=_e.entangledLanes|=et;for(_e=_e.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&et|_e[rt]&et&&(_e[rt]|=et),tt&=~nt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,et){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(_e,et,tt,rt,nt,ot){return _e===null||_e.nativeEvent!==ot?(_e={blockedOn:et,domEventName:tt,eventSystemFlags:rt,nativeEvent:ot,targetContainers:[nt]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),_e):(_e.eventSystemFlags|=rt,et=_e.targetContainers,nt!==null&&et.indexOf(nt)===-1&&et.push(nt),_e)}function Uc(_e,et,tt,rt,nt){switch(et){case"focusin":return Lc=Tc(Lc,_e,et,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,_e,et,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,_e,et,tt,rt,nt),!0;case"pointerover":var ot=nt.pointerId;return Oc.set(ot,Tc(Oc.get(ot)||null,_e,et,tt,rt,nt)),!0;case"gotpointercapture":return ot=nt.pointerId,Pc.set(ot,Tc(Pc.get(ot)||null,_e,et,tt,rt,nt)),!0}return!1}function Vc(_e){var et=Wc(_e.target);if(et!==null){var tt=Vb(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){_e.blockedOn=et,Ic(_e.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var et=_e.targetContainers;0<et.length;){var tt=Yc(_e.domEventName,_e.eventSystemFlags,et[0],_e.nativeEvent);if(tt===null){tt=_e.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),_e.blockedOn=tt,!1;et.shift()}return!0}function Zc(_e,et,tt){Xc(_e)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,et){_e.blockedOn===et&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function et(nt){return ad(nt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===_e&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===_e&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,et,tt,rt){var nt=C$1,ot=cd.transition;cd.transition=null;try{C$1=1,fd(_e,et,tt,rt)}finally{C$1=nt,cd.transition=ot}}function gd(_e,et,tt,rt){var nt=C$1,ot=cd.transition;cd.transition=null;try{C$1=4,fd(_e,et,tt,rt)}finally{C$1=nt,cd.transition=ot}}function fd(_e,et,tt,rt){if(dd){var nt=Yc(_e,et,tt,rt);if(nt===null)hd(_e,et,rt,id$1,tt),Sc(_e,rt);else if(Uc(nt,_e,et,tt,rt))rt.stopPropagation();else if(Sc(_e,rt),et&4&&-1<Rc.indexOf(_e)){for(;nt!==null;){var ot=Cb(nt);if(ot!==null&&Ec(ot),ot=Yc(_e,et,tt,rt),ot===null&&hd(_e,et,rt,id$1,tt),ot===nt)break;nt=ot}nt!==null&&rt.stopPropagation()}else hd(_e,et,rt,null,tt)}}var id$1=null;function Yc(_e,et,tt,rt){if(id$1=null,_e=xb(rt),_e=Wc(_e),_e!==null)if(et=Vb(_e),et===null)_e=null;else if(tt=et.tag,tt===13){if(_e=Wb(et),_e!==null)return _e;_e=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;_e=null}else et!==_e&&(_e=null);return id$1=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,et=ld,tt=et.length,rt,nt="value"in kd?kd.value:kd.textContent,ot=nt.length;for(_e=0;_e<tt&&et[_e]===nt[_e];_e++);var st=tt-_e;for(rt=1;rt<=st&&et[tt-rt]===nt[ot-rt];rt++);return md=nt.slice(_e,1<rt?1-rt:void 0)}function od(_e){var et=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&et===13&&(_e=13)):_e=et,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function et(tt,rt,nt,ot,st){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=ot,this.target=st,this.currentTarget=null;for(var at in _e)_e.hasOwnProperty(at)&&(tt=_e[at],this[at]=tt?tt(ot):ot[at]);return this.isDefaultPrevented=(ot.defaultPrevented!=null?ot.defaultPrevented:ot.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(_e):(_e=Od[_e])?!!et[_e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(_e){if(_e.key){var et=Md[_e.key]||_e.key;if(et!=="Unidentified")return et}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge$1(_e,et){switch(_e){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je(_e,et){switch(_e){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe=!0,ee);case"textInput":return _e=et.data,_e===ee&&fe?null:_e;default:return null}}function ke$1(_e,et){if(ie$1)return _e==="compositionend"||!ae&&ge$1(_e,et)?(_e=nd(),md=ld=kd=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$1&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et==="input"?!!le$1[_e.type]:et==="textarea"}function ne(_e,et,tt,rt){Eb(rt),et=oe(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,rt),_e.push({event:tt,listeners:et}))}var pe=null,qe=null;function re$2(_e){se$1(_e,0)}function te(_e){var et=ue(_e);if(Wa(et))return _e}function ve$1(_e,et){if(_e==="change")return et}var we$1=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var et=[];ne(et,qe,_e,xb(_e)),Jb(re$2,et)}}function Ce$1(_e,et,tt){_e==="focusin"?(Ae$1(),pe=et,qe=tt,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae$1()}function De$1(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee$1(_e,et){if(_e==="click")return te(et)}function Fe$1(_e,et){if(_e==="input"||_e==="change")return te(et)}function Ge(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(_e,et){if(He(_e,et))return!0;if(typeof _e!="object"||_e===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(_e),rt=Object.keys(et);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(et,nt)||!He(_e[nt],et[nt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,et){var tt=Je(_e);_e=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=_e+tt.textContent.length,_e<=et&&rt>=et)return{node:tt,offset:et-_e};_e=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(_e,et){return _e&&et?_e===et?!0:_e&&_e.nodeType===3?!1:et&&et.nodeType===3?Le(_e,et.parentNode):"contains"in _e?_e.contains(et):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(et)&16):!1:!1}function Me$1(){for(var _e=window,et=Xa();et instanceof _e.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)_e=et.contentWindow;else break;et=Xa(_e.document)}return et}function Ne(_e){var et=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return et&&(et==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||et==="textarea"||_e.contentEditable==="true")}function Oe$1(_e){var et=Me$1(),tt=_e.focusedElem,rt=_e.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(et=rt.start,_e=rt.end,_e===void 0&&(_e=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(_e,tt.value.length);else if(_e=(et=tt.ownerDocument||document)&&et.defaultView||window,_e.getSelection){_e=_e.getSelection();var nt=tt.textContent.length,ot=Math.min(rt.start,nt);rt=rt.end===void 0?ot:Math.min(rt.end,nt),!_e.extend&&ot>rt&&(nt=rt,rt=ot,ot=nt),nt=Ke(tt,ot);var st=Ke(tt,rt);nt&&st&&(_e.rangeCount!==1||_e.anchorNode!==nt.node||_e.anchorOffset!==nt.offset||_e.focusNode!==st.node||_e.focusOffset!==st.offset)&&(et=et.createRange(),et.setStart(nt.node,nt.offset),_e.removeAllRanges(),ot>rt?(_e.addRange(et),_e.extend(st.node,st.offset)):(et.setEnd(st.node,st.offset),_e.addRange(et)))}}for(et=[],_e=tt;_e=_e.parentNode;)_e.nodeType===1&&et.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)_e=et[tt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(_e,et,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te$1||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se$1&&Ie$1(Se$1,rt)||(Se$1=rt,rt=oe(Re$1,"onSelect"),0<rt.length&&(et=new td("onSelect","select",null,et,tt),_e.push({event:et,listeners:rt}),et.target=Qe)))}function Ve(_e,et){var tt={};return tt[_e.toLowerCase()]=et.toLowerCase(),tt["Webkit"+_e]="webkit"+et,tt["Moz"+_e]="moz"+et,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var et=We[_e],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye)return Xe[_e]=et[tt];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,et){df.set(_e,et),fa(et,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,et,tt){var rt=_e.type||"unknown-event";_e.currentTarget=tt,Ub(rt,et,void 0,_e),_e.currentTarget=null}function se$1(_e,et){et=(et&4)!==0;for(var tt=0;tt<_e.length;tt++){var rt=_e[tt],nt=rt.event;rt=rt.listeners;e:{var ot=void 0;if(et)for(var st=rt.length-1;0<=st;st--){var at=rt[st],ct=at.instance,lt=at.currentTarget;if(at=at.listener,ct!==ot&&nt.isPropagationStopped())break e;nf(nt,at,lt),ot=ct}else for(st=0;st<rt.length;st++){if(at=rt[st],ct=at.instance,lt=at.currentTarget,at=at.listener,ct!==ot&&nt.isPropagationStopped())break e;nf(nt,at,lt),ot=ct}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var rt=_e+"__bubble";tt.has(rt)||(pf(et,_e,2,!1),tt.add(rt))}function qf(_e,et,tt){var rt=0;et&&(rt|=4),pf(tt,_e,rt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,_e),qf(tt,!0,_e))});var et=_e.nodeType===9?_e:_e.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(_e,et,tt,rt){switch(jd(et)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,et,tt,_e),nt=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(nt=!0),rt?nt!==void 0?_e.addEventListener(et,tt,{capture:!0,passive:nt}):_e.addEventListener(et,tt,!0):nt!==void 0?_e.addEventListener(et,tt,{passive:nt}):_e.addEventListener(et,tt,!1)}function hd(_e,et,tt,rt,nt){var ot=rt;if(!(et&1)&&!(et&2)&&rt!==null)e:for(;;){if(rt===null)return;var st=rt.tag;if(st===3||st===4){var at=rt.stateNode.containerInfo;if(at===nt||at.nodeType===8&&at.parentNode===nt)break;if(st===4)for(st=rt.return;st!==null;){var ct=st.tag;if((ct===3||ct===4)&&(ct=st.stateNode.containerInfo,ct===nt||ct.nodeType===8&&ct.parentNode===nt))return;st=st.return}for(;at!==null;){if(st=Wc(at),st===null)return;if(ct=st.tag,ct===5||ct===6){rt=ot=st;continue e}at=at.parentNode}}rt=rt.return}Jb(function(){var lt=ot,dt=xb(tt),ft=[];e:{var ht=df.get(_e);if(ht!==void 0){var pt=td,gt=_e;switch(_e){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":pt=Rd;break;case"focusin":gt="focus",pt=Fd;break;case"focusout":gt="blur",pt=Fd;break;case"beforeblur":case"afterblur":pt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Vd;break;case $e:case af:case bf:pt=Hd;break;case cf:pt=Xd;break;case"scroll":pt=vd;break;case"wheel":pt=Zd;break;case"copy":case"cut":case"paste":pt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Td}var mt=(et&4)!==0,vt=!mt&&_e==="scroll",yt=mt?ht!==null?ht+"Capture":null:ht;mt=[];for(var bt=lt,xt;bt!==null;){xt=bt;var wt=xt.stateNode;if(xt.tag===5&&wt!==null&&(xt=wt,yt!==null&&(wt=Kb(bt,yt),wt!=null&&mt.push(tf(bt,wt,xt)))),vt)break;bt=bt.return}0<mt.length&&(ht=new pt(ht,gt,null,tt,dt),ft.push({event:ht,listeners:mt}))}}if(!(et&7)){e:{if(ht=_e==="mouseover"||_e==="pointerover",pt=_e==="mouseout"||_e==="pointerout",ht&&tt!==wb&&(gt=tt.relatedTarget||tt.fromElement)&&(Wc(gt)||gt[uf]))break e;if((pt||ht)&&(ht=dt.window===dt?dt:(ht=dt.ownerDocument)?ht.defaultView||ht.parentWindow:window,pt?(gt=tt.relatedTarget||tt.toElement,pt=lt,gt=gt?Wc(gt):null,gt!==null&&(vt=Vb(gt),gt!==vt||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(pt=null,gt=lt),pt!==gt)){if(mt=Bd,wt="onMouseLeave",yt="onMouseEnter",bt="mouse",(_e==="pointerout"||_e==="pointerover")&&(mt=Td,wt="onPointerLeave",yt="onPointerEnter",bt="pointer"),vt=pt==null?ht:ue(pt),xt=gt==null?ht:ue(gt),ht=new mt(wt,bt+"leave",pt,tt,dt),ht.target=vt,ht.relatedTarget=xt,wt=null,Wc(dt)===lt&&(mt=new mt(yt,bt+"enter",gt,tt,dt),mt.target=xt,mt.relatedTarget=vt,wt=mt),vt=wt,pt&&gt)t:{for(mt=pt,yt=gt,bt=0,xt=mt;xt;xt=vf(xt))bt++;for(xt=0,wt=yt;wt;wt=vf(wt))xt++;for(;0<bt-xt;)mt=vf(mt),bt--;for(;0<xt-bt;)yt=vf(yt),xt--;for(;bt--;){if(mt===yt||yt!==null&&mt===yt.alternate)break t;mt=vf(mt),yt=vf(yt)}mt=null}else mt=null;pt!==null&&wf(ft,ht,pt,mt,!1),gt!==null&&vt!==null&&wf(ft,vt,gt,mt,!0)}}e:{if(ht=lt?ue(lt):window,pt=ht.nodeName&&ht.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ht.type==="file")var At=ve$1;else if(me$1(ht))if(we$1)At=Fe$1;else{At=De$1;var St=Ce$1}else(pt=ht.nodeName)&&pt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(At=Ee$1);if(At&&(At=At(_e,lt))){ne(ft,At,tt,dt);break e}St&&St(_e,ht,lt),_e==="focusout"&&(St=ht._wrapperState)&&St.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(St=lt?ue(lt):window,_e){case"focusin":(me$1(St)||St.contentEditable==="true")&&(Qe=St,Re$1=lt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ft,tt,dt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(ft,tt,dt)}var $t;if(ae)e:{switch(_e){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ie$1?ge$1(_e,tt)&&(kt="onCompositionEnd"):_e==="keydown"&&tt.keyCode===229&&(kt="onCompositionStart");kt&&(de$1&&tt.locale!=="ko"&&(ie$1||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie$1&&($t=nd()):(kd=dt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),St=oe(lt,kt),0<St.length&&(kt=new Ld(kt,_e,null,tt,dt),ft.push({event:kt,listeners:St}),$t?kt.data=$t:($t=he$1(tt),$t!==null&&(kt.data=$t)))),($t=ce$1?je(_e,tt):ke$1(_e,tt))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(dt=new Ld("onBeforeInput","beforeinput",null,tt,dt),ft.push({event:dt,listeners:lt}),dt.data=$t))}se$1(ft,et)})}function tf(_e,et,tt){return{instance:_e,listener:et,currentTarget:tt}}function oe(_e,et){for(var tt=et+"Capture",rt=[];_e!==null;){var nt=_e,ot=nt.stateNode;nt.tag===5&&ot!==null&&(nt=ot,ot=Kb(_e,tt),ot!=null&&rt.unshift(tf(_e,ot,nt)),ot=Kb(_e,et),ot!=null&&rt.push(tf(_e,ot,nt))),_e=_e.return}return rt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,et,tt,rt,nt){for(var ot=et._reactName,st=[];tt!==null&&tt!==rt;){var at=tt,ct=at.alternate,lt=at.stateNode;if(ct!==null&&ct===rt)break;at.tag===5&&lt!==null&&(at=lt,nt?(ct=Kb(tt,ot),ct!=null&&st.unshift(tf(tt,ct,at))):nt||(ct=Kb(tt,ot),ct!=null&&st.push(tf(tt,ct,at)))),tt=tt.return}st.length!==0&&_e.push({event:et,listeners:st})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,et,tt){if(et=zf(et),zf(_e)!==et&&tt)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,et){return _e==="textarea"||_e==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,et){var tt=et,rt=0;do{var nt=tt.nextSibling;if(_e.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){_e.removeChild(nt),bd(et);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(et)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var et=_e.nodeType;if(et===1||et===3)break;if(et===8){if(et=_e.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return _e;et--}else tt==="/$"&&et++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var et=_e[Of];if(et)return et;for(var tt=_e.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(_e=Mf(_e);_e!==null;){if(tt=_e[Of])return tt;_e=Mf(_e)}return et}_e=tt,tt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$1(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(_e,et){Tf++,Sf[Tf]=_e.current,_e.current=et}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,et){var tt=_e.type.contextTypes;if(!tt)return Vf;var rt=_e.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===et)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},ot;for(ot in tt)nt[ot]=et[ot];return rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=et,_e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(_e,et,tt){if(H$1.current!==Vf)throw Error(p$1(168));G(H$1,et),G(Wf,tt)}function bg(_e,et,tt){var rt=_e.stateNode;if(et=et.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in et))throw Error(p$1(108,Ra(_e)||"Unknown",nt));return A({},tt,rt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,_e),G(Wf,Wf.current),!0}function dg(_e,et,tt){var rt=_e.stateNode;if(!rt)throw Error(p$1(169));tt?(_e=bg(_e,et,Xf),rt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$1),G(H$1,_e)):E$1(Wf),G(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,et=C$1;try{var tt=eg;for(C$1=1;_e<tt.length;_e++){var rt=tt[_e];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),nt}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,et){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=et}function ug(_e,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var rt=rg;_e=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var ot=32-oc(et)+nt;if(30<ot){var st=nt-nt%5;ot=(rt&(1<<st)-1).toString(32),rt>>=st,nt-=st,rg=1<<32-oc(et)+nt|tt<<nt|rt,sg=ot+_e}else rg=1<<ot|tt<<nt|rt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(_e,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=_e,et=_e.deletions,et===null?(_e.deletions=[tt],_e.flags|=16):et.push(tt)}function Cg(_e,et){switch(_e.tag){case 5:var tt=_e.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=Lf(et.firstChild),!0):!1;case 6:return et=_e.pendingProps===""||et.nodeType!==3?null:et,et!==null?(_e.stateNode=et,xg=_e,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=_e,_e.child=tt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I){var et=yg;if(et){var tt=et;if(!Cg(_e,et)){if(Dg(_e))throw Error(p$1(418));et=Lf(tt.nextSibling);var rt=xg;et&&Cg(_e,et)?Ag(rt,tt):(_e.flags=_e.flags&-4097|2,I=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$1(418));_e.flags=_e.flags&-4097|2,I=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I)return Fg(_e),I=!0,!1;var et;if((et=_e.tag!==3)&&!(et=_e.tag!==5)&&(et=_e.type,et=et!=="head"&&et!=="body"&&!Ef(_e.type,_e.memoizedProps)),et&&(et=yg)){if(Dg(_e))throw Hg(),Error(p$1(418));for(;et;)Ag(_e,et),et=Lf(et.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$1(317));e:{for(_e=_e.nextSibling,et=0;_e;){if(_e.nodeType===8){var tt=_e.data;if(tt==="/$"){if(et===0){yg=Lf(_e.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,et,tt){if(_e=tt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$1(309));var rt=tt.stateNode}if(!rt)throw Error(p$1(147,_e));var nt=rt,ot=""+_e;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===ot?et.ref:(et=function(st){var at=nt.refs;st===null?delete at[ot]:at[ot]=st},et._stringRef=ot,et)}if(typeof _e!="string")throw Error(p$1(284));if(!tt._owner)throw Error(p$1(290,_e))}return _e}function Mg(_e,et){throw _e=Object.prototype.toString.call(et),Error(p$1(31,_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e))}function Ng(_e){var et=_e._init;return et(_e._payload)}function Og(_e){function et(yt,bt){if(_e){var xt=yt.deletions;xt===null?(yt.deletions=[bt],yt.flags|=16):xt.push(bt)}}function tt(yt,bt){if(!_e)return null;for(;bt!==null;)et(yt,bt),bt=bt.sibling;return null}function rt(yt,bt){for(yt=new Map;bt!==null;)bt.key!==null?yt.set(bt.key,bt):yt.set(bt.index,bt),bt=bt.sibling;return yt}function nt(yt,bt){return yt=Pg(yt,bt),yt.index=0,yt.sibling=null,yt}function ot(yt,bt,xt){return yt.index=xt,_e?(xt=yt.alternate,xt!==null?(xt=xt.index,xt<bt?(yt.flags|=2,bt):xt):(yt.flags|=2,bt)):(yt.flags|=1048576,bt)}function st(yt){return _e&&yt.alternate===null&&(yt.flags|=2),yt}function at(yt,bt,xt,wt){return bt===null||bt.tag!==6?(bt=Qg(xt,yt.mode,wt),bt.return=yt,bt):(bt=nt(bt,xt),bt.return=yt,bt)}function ct(yt,bt,xt,wt){var At=xt.type;return At===ya?dt(yt,bt,xt.props.children,wt,xt.key):bt!==null&&(bt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===bt.type)?(wt=nt(bt,xt.props),wt.ref=Lg(yt,bt,xt),wt.return=yt,wt):(wt=Rg(xt.type,xt.key,xt.props,null,yt.mode,wt),wt.ref=Lg(yt,bt,xt),wt.return=yt,wt)}function lt(yt,bt,xt,wt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==xt.containerInfo||bt.stateNode.implementation!==xt.implementation?(bt=Sg(xt,yt.mode,wt),bt.return=yt,bt):(bt=nt(bt,xt.children||[]),bt.return=yt,bt)}function dt(yt,bt,xt,wt,At){return bt===null||bt.tag!==7?(bt=Tg(xt,yt.mode,wt,At),bt.return=yt,bt):(bt=nt(bt,xt),bt.return=yt,bt)}function ft(yt,bt,xt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return bt=Qg(""+bt,yt.mode,xt),bt.return=yt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return xt=Rg(bt.type,bt.key,bt.props,null,yt.mode,xt),xt.ref=Lg(yt,null,bt),xt.return=yt,xt;case wa:return bt=Sg(bt,yt.mode,xt),bt.return=yt,bt;case Ha:var wt=bt._init;return ft(yt,wt(bt._payload),xt)}if(eb(bt)||Ka(bt))return bt=Tg(bt,yt.mode,xt,null),bt.return=yt,bt;Mg(yt,bt)}return null}function ht(yt,bt,xt,wt){var At=bt!==null?bt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return At!==null?null:at(yt,bt,""+xt,wt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return xt.key===At?ct(yt,bt,xt,wt):null;case wa:return xt.key===At?lt(yt,bt,xt,wt):null;case Ha:return At=xt._init,ht(yt,bt,At(xt._payload),wt)}if(eb(xt)||Ka(xt))return At!==null?null:dt(yt,bt,xt,wt,null);Mg(yt,xt)}return null}function pt(yt,bt,xt,wt,At){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return yt=yt.get(xt)||null,at(bt,yt,""+wt,At);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case va:return yt=yt.get(wt.key===null?xt:wt.key)||null,ct(bt,yt,wt,At);case wa:return yt=yt.get(wt.key===null?xt:wt.key)||null,lt(bt,yt,wt,At);case Ha:var St=wt._init;return pt(yt,bt,xt,St(wt._payload),At)}if(eb(wt)||Ka(wt))return yt=yt.get(xt)||null,dt(bt,yt,wt,At,null);Mg(bt,wt)}return null}function gt(yt,bt,xt,wt){for(var At=null,St=null,$t=bt,kt=bt=0,Ct=null;$t!==null&&kt<xt.length;kt++){$t.index>kt?(Ct=$t,$t=null):Ct=$t.sibling;var _t=ht(yt,$t,xt[kt],wt);if(_t===null){$t===null&&($t=Ct);break}_e&&$t&&_t.alternate===null&&et(yt,$t),bt=ot(_t,bt,kt),St===null?At=_t:St.sibling=_t,St=_t,$t=Ct}if(kt===xt.length)return tt(yt,$t),I&&tg(yt,kt),At;if($t===null){for(;kt<xt.length;kt++)$t=ft(yt,xt[kt],wt),$t!==null&&(bt=ot($t,bt,kt),St===null?At=$t:St.sibling=$t,St=$t);return I&&tg(yt,kt),At}for($t=rt(yt,$t);kt<xt.length;kt++)Ct=pt($t,yt,kt,xt[kt],wt),Ct!==null&&(_e&&Ct.alternate!==null&&$t.delete(Ct.key===null?kt:Ct.key),bt=ot(Ct,bt,kt),St===null?At=Ct:St.sibling=Ct,St=Ct);return _e&&$t.forEach(function(Tt){return et(yt,Tt)}),I&&tg(yt,kt),At}function mt(yt,bt,xt,wt){var At=Ka(xt);if(typeof At!="function")throw Error(p$1(150));if(xt=At.call(xt),xt==null)throw Error(p$1(151));for(var St=At=null,$t=bt,kt=bt=0,Ct=null,_t=xt.next();$t!==null&&!_t.done;kt++,_t=xt.next()){$t.index>kt?(Ct=$t,$t=null):Ct=$t.sibling;var Tt=ht(yt,$t,_t.value,wt);if(Tt===null){$t===null&&($t=Ct);break}_e&&$t&&Tt.alternate===null&&et(yt,$t),bt=ot(Tt,bt,kt),St===null?At=Tt:St.sibling=Tt,St=Tt,$t=Ct}if(_t.done)return tt(yt,$t),I&&tg(yt,kt),At;if($t===null){for(;!_t.done;kt++,_t=xt.next())_t=ft(yt,_t.value,wt),_t!==null&&(bt=ot(_t,bt,kt),St===null?At=_t:St.sibling=_t,St=_t);return I&&tg(yt,kt),At}for($t=rt(yt,$t);!_t.done;kt++,_t=xt.next())_t=pt($t,yt,kt,_t.value,wt),_t!==null&&(_e&&_t.alternate!==null&&$t.delete(_t.key===null?kt:_t.key),bt=ot(_t,bt,kt),St===null?At=_t:St.sibling=_t,St=_t);return _e&&$t.forEach(function(jt){return et(yt,jt)}),I&&tg(yt,kt),At}function vt(yt,bt,xt,wt){if(typeof xt=="object"&&xt!==null&&xt.type===ya&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:e:{for(var At=xt.key,St=bt;St!==null;){if(St.key===At){if(At=xt.type,At===ya){if(St.tag===7){tt(yt,St.sibling),bt=nt(St,xt.props.children),bt.return=yt,yt=bt;break e}}else if(St.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===St.type){tt(yt,St.sibling),bt=nt(St,xt.props),bt.ref=Lg(yt,St,xt),bt.return=yt,yt=bt;break e}tt(yt,St);break}else et(yt,St);St=St.sibling}xt.type===ya?(bt=Tg(xt.props.children,yt.mode,wt,xt.key),bt.return=yt,yt=bt):(wt=Rg(xt.type,xt.key,xt.props,null,yt.mode,wt),wt.ref=Lg(yt,bt,xt),wt.return=yt,yt=wt)}return st(yt);case wa:e:{for(St=xt.key;bt!==null;){if(bt.key===St)if(bt.tag===4&&bt.stateNode.containerInfo===xt.containerInfo&&bt.stateNode.implementation===xt.implementation){tt(yt,bt.sibling),bt=nt(bt,xt.children||[]),bt.return=yt,yt=bt;break e}else{tt(yt,bt);break}else et(yt,bt);bt=bt.sibling}bt=Sg(xt,yt.mode,wt),bt.return=yt,yt=bt}return st(yt);case Ha:return St=xt._init,vt(yt,bt,St(xt._payload),wt)}if(eb(xt))return gt(yt,bt,xt,wt);if(Ka(xt))return mt(yt,bt,xt,wt);Mg(yt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,bt!==null&&bt.tag===6?(tt(yt,bt.sibling),bt=nt(bt,xt),bt.return=yt,yt=bt):(tt(yt,bt),bt=Qg(xt,yt.mode,wt),bt.return=yt,yt=bt),st(yt)):tt(yt,bt)}return vt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var et=Wg.current;E$1(Wg),_e._currentValue=et}function bh(_e,et,tt){for(;_e!==null;){var rt=_e.alternate;if((_e.childLanes&et)!==et?(_e.childLanes|=et,rt!==null&&(rt.childLanes|=et)):rt!==null&&(rt.childLanes&et)!==et&&(rt.childLanes|=et),_e===tt)break;_e=_e.return}}function ch(_e,et){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&et&&(dh=!0),_e.firstContext=null)}function eh(_e){var et=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return et}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,et,tt,rt){var nt=et.interleaved;return nt===null?(tt.next=tt,gh(et)):(tt.next=nt.next,nt.next=tt),et.interleaved=tt,ih(_e,rt)}function ih(_e,et){_e.lanes|=et;var tt=_e.alternate;for(tt!==null&&(tt.lanes|=et),tt=_e,_e=_e.return;_e!==null;)_e.childLanes|=et,tt=_e.alternate,tt!==null&&(tt.childLanes|=et),tt=_e,_e=_e.return;return tt.tag===3?tt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,et){_e=_e.updateQueue,et.updateQueue===_e&&(et.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,et){return{eventTime:_e,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(_e,et,tt){var rt=_e.updateQueue;if(rt===null)return null;if(rt=rt.shared,K&2){var nt=rt.pending;return nt===null?et.next=et:(et.next=nt.next,nt.next=et),rt.pending=et,ih(_e,tt)}return nt=rt.interleaved,nt===null?(et.next=et,gh(rt)):(et.next=nt.next,nt.next=et),rt.interleaved=et,ih(_e,tt)}function oh(_e,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var rt=et.lanes;rt&=_e.pendingLanes,tt|=rt,et.lanes=tt,Cc(_e,tt)}}function ph(_e,et){var tt=_e.updateQueue,rt=_e.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,ot=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var st={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};ot===null?nt=ot=st:ot=ot.next=st,tt=tt.next}while(tt!==null);ot===null?nt=ot=et:ot=ot.next=et}else nt=ot=et;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:ot,shared:rt.shared,effects:rt.effects},_e.updateQueue=tt;return}_e=tt.lastBaseUpdate,_e===null?tt.firstBaseUpdate=et:_e.next=et,tt.lastBaseUpdate=et}function qh(_e,et,tt,rt){var nt=_e.updateQueue;jh=!1;var ot=nt.firstBaseUpdate,st=nt.lastBaseUpdate,at=nt.shared.pending;if(at!==null){nt.shared.pending=null;var ct=at,lt=ct.next;ct.next=null,st===null?ot=lt:st.next=lt,st=ct;var dt=_e.alternate;dt!==null&&(dt=dt.updateQueue,at=dt.lastBaseUpdate,at!==st&&(at===null?dt.firstBaseUpdate=lt:at.next=lt,dt.lastBaseUpdate=ct))}if(ot!==null){var ft=nt.baseState;st=0,dt=lt=ct=null,at=ot;do{var ht=at.lane,pt=at.eventTime;if((rt&ht)===ht){dt!==null&&(dt=dt.next={eventTime:pt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var gt=_e,mt=at;switch(ht=et,pt=tt,mt.tag){case 1:if(gt=mt.payload,typeof gt=="function"){ft=gt.call(pt,ft,ht);break e}ft=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=mt.payload,ht=typeof gt=="function"?gt.call(pt,ft,ht):gt,ht==null)break e;ft=A({},ft,ht);break e;case 2:jh=!0}}at.callback!==null&&at.lane!==0&&(_e.flags|=64,ht=nt.effects,ht===null?nt.effects=[at]:ht.push(at))}else pt={eventTime:pt,lane:ht,tag:at.tag,payload:at.payload,callback:at.callback,next:null},dt===null?(lt=dt=pt,ct=ft):dt=dt.next=pt,st|=ht;if(at=at.next,at===null){if(at=nt.shared.pending,at===null)break;ht=at,at=ht.next,ht.next=null,nt.lastBaseUpdate=ht,nt.shared.pending=null}}while(!0);if(dt===null&&(ct=ft),nt.baseState=ct,nt.firstBaseUpdate=lt,nt.lastBaseUpdate=dt,et=nt.shared.interleaved,et!==null){nt=et;do st|=nt.lane,nt=nt.next;while(nt!==et)}else ot===null&&(nt.shared.lanes=0);rh|=st,_e.lanes=st,_e.memoizedState=ft}}function sh(_e,et,tt){if(_e=et.effects,et.effects=null,_e!==null)for(et=0;et<_e.length;et++){var rt=_e[et],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$1(191,nt));nt.call(rt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$1(174));return _e}function yh(_e,et){switch(G(wh,et),G(vh,_e),G(uh,th),_e=et.nodeType,_e){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:_e=_e===8?et.parentNode:et,et=_e.namespaceURI||null,_e=_e.tagName,et=lb(et,_e)}E$1(uh),G(uh,et)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(_e){xh(wh.current);var et=xh(uh.current),tt=lb(et,_e.type);et!==tt&&(G(vh,_e),G(uh,tt))}function Bh(_e){vh.current===_e&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(_e){for(var et=_e;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$1(321))}function Mh(_e,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<_e.length;tt++)if(!He(_e[tt],et[tt]))return!1;return!0}function Nh(_e,et,tt,rt,nt,ot){if(Hh=ot,M=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=tt(rt,nt),Jh){ot=0;do{if(Jh=!1,Kh=0,25<=ot)throw Error(p$1(301));ot+=1,O=N$1=null,et.updateQueue=null,Fh.current=Qh,_e=tt(rt,nt)}while(Jh)}if(Fh.current=Rh,et=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M=null,Ih=!1,et)throw Error(p$1(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=_e:O=O.next=_e,O}function Uh(){if(N$1===null){var _e=M.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$1.next;var et=O===null?M.memoizedState:O.next;if(et!==null)O=et,N$1=_e;else{if(_e===null)throw Error(p$1(310));N$1=_e,_e={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M.memoizedState=O=_e:O=O.next=_e}return O}function Vh(_e,et){return typeof et=="function"?et(_e):et}function Wh(_e){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$1(311));tt.lastRenderedReducer=_e;var rt=N$1,nt=rt.baseQueue,ot=tt.pending;if(ot!==null){if(nt!==null){var st=nt.next;nt.next=ot.next,ot.next=st}rt.baseQueue=nt=ot,tt.pending=null}if(nt!==null){ot=nt.next,rt=rt.baseState;var at=st=null,ct=null,lt=ot;do{var dt=lt.lane;if((Hh&dt)===dt)ct!==null&&(ct=ct.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),rt=lt.hasEagerState?lt.eagerState:_e(rt,lt.action);else{var ft={lane:dt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};ct===null?(at=ct=ft,st=rt):ct=ct.next=ft,M.lanes|=dt,rh|=dt}lt=lt.next}while(lt!==null&&lt!==ot);ct===null?st=rt:ct.next=at,He(rt,et.memoizedState)||(dh=!0),et.memoizedState=rt,et.baseState=st,et.baseQueue=ct,tt.lastRenderedState=rt}if(_e=tt.interleaved,_e!==null){nt=_e;do ot=nt.lane,M.lanes|=ot,rh|=ot,nt=nt.next;while(nt!==_e)}else nt===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function Xh(_e){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$1(311));tt.lastRenderedReducer=_e;var rt=tt.dispatch,nt=tt.pending,ot=et.memoizedState;if(nt!==null){tt.pending=null;var st=nt=nt.next;do ot=_e(ot,st.action),st=st.next;while(st!==nt);He(ot,et.memoizedState)||(dh=!0),et.memoizedState=ot,et.baseQueue===null&&(et.baseState=ot),tt.lastRenderedState=ot}return[ot,rt]}function Yh(){}function Zh(_e,et){var tt=M,rt=Uh(),nt=et(),ot=!He(rt.memoizedState,nt);if(ot&&(rt.memoizedState=nt,dh=!0),rt=rt.queue,$h(ai.bind(null,tt,rt,_e),[_e]),rt.getSnapshot!==et||ot||O!==null&&O.memoizedState.tag&1){if(tt.flags|=2048,bi(9,ci.bind(null,tt,rt,nt,et),void 0,null),Q$1===null)throw Error(p$1(349));Hh&30||di(tt,et,nt)}return nt}function di(_e,et,tt){_e.flags|=16384,_e={getSnapshot:et,value:tt},et=M.updateQueue,et===null?(et={lastEffect:null,stores:null},M.updateQueue=et,et.stores=[_e]):(tt=et.stores,tt===null?et.stores=[_e]:tt.push(_e))}function ci(_e,et,tt,rt){et.value=tt,et.getSnapshot=rt,ei(et)&&fi(_e)}function ai(_e,et,tt){return tt(function(){ei(et)&&fi(_e)})}function ei(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!He(_e,tt)}catch{return!0}}function fi(_e){var et=ih(_e,1);et!==null&&gi(et,_e,1,-1)}function hi(_e){var et=Th();return typeof _e=="function"&&(_e=_e()),et.memoizedState=et.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},et.queue=_e,_e=_e.dispatch=ii.bind(null,M,_e),[et.memoizedState,_e]}function bi(_e,et,tt,rt){return _e={tag:_e,create:et,destroy:tt,deps:rt,next:null},et=M.updateQueue,et===null?(et={lastEffect:null,stores:null},M.updateQueue=et,et.lastEffect=_e.next=_e):(tt=et.lastEffect,tt===null?et.lastEffect=_e.next=_e:(rt=tt.next,tt.next=_e,_e.next=rt,et.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,et,tt,rt){var nt=Th();M.flags|=_e,nt.memoizedState=bi(1|et,tt,void 0,rt===void 0?null:rt)}function li$2(_e,et,tt,rt){var nt=Uh();rt=rt===void 0?null:rt;var ot=void 0;if(N$1!==null){var st=N$1.memoizedState;if(ot=st.destroy,rt!==null&&Mh(rt,st.deps)){nt.memoizedState=bi(et,tt,ot,rt);return}}M.flags|=_e,nt.memoizedState=bi(1|et,tt,ot,rt)}function mi(_e,et){return ki(8390656,8,_e,et)}function $h(_e,et){return li$2(2048,8,_e,et)}function ni(_e,et){return li$2(4,2,_e,et)}function oi(_e,et){return li$2(4,4,_e,et)}function pi$1(_e,et){if(typeof et=="function")return _e=_e(),et(_e),function(){et(null)};if(et!=null)return _e=_e(),et.current=_e,function(){et.current=null}}function qi(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,li$2(4,4,pi$1.bind(null,et,_e),tt)}function ri(){}function si(_e,et){var tt=Uh();et=et===void 0?null:et;var rt=tt.memoizedState;return rt!==null&&et!==null&&Mh(et,rt[1])?rt[0]:(tt.memoizedState=[_e,et],_e)}function ti(_e,et){var tt=Uh();et=et===void 0?null:et;var rt=tt.memoizedState;return rt!==null&&et!==null&&Mh(et,rt[1])?rt[0]:(_e=_e(),tt.memoizedState=[_e,et],_e)}function ui(_e,et,tt){return Hh&21?(He(tt,et)||(tt=yc(),M.lanes|=tt,rh|=tt,_e.baseState=!0),et):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=tt)}function vi(_e,et){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,_e(!0);var rt=Gh.transition;Gh.transition={};try{_e(!1),et()}finally{C$1=tt,Gh.transition=rt}}function wi(){return Uh().memoizedState}function xi(_e,et,tt){var rt=yi(_e);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(et,tt);else if(tt=hh(_e,et,tt,rt),tt!==null){var nt=R();gi(tt,_e,rt,nt),Bi(tt,et,rt)}}function ii(_e,et,tt){var rt=yi(_e),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(et,nt);else{var ot=_e.alternate;if(_e.lanes===0&&(ot===null||ot.lanes===0)&&(ot=et.lastRenderedReducer,ot!==null))try{var st=et.lastRenderedState,at=ot(st,tt);if(nt.hasEagerState=!0,nt.eagerState=at,He(at,st)){var ct=et.interleaved;ct===null?(nt.next=nt,gh(et)):(nt.next=ct.next,ct.next=nt),et.interleaved=nt;return}}catch{}finally{}tt=hh(_e,et,nt,rt),tt!==null&&(nt=R(),gi(tt,_e,rt,nt),Bi(tt,et,rt))}}function zi(_e){var et=_e.alternate;return _e===M||et!==null&&et===M}function Ai(_e,et){Jh=Ih=!0;var tt=_e.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),_e.pending=et}function Bi(_e,et,tt){if(tt&4194240){var rt=et.lanes;rt&=_e.pendingLanes,tt|=rt,et.lanes=tt,Cc(_e,tt)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,et){return Th().memoizedState=[_e,et===void 0?null:et],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,et,tt){return tt=tt!=null?tt.concat([_e]):null,ki(4194308,4,pi$1.bind(null,et,_e),tt)},useLayoutEffect:function(_e,et){return ki(4194308,4,_e,et)},useInsertionEffect:function(_e,et){return ki(4,2,_e,et)},useMemo:function(_e,et){var tt=Th();return et=et===void 0?null:et,_e=_e(),tt.memoizedState=[_e,et],_e},useReducer:function(_e,et,tt){var rt=Th();return et=tt!==void 0?tt(et):et,rt.memoizedState=rt.baseState=et,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:et},rt.queue=_e,_e=_e.dispatch=xi.bind(null,M,_e),[rt.memoizedState,_e]},useRef:function(_e){var et=Th();return _e={current:_e},et.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),et=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[et,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,et,tt){var rt=M,nt=Th();if(I){if(tt===void 0)throw Error(p$1(407));tt=tt()}else{if(tt=et(),Q$1===null)throw Error(p$1(349));Hh&30||di(rt,et,tt)}nt.memoizedState=tt;var ot={value:tt,getSnapshot:et};return nt.queue=ot,mi(ai.bind(null,rt,ot,_e),[_e]),rt.flags|=2048,bi(9,ci.bind(null,rt,ot,tt,et),void 0,null),tt},useId:function(){var _e=Th(),et=Q$1.identifierPrefix;if(I){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Kh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Lh++,et=":"+et+"r"+tt.toString(32)+":";return _e.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return ui(et,N$1.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var et=Uh();return N$1===null?et.memoizedState=_e:ui(et,N$1.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],et=Uh().memoizedState;return[_e,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,et){if(_e&&_e.defaultProps){et=A({},et),_e=_e.defaultProps;for(var tt in _e)et[tt]===void 0&&(et[tt]=_e[tt]);return et}return et}function Di(_e,et,tt,rt){et=_e.memoizedState,tt=tt(rt,et),tt=tt==null?et:A({},et,tt),_e.memoizedState=tt,_e.lanes===0&&(_e.updateQueue.baseState=tt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,et,tt){_e=_e._reactInternals;var rt=R(),nt=yi(_e),ot=mh(rt,nt);ot.payload=et,tt!=null&&(ot.callback=tt),et=nh(_e,ot,nt),et!==null&&(gi(et,_e,nt,rt),oh(et,_e,nt))},enqueueReplaceState:function(_e,et,tt){_e=_e._reactInternals;var rt=R(),nt=yi(_e),ot=mh(rt,nt);ot.tag=1,ot.payload=et,tt!=null&&(ot.callback=tt),et=nh(_e,ot,nt),et!==null&&(gi(et,_e,nt,rt),oh(et,_e,nt))},enqueueForceUpdate:function(_e,et){_e=_e._reactInternals;var tt=R(),rt=yi(_e),nt=mh(tt,rt);nt.tag=2,et!=null&&(nt.callback=et),et=nh(_e,nt,rt),et!==null&&(gi(et,_e,rt,tt),oh(et,_e,rt))}};function Fi(_e,et,tt,rt,nt,ot,st){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(rt,ot,st):et.prototype&&et.prototype.isPureReactComponent?!Ie$1(tt,rt)||!Ie$1(nt,ot):!0}function Gi(_e,et,tt){var rt=!1,nt=Vf,ot=et.contextType;return typeof ot=="object"&&ot!==null?ot=eh(ot):(nt=Zf(et)?Xf:H$1.current,rt=et.contextTypes,ot=(rt=rt!=null)?Yf(_e,nt):Vf),et=new et(tt,ot),_e.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,_e.stateNode=et,et._reactInternals=_e,rt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=nt,_e.__reactInternalMemoizedMaskedChildContext=ot),et}function Hi(_e,et,tt,rt){_e=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,rt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,rt),et.state!==_e&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(_e,et,tt,rt){var nt=_e.stateNode;nt.props=tt,nt.state=_e.memoizedState,nt.refs={},kh(_e);var ot=et.contextType;typeof ot=="object"&&ot!==null?nt.context=eh(ot):(ot=Zf(et)?Xf:H$1.current,nt.context=Yf(_e,ot)),nt.state=_e.memoizedState,ot=et.getDerivedStateFromProps,typeof ot=="function"&&(Di(_e,et,ot,tt),nt.state=_e.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(et=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),et!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh(_e,tt,nt,rt),nt.state=_e.memoizedState),typeof nt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,et){try{var tt="",rt=et;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(ot){nt=`
Error generating stack: `+ot.message+`
`+ot.stack}return{value:_e,source:et,stack:nt,digest:null}}function Ki(_e,et,tt){return{value:_e,source:null,stack:tt??null,digest:et??null}}function Li(_e,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,et,tt){tt=mh(-1,tt),tt.tag=3,tt.payload={element:null};var rt=et.value;return tt.callback=function(){Oi||(Oi=!0,Pi=rt),Li(_e,et)},tt}function Qi(_e,et,tt){tt=mh(-1,tt),tt.tag=3;var rt=_e.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=et.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Li(_e,et)}}var ot=_e.stateNode;return ot!==null&&typeof ot.componentDidCatch=="function"&&(tt.callback=function(){Li(_e,et),typeof rt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var st=et.stack;this.componentDidCatch(et.value,{componentStack:st!==null?st:""})}),tt}function Si(_e,et,tt){var rt=_e.pingCache;if(rt===null){rt=_e.pingCache=new Mi;var nt=new Set;rt.set(et,nt)}else nt=rt.get(et),nt===void 0&&(nt=new Set,rt.set(et,nt));nt.has(tt)||(nt.add(tt),_e=Ti.bind(null,_e,et,tt),et.then(_e,_e))}function Ui(_e){do{var et;if((et=_e.tag===13)&&(et=_e.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,et,tt,rt,nt){return _e.mode&1?(_e.flags|=65536,_e.lanes=nt,_e):(_e===et?_e.flags|=65536:(_e.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=mh(-1,1),et.tag=2,nh(tt,et,1))),tt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,et,tt,rt){et.child=_e===null?Vg(et,null,tt,rt):Ug(et,_e.child,tt,rt)}function Yi(_e,et,tt,rt,nt){tt=tt.render;var ot=et.ref;return ch(et,nt),rt=Nh(_e,et,tt,rt,ot,nt),tt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~nt,Zi(_e,et,nt)):(I&&tt&&vg(et),et.flags|=1,Xi(_e,et,rt,nt),et.child)}function $i(_e,et,tt,rt,nt){if(_e===null){var ot=tt.type;return typeof ot=="function"&&!aj(ot)&&ot.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=ot,bj(_e,et,ot,rt,nt)):(_e=Rg(tt.type,null,rt,et,et.mode,nt),_e.ref=et.ref,_e.return=et,et.child=_e)}if(ot=_e.child,!(_e.lanes&nt)){var st=ot.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie$1,tt(st,rt)&&_e.ref===et.ref)return Zi(_e,et,nt)}return et.flags|=1,_e=Pg(ot,rt),_e.ref=et.ref,_e.return=et,et.child=_e}function bj(_e,et,tt,rt,nt){if(_e!==null){var ot=_e.memoizedProps;if(Ie$1(ot,rt)&&_e.ref===et.ref)if(dh=!1,et.pendingProps=rt=ot,(_e.lanes&nt)!==0)_e.flags&131072&&(dh=!0);else return et.lanes=_e.lanes,Zi(_e,et,nt)}return cj(_e,et,tt,rt,nt)}function dj(_e,et,tt){var rt=et.pendingProps,nt=rt.children,ot=_e!==null?_e.memoizedState:null;if(rt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=tt;else{if(!(tt&1073741824))return _e=ot!==null?ot.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:_e,cachePool:null,transitions:null},et.updateQueue=null,G(ej,fj),fj|=_e,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=ot!==null?ot.baseLanes:tt,G(ej,fj),fj|=rt}else ot!==null?(rt=ot.baseLanes|tt,et.memoizedState=null):rt=tt,G(ej,fj),fj|=rt;return Xi(_e,et,nt,tt),et.child}function gj(_e,et){var tt=et.ref;(_e===null&&tt!==null||_e!==null&&_e.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function cj(_e,et,tt,rt,nt){var ot=Zf(tt)?Xf:H$1.current;return ot=Yf(et,ot),ch(et,nt),tt=Nh(_e,et,tt,rt,ot,nt),rt=Sh(),_e!==null&&!dh?(et.updateQueue=_e.updateQueue,et.flags&=-2053,_e.lanes&=~nt,Zi(_e,et,nt)):(I&&rt&&vg(et),et.flags|=1,Xi(_e,et,tt,nt),et.child)}function hj(_e,et,tt,rt,nt){if(Zf(tt)){var ot=!0;cg(et)}else ot=!1;if(ch(et,nt),et.stateNode===null)ij(_e,et),Gi(et,tt,rt),Ii(et,tt,rt,nt),rt=!0;else if(_e===null){var st=et.stateNode,at=et.memoizedProps;st.props=at;var ct=st.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(tt)?Xf:H$1.current,lt=Yf(et,lt));var dt=tt.getDerivedStateFromProps,ft=typeof dt=="function"||typeof st.getSnapshotBeforeUpdate=="function";ft||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(at!==rt||ct!==lt)&&Hi(et,st,rt,lt),jh=!1;var ht=et.memoizedState;st.state=ht,qh(et,rt,st,nt),ct=et.memoizedState,at!==rt||ht!==ct||Wf.current||jh?(typeof dt=="function"&&(Di(et,tt,dt,rt),ct=et.memoizedState),(at=jh||Fi(et,tt,at,rt,ht,ct,lt))?(ft||typeof st.UNSAFE_componentWillMount!="function"&&typeof st.componentWillMount!="function"||(typeof st.componentWillMount=="function"&&st.componentWillMount(),typeof st.UNSAFE_componentWillMount=="function"&&st.UNSAFE_componentWillMount()),typeof st.componentDidMount=="function"&&(et.flags|=4194308)):(typeof st.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=rt,et.memoizedState=ct),st.props=rt,st.state=ct,st.context=lt,rt=at):(typeof st.componentDidMount=="function"&&(et.flags|=4194308),rt=!1)}else{st=et.stateNode,lh(_e,et),at=et.memoizedProps,lt=et.type===et.elementType?at:Ci(et.type,at),st.props=lt,ft=et.pendingProps,ht=st.context,ct=tt.contextType,typeof ct=="object"&&ct!==null?ct=eh(ct):(ct=Zf(tt)?Xf:H$1.current,ct=Yf(et,ct));var pt=tt.getDerivedStateFromProps;(dt=typeof pt=="function"||typeof st.getSnapshotBeforeUpdate=="function")||typeof st.UNSAFE_componentWillReceiveProps!="function"&&typeof st.componentWillReceiveProps!="function"||(at!==ft||ht!==ct)&&Hi(et,st,rt,ct),jh=!1,ht=et.memoizedState,st.state=ht,qh(et,rt,st,nt);var gt=et.memoizedState;at!==ft||ht!==gt||Wf.current||jh?(typeof pt=="function"&&(Di(et,tt,pt,rt),gt=et.memoizedState),(lt=jh||Fi(et,tt,lt,rt,ht,gt,ct)||!1)?(dt||typeof st.UNSAFE_componentWillUpdate!="function"&&typeof st.componentWillUpdate!="function"||(typeof st.componentWillUpdate=="function"&&st.componentWillUpdate(rt,gt,ct),typeof st.UNSAFE_componentWillUpdate=="function"&&st.UNSAFE_componentWillUpdate(rt,gt,ct)),typeof st.componentDidUpdate=="function"&&(et.flags|=4),typeof st.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof st.componentDidUpdate!="function"||at===_e.memoizedProps&&ht===_e.memoizedState||(et.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ht===_e.memoizedState||(et.flags|=1024),et.memoizedProps=rt,et.memoizedState=gt),st.props=rt,st.state=gt,st.context=ct,rt=lt):(typeof st.componentDidUpdate!="function"||at===_e.memoizedProps&&ht===_e.memoizedState||(et.flags|=4),typeof st.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ht===_e.memoizedState||(et.flags|=1024),rt=!1)}return jj(_e,et,tt,rt,ot,nt)}function jj(_e,et,tt,rt,nt,ot){gj(_e,et);var st=(et.flags&128)!==0;if(!rt&&!st)return nt&&dg(et,tt,!1),Zi(_e,et,ot);rt=et.stateNode,Wi.current=et;var at=st&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return et.flags|=1,_e!==null&&st?(et.child=Ug(et,_e.child,null,ot),et.child=Ug(et,null,at,ot)):Xi(_e,et,at,ot),et.memoizedState=rt.state,nt&&dg(et,tt,!0),et.child}function kj(_e){var et=_e.stateNode;et.pendingContext?ag(_e,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(_e,et.context,!1),yh(_e,et.containerInfo)}function lj(_e,et,tt,rt,nt){return Ig(),Jg(nt),et.flags|=256,Xi(_e,et,tt,rt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,et,tt){var rt=et.pendingProps,nt=L$1.current,ot=!1,st=(et.flags&128)!==0,at;if((at=st)||(at=_e!==null&&_e.memoizedState===null?!1:(nt&2)!==0),at?(ot=!0,et.flags&=-129):(_e===null||_e.memoizedState!==null)&&(nt|=1),G(L$1,nt&1),_e===null)return Eg(et),_e=et.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(et.mode&1?_e.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(st=rt.children,_e=rt.fallback,ot?(rt=et.mode,ot=et.child,st={mode:"hidden",children:st},!(rt&1)&&ot!==null?(ot.childLanes=0,ot.pendingProps=st):ot=pj(st,rt,0,null),_e=Tg(_e,rt,tt,null),ot.return=et,_e.return=et,ot.sibling=_e,et.child=ot,et.child.memoizedState=nj(tt),et.memoizedState=mj,_e):qj(et,st));if(nt=_e.memoizedState,nt!==null&&(at=nt.dehydrated,at!==null))return rj(_e,et,st,rt,at,nt,tt);if(ot){ot=rt.fallback,st=et.mode,nt=_e.child,at=nt.sibling;var ct={mode:"hidden",children:rt.children};return!(st&1)&&et.child!==nt?(rt=et.child,rt.childLanes=0,rt.pendingProps=ct,et.deletions=null):(rt=Pg(nt,ct),rt.subtreeFlags=nt.subtreeFlags&14680064),at!==null?ot=Pg(at,ot):(ot=Tg(ot,st,tt,null),ot.flags|=2),ot.return=et,rt.return=et,rt.sibling=ot,et.child=rt,rt=ot,ot=et.child,st=_e.child.memoizedState,st=st===null?nj(tt):{baseLanes:st.baseLanes|tt,cachePool:null,transitions:st.transitions},ot.memoizedState=st,ot.childLanes=_e.childLanes&~tt,et.memoizedState=mj,rt}return ot=_e.child,_e=ot.sibling,rt=Pg(ot,{mode:"visible",children:rt.children}),!(et.mode&1)&&(rt.lanes=tt),rt.return=et,rt.sibling=null,_e!==null&&(tt=et.deletions,tt===null?(et.deletions=[_e],et.flags|=16):tt.push(_e)),et.child=rt,et.memoizedState=null,rt}function qj(_e,et){return et=pj({mode:"visible",children:et},_e.mode,0,null),et.return=_e,_e.child=et}function sj(_e,et,tt,rt){return rt!==null&&Jg(rt),Ug(et,_e.child,null,tt),_e=qj(et,et.pendingProps.children),_e.flags|=2,et.memoizedState=null,_e}function rj(_e,et,tt,rt,nt,ot,st){if(tt)return et.flags&256?(et.flags&=-257,rt=Ki(Error(p$1(422))),sj(_e,et,st,rt)):et.memoizedState!==null?(et.child=_e.child,et.flags|=128,null):(ot=rt.fallback,nt=et.mode,rt=pj({mode:"visible",children:rt.children},nt,0,null),ot=Tg(ot,nt,st,null),ot.flags|=2,rt.return=et,ot.return=et,rt.sibling=ot,et.child=rt,et.mode&1&&Ug(et,_e.child,null,st),et.child.memoizedState=nj(st),et.memoizedState=mj,ot);if(!(et.mode&1))return sj(_e,et,st,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var at=rt.dgst;return rt=at,ot=Error(p$1(419)),rt=Ki(ot,rt,void 0),sj(_e,et,st,rt)}if(at=(st&_e.childLanes)!==0,dh||at){if(rt=Q$1,rt!==null){switch(st&-st){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(rt.suspendedLanes|st)?0:nt,nt!==0&&nt!==ot.retryLane&&(ot.retryLane=nt,ih(_e,nt),gi(rt,_e,nt,-1))}return tj(),rt=Ki(Error(p$1(421))),sj(_e,et,st,rt)}return nt.data==="$?"?(et.flags|=128,et.child=_e.child,et=uj.bind(null,_e),nt._reactRetry=et,null):(_e=ot.treeContext,yg=Lf(nt.nextSibling),xg=et,I=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=et),et=qj(et,rt.children),et.flags|=4096,et)}function vj(_e,et,tt){_e.lanes|=et;var rt=_e.alternate;rt!==null&&(rt.lanes|=et),bh(_e.return,et,tt)}function wj(_e,et,tt,rt,nt){var ot=_e.memoizedState;ot===null?_e.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(ot.isBackwards=et,ot.rendering=null,ot.renderingStartTime=0,ot.last=rt,ot.tail=tt,ot.tailMode=nt)}function xj(_e,et,tt){var rt=et.pendingProps,nt=rt.revealOrder,ot=rt.tail;if(Xi(_e,et,rt.children,tt),rt=L$1.current,rt&2)rt=rt&1|2,et.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=et.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,tt,et);else if(_e.tag===19)vj(_e,tt,et);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}rt&=1}if(G(L$1,rt),!(et.mode&1))et.memoizedState=null;else switch(nt){case"forwards":for(tt=et.child,nt=null;tt!==null;)_e=tt.alternate,_e!==null&&Ch(_e)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=et.child,et.child=null):(nt=tt.sibling,tt.sibling=null),wj(et,!1,nt,tt,ot);break;case"backwards":for(tt=null,nt=et.child,et.child=null;nt!==null;){if(_e=nt.alternate,_e!==null&&Ch(_e)===null){et.child=nt;break}_e=nt.sibling,nt.sibling=tt,tt=nt,nt=_e}wj(et,!0,tt,null,ot);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(_e,et){!(et.mode&1)&&_e!==null&&(_e.alternate=null,et.alternate=null,et.flags|=2)}function Zi(_e,et,tt){if(_e!==null&&(et.dependencies=_e.dependencies),rh|=et.lanes,!(tt&et.childLanes))return null;if(_e!==null&&et.child!==_e.child)throw Error(p$1(153));if(et.child!==null){for(_e=et.child,tt=Pg(_e,_e.pendingProps),et.child=tt,tt.return=et;_e.sibling!==null;)_e=_e.sibling,tt=tt.sibling=Pg(_e,_e.pendingProps),tt.return=et;tt.sibling=null}return et.child}function yj(_e,et,tt){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var rt=et.type._context,nt=et.memoizedProps.value;G(Wg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=et.memoizedState,rt!==null)return rt.dehydrated!==null?(G(L$1,L$1.current&1),et.flags|=128,null):tt&et.child.childLanes?oj(_e,et,tt):(G(L$1,L$1.current&1),_e=Zi(_e,et,tt),_e!==null?_e.sibling:null);G(L$1,L$1.current&1);break;case 19:if(rt=(tt&et.childLanes)!==0,_e.flags&128){if(rt)return xj(_e,et,tt);et.flags|=128}if(nt=et.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(L$1,L$1.current),rt)break;return null;case 22:case 23:return et.lanes=0,dj(_e,et,tt)}return Zi(_e,et,tt)}var zj,Aj,Bj,Cj;zj=function(_e,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)_e.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Aj=function(){};Bj=function(_e,et,tt,rt){var nt=_e.memoizedProps;if(nt!==rt){_e=et.stateNode,xh(uh.current);var ot=null;switch(tt){case"input":nt=Ya(_e,nt),rt=Ya(_e,rt),ot=[];break;case"select":nt=A({},nt,{value:void 0}),rt=A({},rt,{value:void 0}),ot=[];break;case"textarea":nt=gb(_e,nt),rt=gb(_e,rt),ot=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(_e.onclick=Bf)}ub(tt,rt);var st;tt=null;for(lt in nt)if(!rt.hasOwnProperty(lt)&&nt.hasOwnProperty(lt)&&nt[lt]!=null)if(lt==="style"){var at=nt[lt];for(st in at)at.hasOwnProperty(st)&&(tt||(tt={}),tt[st]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?ot||(ot=[]):(ot=ot||[]).push(lt,null));for(lt in rt){var ct=rt[lt];if(at=nt!=null?nt[lt]:void 0,rt.hasOwnProperty(lt)&&ct!==at&&(ct!=null||at!=null))if(lt==="style")if(at){for(st in at)!at.hasOwnProperty(st)||ct&&ct.hasOwnProperty(st)||(tt||(tt={}),tt[st]="");for(st in ct)ct.hasOwnProperty(st)&&at[st]!==ct[st]&&(tt||(tt={}),tt[st]=ct[st])}else tt||(ot||(ot=[]),ot.push(lt,tt)),tt=ct;else lt==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,at=at?at.__html:void 0,ct!=null&&at!==ct&&(ot=ot||[]).push(lt,ct)):lt==="children"?typeof ct!="string"&&typeof ct!="number"||(ot=ot||[]).push(lt,""+ct):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(ct!=null&&lt==="onScroll"&&D$1("scroll",_e),ot||at===ct||(ot=[])):(ot=ot||[]).push(lt,ct))}tt&&(ot=ot||[]).push("style",tt);var lt=ot;(et.updateQueue=lt)&&(et.flags|=4)}};Cj=function(_e,et,tt,rt){tt!==rt&&(et.flags|=4)};function Dj(_e,et){if(!I)switch(_e.tailMode){case"hidden":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e.tail=null:tt.sibling=null;break;case"collapsed":tt=_e.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?et||_e.tail===null?_e.tail=null:_e.tail.sibling=null:rt.sibling=null}}function S$1(_e){var et=_e.alternate!==null&&_e.alternate.child===_e.child,tt=0,rt=0;if(et)for(var nt=_e.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=_e,nt=nt.sibling;else for(nt=_e.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=_e,nt=nt.sibling;return _e.subtreeFlags|=rt,_e.childLanes=tt,et}function Ej(_e,et,tt){var rt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(et),null;case 1:return Zf(et.type)&&$f(),S$1(et),null;case 3:return rt=et.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(et)?et.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,et),S$1(et),null;case 5:Bh(et);var nt=xh(wh.current);if(tt=et.type,_e!==null&&et.stateNode!=null)Bj(_e,et,tt,rt,nt),_e.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!rt){if(et.stateNode===null)throw Error(p$1(166));return S$1(et),null}if(_e=xh(uh.current),Gg(et)){rt=et.stateNode,tt=et.type;var ot=et.memoizedProps;switch(rt[Of]=et,rt[Pf]=ot,_e=(et.mode&1)!==0,tt){case"dialog":D$1("cancel",rt),D$1("close",rt);break;case"iframe":case"object":case"embed":D$1("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],rt);break;case"source":D$1("error",rt);break;case"img":case"image":case"link":D$1("error",rt),D$1("load",rt);break;case"details":D$1("toggle",rt);break;case"input":Za(rt,ot),D$1("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!ot.multiple},D$1("invalid",rt);break;case"textarea":hb(rt,ot),D$1("invalid",rt)}ub(tt,ot),nt=null;for(var st in ot)if(ot.hasOwnProperty(st)){var at=ot[st];st==="children"?typeof at=="string"?rt.textContent!==at&&(ot.suppressHydrationWarning!==!0&&Af(rt.textContent,at,_e),nt=["children",at]):typeof at=="number"&&rt.textContent!==""+at&&(ot.suppressHydrationWarning!==!0&&Af(rt.textContent,at,_e),nt=["children",""+at]):ea.hasOwnProperty(st)&&at!=null&&st==="onScroll"&&D$1("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,ot,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof ot.onClick=="function"&&(rt.onclick=Bf)}rt=nt,et.updateQueue=rt,rt!==null&&(et.flags|=4)}else{st=nt.nodeType===9?nt:nt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(tt)),_e==="http://www.w3.org/1999/xhtml"?tt==="script"?(_e=st.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof rt.is=="string"?_e=st.createElement(tt,{is:rt.is}):(_e=st.createElement(tt),tt==="select"&&(st=_e,rt.multiple?st.multiple=!0:rt.size&&(st.size=rt.size))):_e=st.createElementNS(_e,tt),_e[Of]=et,_e[Pf]=rt,zj(_e,et,!1,!1),et.stateNode=_e;e:{switch(st=vb(tt,rt),tt){case"dialog":D$1("cancel",_e),D$1("close",_e),nt=rt;break;case"iframe":case"object":case"embed":D$1("load",_e),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],_e);nt=rt;break;case"source":D$1("error",_e),nt=rt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),nt=rt;break;case"details":D$1("toggle",_e),nt=rt;break;case"input":Za(_e,rt),nt=Ya(_e,rt),D$1("invalid",_e);break;case"option":nt=rt;break;case"select":_e._wrapperState={wasMultiple:!!rt.multiple},nt=A({},rt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,rt),nt=gb(_e,rt),D$1("invalid",_e);break;default:nt=rt}ub(tt,nt),at=nt;for(ot in at)if(at.hasOwnProperty(ot)){var ct=at[ot];ot==="style"?sb(_e,ct):ot==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,ct!=null&&nb(_e,ct)):ot==="children"?typeof ct=="string"?(tt!=="textarea"||ct!=="")&&ob(_e,ct):typeof ct=="number"&&ob(_e,""+ct):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?ct!=null&&ot==="onScroll"&&D$1("scroll",_e):ct!=null&&ta(_e,ot,ct,st))}switch(tt){case"input":Va(_e),db(_e,rt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":rt.value!=null&&_e.setAttribute("value",""+Sa(rt.value));break;case"select":_e.multiple=!!rt.multiple,ot=rt.value,ot!=null?fb(_e,!!rt.multiple,ot,!1):rt.defaultValue!=null&&fb(_e,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(_e.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$1(et),null;case 6:if(_e&&et.stateNode!=null)Cj(_e,et,_e.memoizedProps,rt);else{if(typeof rt!="string"&&et.stateNode===null)throw Error(p$1(166));if(tt=xh(wh.current),xh(uh.current),Gg(et)){if(rt=et.stateNode,tt=et.memoizedProps,rt[Of]=et,(ot=rt.nodeValue!==tt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(rt.nodeValue,tt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(_e.mode&1)!==0)}ot&&(et.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=et,et.stateNode=rt}return S$1(et),null;case 13:if(E$1(L$1),rt=et.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,ot=!1;else if(ot=Gg(et),rt!==null&&rt.dehydrated!==null){if(_e===null){if(!ot)throw Error(p$1(318));if(ot=et.memoizedState,ot=ot!==null?ot.dehydrated:null,!ot)throw Error(p$1(317));ot[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$1(et),ot=!1}else zg!==null&&(Fj(zg),zg=null),ot=!0;if(!ot)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(rt=rt!==null,rt!==(_e!==null&&_e.memoizedState!==null)&&rt&&(et.child.flags|=8192,et.mode&1&&(_e===null||L$1.current&1?T===0&&(T=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$1(et),null);case 4:return zh(),Aj(_e,et),_e===null&&sf(et.stateNode.containerInfo),S$1(et),null;case 10:return ah(et.type._context),S$1(et),null;case 17:return Zf(et.type)&&$f(),S$1(et),null;case 19:if(E$1(L$1),ot=et.memoizedState,ot===null)return S$1(et),null;if(rt=(et.flags&128)!==0,st=ot.rendering,st===null)if(rt)Dj(ot,!1);else{if(T!==0||_e!==null&&_e.flags&128)for(_e=et.child;_e!==null;){if(st=Ch(_e),st!==null){for(et.flags|=128,Dj(ot,!1),rt=st.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),et.subtreeFlags=0,rt=tt,tt=et.child;tt!==null;)ot=tt,_e=rt,ot.flags&=14680066,st=ot.alternate,st===null?(ot.childLanes=0,ot.lanes=_e,ot.child=null,ot.subtreeFlags=0,ot.memoizedProps=null,ot.memoizedState=null,ot.updateQueue=null,ot.dependencies=null,ot.stateNode=null):(ot.childLanes=st.childLanes,ot.lanes=st.lanes,ot.child=st.child,ot.subtreeFlags=0,ot.deletions=null,ot.memoizedProps=st.memoizedProps,ot.memoizedState=st.memoizedState,ot.updateQueue=st.updateQueue,ot.type=st.type,_e=st.dependencies,ot.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),tt=tt.sibling;return G(L$1,L$1.current&1|2),et.child}_e=_e.sibling}ot.tail!==null&&B()>Gj&&(et.flags|=128,rt=!0,Dj(ot,!1),et.lanes=4194304)}else{if(!rt)if(_e=Ch(st),_e!==null){if(et.flags|=128,rt=!0,tt=_e.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Dj(ot,!0),ot.tail===null&&ot.tailMode==="hidden"&&!st.alternate&&!I)return S$1(et),null}else 2*B()-ot.renderingStartTime>Gj&&tt!==1073741824&&(et.flags|=128,rt=!0,Dj(ot,!1),et.lanes=4194304);ot.isBackwards?(st.sibling=et.child,et.child=st):(tt=ot.last,tt!==null?tt.sibling=st:et.child=st,ot.last=st)}return ot.tail!==null?(et=ot.tail,ot.rendering=et,ot.tail=et.sibling,ot.renderingStartTime=B(),et.sibling=null,tt=L$1.current,G(L$1,rt?tt&1|2:tt&1),et):(S$1(et),null);case 22:case 23:return Hj(),rt=et.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==rt&&(et.flags|=8192),rt&&et.mode&1?fj&1073741824&&(S$1(et),et.subtreeFlags&6&&(et.flags|=8192)):S$1(et),null;case 24:return null;case 25:return null}throw Error(p$1(156,et.tag))}function Ij(_e,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),_e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),_e=et.flags,_e&65536&&!(_e&128)?(et.flags=_e&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$1(L$1),_e=et.memoizedState,_e!==null&&_e.dehydrated!==null){if(et.alternate===null)throw Error(p$1(340));Ig()}return _e=et.flags,_e&65536?(et.flags=_e&-65537|128,et):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,et){var tt=_e.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$1(_e,et,rt)}else tt.current=null}function Mj(_e,et,tt){try{tt()}catch(rt){W$1(_e,et,rt)}}var Nj=!1;function Oj(_e,et){if(Cf=dd,_e=Me$1(),Ne(_e)){if("selectionStart"in _e)var tt={start:_e.selectionStart,end:_e.selectionEnd};else e:{tt=(tt=_e.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,ot=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,ot.nodeType}catch{tt=null;break e}var st=0,at=-1,ct=-1,lt=0,dt=0,ft=_e,ht=null;t:for(;;){for(var pt;ft!==tt||nt!==0&&ft.nodeType!==3||(at=st+nt),ft!==ot||rt!==0&&ft.nodeType!==3||(ct=st+rt),ft.nodeType===3&&(st+=ft.nodeValue.length),(pt=ft.firstChild)!==null;)ht=ft,ft=pt;for(;;){if(ft===_e)break t;if(ht===tt&&++lt===nt&&(at=st),ht===ot&&++dt===rt&&(ct=st),(pt=ft.nextSibling)!==null)break;ft=ht,ht=ft.parentNode}ft=pt}tt=at===-1||ct===-1?null:{start:at,end:ct}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:_e,selectionRange:tt},dd=!1,V$1=et;V$1!==null;)if(et=V$1,_e=et.child,(et.subtreeFlags&1028)!==0&&_e!==null)_e.return=et,V$1=_e;else for(;V$1!==null;){et=V$1;try{var gt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var mt=gt.memoizedProps,vt=gt.memoizedState,yt=et.stateNode,bt=yt.getSnapshotBeforeUpdate(et.elementType===et.type?mt:Ci(et.type,mt),vt);yt.__reactInternalSnapshotBeforeUpdate=bt}break;case 3:var xt=et.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(wt){W$1(et,et.return,wt)}if(_e=et.sibling,_e!==null){_e.return=et.return,V$1=_e;break}V$1=et.return}return gt=Nj,Nj=!1,gt}function Pj(_e,et,tt){var rt=et.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&_e)===_e){var ot=nt.destroy;nt.destroy=void 0,ot!==void 0&&Mj(et,tt,ot)}nt=nt.next}while(nt!==rt)}}function Qj(_e,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&_e)===_e){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==et)}}function Rj(_e){var et=_e.ref;if(et!==null){var tt=_e.stateNode;switch(_e.tag){case 5:_e=tt;break;default:_e=tt}typeof et=="function"?et(_e):et.current=_e}}function Sj(_e){var et=_e.alternate;et!==null&&(_e.alternate=null,Sj(et)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(et=_e.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,et,tt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(_e,et):tt.insertBefore(_e,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(_e,tt)):(et=tt,et.appendChild(_e)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(rt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,et,tt),_e=_e.sibling;_e!==null;)Vj(_e,et,tt),_e=_e.sibling}function Wj(_e,et,tt){var rt=_e.tag;if(rt===5||rt===6)_e=_e.stateNode,et?tt.insertBefore(_e,et):tt.appendChild(_e);else if(rt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,et,tt),_e=_e.sibling;_e!==null;)Wj(_e,et,tt),_e=_e.sibling}var X=null,Xj=!1;function Yj(_e,et,tt){for(tt=tt.child;tt!==null;)Zj(_e,et,tt),tt=tt.sibling}function Zj(_e,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U||Lj(tt,et);case 6:var rt=X,nt=Xj;X=null,Yj(_e,et,tt),X=rt,Xj=nt,X!==null&&(Xj?(_e=X,tt=tt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(tt):_e.removeChild(tt)):X.removeChild(tt.stateNode));break;case 18:X!==null&&(Xj?(_e=X,tt=tt.stateNode,_e.nodeType===8?Kf(_e.parentNode,tt):_e.nodeType===1&&Kf(_e,tt),bd(_e)):Kf(X,tt.stateNode));break;case 4:rt=X,nt=Xj,X=tt.stateNode.containerInfo,Xj=!0,Yj(_e,et,tt),X=rt,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var ot=nt,st=ot.destroy;ot=ot.tag,st!==void 0&&(ot&2||ot&4)&&Mj(tt,et,st),nt=nt.next}while(nt!==rt)}Yj(_e,et,tt);break;case 1:if(!U&&(Lj(tt,et),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(at){W$1(tt,et,at)}Yj(_e,et,tt);break;case 21:Yj(_e,et,tt);break;case 22:tt.mode&1?(U=(rt=U)||tt.memoizedState!==null,Yj(_e,et,tt),U=rt):Yj(_e,et,tt);break;default:Yj(_e,et,tt)}}function ak(_e){var et=_e.updateQueue;if(et!==null){_e.updateQueue=null;var tt=_e.stateNode;tt===null&&(tt=_e.stateNode=new Kj),et.forEach(function(rt){var nt=bk.bind(null,_e,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function ck(_e,et){var tt=et.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var ot=_e,st=et,at=st;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Xj=!1;break e;case 3:X=at.stateNode.containerInfo,Xj=!0;break e;case 4:X=at.stateNode.containerInfo,Xj=!0;break e}at=at.return}if(X===null)throw Error(p$1(160));Zj(ot,st,nt),X=null,Xj=!1;var ct=nt.alternate;ct!==null&&(ct.return=null),nt.return=null}catch(lt){W$1(nt,et,lt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,_e),et=et.sibling}function dk(_e,et){var tt=_e.alternate,rt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(et,_e),ek(_e),rt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(mt){W$1(_e,_e.return,mt)}try{Pj(5,_e,_e.return)}catch(mt){W$1(_e,_e.return,mt)}}break;case 1:ck(et,_e),ek(_e),rt&512&&tt!==null&&Lj(tt,tt.return);break;case 5:if(ck(et,_e),ek(_e),rt&512&&tt!==null&&Lj(tt,tt.return),_e.flags&32){var nt=_e.stateNode;try{ob(nt,"")}catch(mt){W$1(_e,_e.return,mt)}}if(rt&4&&(nt=_e.stateNode,nt!=null)){var ot=_e.memoizedProps,st=tt!==null?tt.memoizedProps:ot,at=_e.type,ct=_e.updateQueue;if(_e.updateQueue=null,ct!==null)try{at==="input"&&ot.type==="radio"&&ot.name!=null&&ab(nt,ot),vb(at,st);var lt=vb(at,ot);for(st=0;st<ct.length;st+=2){var dt=ct[st],ft=ct[st+1];dt==="style"?sb(nt,ft):dt==="dangerouslySetInnerHTML"?nb(nt,ft):dt==="children"?ob(nt,ft):ta(nt,dt,ft,lt)}switch(at){case"input":bb(nt,ot);break;case"textarea":ib(nt,ot);break;case"select":var ht=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!ot.multiple;var pt=ot.value;pt!=null?fb(nt,!!ot.multiple,pt,!1):ht!==!!ot.multiple&&(ot.defaultValue!=null?fb(nt,!!ot.multiple,ot.defaultValue,!0):fb(nt,!!ot.multiple,ot.multiple?[]:"",!1))}nt[Pf]=ot}catch(mt){W$1(_e,_e.return,mt)}}break;case 6:if(ck(et,_e),ek(_e),rt&4){if(_e.stateNode===null)throw Error(p$1(162));nt=_e.stateNode,ot=_e.memoizedProps;try{nt.nodeValue=ot}catch(mt){W$1(_e,_e.return,mt)}}break;case 3:if(ck(et,_e),ek(_e),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(mt){W$1(_e,_e.return,mt)}break;case 4:ck(et,_e),ek(_e);break;case 13:ck(et,_e),ek(_e),nt=_e.child,nt.flags&8192&&(ot=nt.memoizedState!==null,nt.stateNode.isHidden=ot,!ot||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B())),rt&4&&ak(_e);break;case 22:if(dt=tt!==null&&tt.memoizedState!==null,_e.mode&1?(U=(lt=U)||dt,ck(et,_e),U=lt):ck(et,_e),ek(_e),rt&8192){if(lt=_e.memoizedState!==null,(_e.stateNode.isHidden=lt)&&!dt&&_e.mode&1)for(V$1=_e,dt=_e.child;dt!==null;){for(ft=V$1=dt;V$1!==null;){switch(ht=V$1,pt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Pj(4,ht,ht.return);break;case 1:Lj(ht,ht.return);var gt=ht.stateNode;if(typeof gt.componentWillUnmount=="function"){rt=ht,tt=ht.return;try{et=rt,gt.props=et.memoizedProps,gt.state=et.memoizedState,gt.componentWillUnmount()}catch(mt){W$1(rt,tt,mt)}}break;case 5:Lj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){gk(ft);continue}}pt!==null?(pt.return=ht,V$1=pt):gk(ft)}dt=dt.sibling}e:for(dt=null,ft=_e;;){if(ft.tag===5){if(dt===null){dt=ft;try{nt=ft.stateNode,lt?(ot=nt.style,typeof ot.setProperty=="function"?ot.setProperty("display","none","important"):ot.display="none"):(at=ft.stateNode,ct=ft.memoizedProps.style,st=ct!=null&&ct.hasOwnProperty("display")?ct.display:null,at.style.display=rb("display",st))}catch(mt){W$1(_e,_e.return,mt)}}}else if(ft.tag===6){if(dt===null)try{ft.stateNode.nodeValue=lt?"":ft.memoizedProps}catch(mt){W$1(_e,_e.return,mt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===_e)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===_e)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===_e)break e;dt===ft&&(dt=null),ft=ft.return}dt===ft&&(dt=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:ck(et,_e),ek(_e),rt&4&&ak(_e);break;case 21:break;default:ck(et,_e),ek(_e)}}function ek(_e){var et=_e.flags;if(et&2){try{e:{for(var tt=_e.return;tt!==null;){if(Tj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$1(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var ot=Uj(_e);Wj(_e,ot,nt);break;case 3:case 4:var st=rt.stateNode.containerInfo,at=Uj(_e);Vj(_e,at,st);break;default:throw Error(p$1(161))}}catch(ct){W$1(_e,_e.return,ct)}_e.flags&=-3}et&4096&&(_e.flags&=-4097)}function hk(_e,et,tt){V$1=_e,ik(_e)}function ik(_e,et,tt){for(var rt=(_e.mode&1)!==0;V$1!==null;){var nt=V$1,ot=nt.child;if(nt.tag===22&&rt){var st=nt.memoizedState!==null||Jj;if(!st){var at=nt.alternate,ct=at!==null&&at.memoizedState!==null||U;at=Jj;var lt=U;if(Jj=st,(U=ct)&&!lt)for(V$1=nt;V$1!==null;)st=V$1,ct=st.child,st.tag===22&&st.memoizedState!==null?jk(nt):ct!==null?(ct.return=st,V$1=ct):jk(nt);for(;ot!==null;)V$1=ot,ik(ot),ot=ot.sibling;V$1=nt,Jj=at,U=lt}kk(_e)}else nt.subtreeFlags&8772&&ot!==null?(ot.return=nt,V$1=ot):kk(_e)}}function kk(_e){for(;V$1!==null;){var et=V$1;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U||Qj(5,et);break;case 1:var rt=et.stateNode;if(et.flags&4&&!U)if(tt===null)rt.componentDidMount();else{var nt=et.elementType===et.type?tt.memoizedProps:Ci(et.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var ot=et.updateQueue;ot!==null&&sh(et,ot,rt);break;case 3:var st=et.updateQueue;if(st!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}sh(et,st,tt)}break;case 5:var at=et.stateNode;if(tt===null&&et.flags&4){tt=at;var ct=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":ct.autoFocus&&tt.focus();break;case"img":ct.src&&(tt.src=ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var lt=et.alternate;if(lt!==null){var dt=lt.memoizedState;if(dt!==null){var ft=dt.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||et.flags&512&&Rj(et)}catch(ht){W$1(et,et.return,ht)}}if(et===_e){V$1=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function gk(_e){for(;V$1!==null;){var et=V$1;if(et===_e){V$1=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function jk(_e){for(;V$1!==null;){var et=V$1;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Qj(4,et)}catch(ct){W$1(et,tt,ct)}break;case 1:var rt=et.stateNode;if(typeof rt.componentDidMount=="function"){var nt=et.return;try{rt.componentDidMount()}catch(ct){W$1(et,nt,ct)}}var ot=et.return;try{Rj(et)}catch(ct){W$1(et,ot,ct)}break;case 5:var st=et.return;try{Rj(et)}catch(ct){W$1(et,st,ct)}}}catch(ct){W$1(et,et.return,ct)}if(et===_e){V$1=null;break}var at=et.sibling;if(at!==null){at.return=et.return,V$1=at;break}V$1=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$1=ua.ReactCurrentBatchConfig,K=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,et,tt,rt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(_e,tt,rt),(!(K&2)||_e!==Q$1)&&(_e===Q$1&&(!(K&2)&&(qk|=tt),T===4&&Ck(_e,Z$1)),Dk(_e,rt),tt===1&&K===0&&!(et.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(_e,et){var tt=_e.callbackNode;wc(_e,et);var rt=uc(_e,_e===Q$1?Z$1:0);if(rt===0)tt!==null&&bc(tt),_e.callbackNode=null,_e.callbackPriority=0;else if(et=rt&-rt,_e.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Fk(tt,Gk.bind(null,_e))}_e.callbackPriority=et,_e.callbackNode=tt}}function Gk(_e,et){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var tt=_e.callbackNode;if(Hk()&&_e.callbackNode!==tt)return null;var rt=uc(_e,_e===Q$1?Z$1:0);if(rt===0)return null;if(rt&30||rt&_e.expiredLanes||et)et=Ik(_e,rt);else{et=rt;var nt=K;K|=2;var ot=Jk();(Q$1!==_e||Z$1!==et)&&(uk=null,Gj=B()+500,Kk(_e,et));do try{Lk();break}catch(at){Mk(_e,at)}while(!0);$g(),mk.current=ot,K=nt,Y$1!==null?et=0:(Q$1=null,Z$1=0,et=T)}if(et!==0){if(et===2&&(nt=xc(_e),nt!==0&&(rt=nt,et=Nk(_e,nt))),et===1)throw tt=pk,Kk(_e,0),Ck(_e,rt),Dk(_e,B()),tt;if(et===6)Ck(_e,rt);else{if(nt=_e.current.alternate,!(rt&30)&&!Ok(nt)&&(et=Ik(_e,rt),et===2&&(ot=xc(_e),ot!==0&&(rt=ot,et=Nk(_e,ot))),et===1))throw tt=pk,Kk(_e,0),Ck(_e,rt),Dk(_e,B()),tt;switch(_e.finishedWork=nt,_e.finishedLanes=rt,et){case 0:case 1:throw Error(p$1(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,rt),(rt&130023424)===rt&&(et=fk+500-B(),10<et)){if(uc(_e,0)!==0)break;if(nt=_e.suspendedLanes,(nt&rt)!==rt){R(),_e.pingedLanes|=_e.suspendedLanes&nt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),et);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,rt),(rt&4194240)===rt)break;for(et=_e.eventTimes,nt=-1;0<rt;){var st=31-oc(rt);ot=1<<st,st=et[st],st>nt&&(nt=st),rt&=~ot}if(rt=nt,rt=B()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*lk(rt/1960))-rt,10<rt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),rt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(_e,B()),_e.callbackNode===tt?Gk.bind(null,_e):null}function Nk(_e,et){var tt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,et).flags|=256),_e=Ik(_e,et),_e!==2&&(et=tk,tk=tt,et!==null&&Fj(et)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var et=_e;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],ot=nt.getSnapshot;nt=nt.value;try{if(!He(ot(),nt))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(_e,et){for(et&=~rk,et&=~qk,_e.suspendedLanes|=et,_e.pingedLanes&=~et,_e=_e.expirationTimes;0<et;){var tt=31-oc(et),rt=1<<tt;_e[tt]=-1,et&=~rt}}function Ek(_e){if(K&6)throw Error(p$1(327));Hk();var et=uc(_e,0);if(!(et&1))return Dk(_e,B()),null;var tt=Ik(_e,et);if(_e.tag!==0&&tt===2){var rt=xc(_e);rt!==0&&(et=rt,tt=Nk(_e,rt))}if(tt===1)throw tt=pk,Kk(_e,0),Ck(_e,et),Dk(_e,B()),tt;if(tt===6)throw Error(p$1(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=et,Pk(_e,tk,uk),Dk(_e,B()),null}function Qk(_e,et){var tt=K;K|=1;try{return _e(et)}finally{K=tt,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var et=K;K|=1;var tt=ok$1.transition,rt=C$1;try{if(ok$1.transition=null,C$1=1,_e)return _e()}finally{C$1=rt,ok$1.transition=tt,K=et,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,et){_e.finishedWork=null,_e.finishedLanes=0;var tt=_e.timeoutHandle;if(tt!==-1&&(_e.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(rt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(rt.type._context);break;case 22:case 23:Hj()}tt=tt.return}if(Q$1=_e,Y$1=_e=Pg(_e.current,null),Z$1=fj=et,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(tt=fh[et],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,ot=tt.pending;if(ot!==null){var st=ot.next;ot.next=nt,rt.next=st}tt.pending=rt}fh=null}return _e}function Mk(_e,et){do{var tt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var rt=M.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Ih=!1}if(Hh=0,O=N$1=M=null,Jh=!1,Kh=0,nk.current=null,tt===null||tt.return===null){T=1,pk=et,Y$1=null;break}e:{var ot=_e,st=tt.return,at=tt,ct=et;if(et=Z$1,at.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var lt=ct,dt=at,ft=dt.tag;if(!(dt.mode&1)&&(ft===0||ft===11||ft===15)){var ht=dt.alternate;ht?(dt.updateQueue=ht.updateQueue,dt.memoizedState=ht.memoizedState,dt.lanes=ht.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var pt=Ui(st);if(pt!==null){pt.flags&=-257,Vi(pt,st,at,ot,et),pt.mode&1&&Si(ot,lt,et),et=pt,ct=lt;var gt=et.updateQueue;if(gt===null){var mt=new Set;mt.add(ct),et.updateQueue=mt}else gt.add(ct);break e}else{if(!(et&1)){Si(ot,lt,et),tj();break e}ct=Error(p$1(426))}}else if(I&&at.mode&1){var vt=Ui(st);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Vi(vt,st,at,ot,et),Jg(Ji(ct,at));break e}}ot=ct=Ji(ct,at),T!==4&&(T=2),sk===null?sk=[ot]:sk.push(ot),ot=st;do{switch(ot.tag){case 3:ot.flags|=65536,et&=-et,ot.lanes|=et;var yt=Ni(ot,ct,et);ph(ot,yt);break e;case 1:at=ct;var bt=ot.type,xt=ot.stateNode;if(!(ot.flags&128)&&(typeof bt.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Ri===null||!Ri.has(xt)))){ot.flags|=65536,et&=-et,ot.lanes|=et;var wt=Qi(ot,at,et);ph(ot,wt);break e}}ot=ot.return}while(ot!==null)}Sk(tt)}catch(At){et=At,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T===0||T===3||T===2)&&(T=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(_e,et){var tt=K;K|=2;var rt=Jk();(Q$1!==_e||Z$1!==et)&&(uk=null,Kk(_e,et));do try{Tk();break}catch(nt){Mk(_e,nt)}while(!0);if($g(),K=tt,mk.current=rt,Y$1!==null)throw Error(p$1(261));return Q$1=null,Z$1=0,T}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(_e){var et=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,et===null?Sk(_e):Y$1=et,nk.current=null}function Sk(_e){var et=_e;do{var tt=et.alternate;if(_e=et.return,et.flags&32768){if(tt=Ij(tt,et),tt!==null){tt.flags&=32767,Y$1=tt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T=6,Y$1=null;return}}else if(tt=Ej(tt,et,fj),tt!==null){Y$1=tt;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=_e}while(et!==null);T===0&&(T=5)}function Pk(_e,et,tt){var rt=C$1,nt=ok$1.transition;try{ok$1.transition=null,C$1=1,Wk(_e,et,tt,rt)}finally{ok$1.transition=nt,C$1=rt}return null}function Wk(_e,et,tt,rt){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));tt=_e.finishedWork;var nt=_e.finishedLanes;if(tt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,tt===_e.current)throw Error(p$1(177));_e.callbackNode=null,_e.callbackPriority=0;var ot=tt.lanes|tt.childLanes;if(Bc(_e,ot),_e===Q$1&&(Y$1=Q$1=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ot=(tt.flags&15990)!==0,tt.subtreeFlags&15990||ot){ot=ok$1.transition,ok$1.transition=null;var st=C$1;C$1=1;var at=K;K|=4,nk.current=null,Oj(_e,tt),dk(tt,_e),Oe$1(Df),dd=!!Cf,Df=Cf=null,_e.current=tt,hk(tt),dc(),K=at,C$1=st,ok$1.transition=ot}else _e.current=tt;if(vk&&(vk=!1,wk=_e,xk=nt),ot=_e.pendingLanes,ot===0&&(Ri=null),mc(tt.stateNode),Dk(_e,B()),et!==null)for(rt=_e.onRecoverableError,tt=0;tt<et.length;tt++)nt=et[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),ot=_e.pendingLanes,ot&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),et=ok$1.transition,tt=C$1;try{if(ok$1.transition=null,C$1=16>_e?16:_e,wk===null)var rt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var nt=K;for(K|=4,V$1=_e.current;V$1!==null;){var ot=V$1,st=ot.child;if(V$1.flags&16){var at=ot.deletions;if(at!==null){for(var ct=0;ct<at.length;ct++){var lt=at[ct];for(V$1=lt;V$1!==null;){var dt=V$1;switch(dt.tag){case 0:case 11:case 15:Pj(8,dt,ot)}var ft=dt.child;if(ft!==null)ft.return=dt,V$1=ft;else for(;V$1!==null;){dt=V$1;var ht=dt.sibling,pt=dt.return;if(Sj(dt),dt===lt){V$1=null;break}if(ht!==null){ht.return=pt,V$1=ht;break}V$1=pt}}}var gt=ot.alternate;if(gt!==null){var mt=gt.child;if(mt!==null){gt.child=null;do{var vt=mt.sibling;mt.sibling=null,mt=vt}while(mt!==null)}}V$1=ot}}if(ot.subtreeFlags&2064&&st!==null)st.return=ot,V$1=st;else e:for(;V$1!==null;){if(ot=V$1,ot.flags&2048)switch(ot.tag){case 0:case 11:case 15:Pj(9,ot,ot.return)}var yt=ot.sibling;if(yt!==null){yt.return=ot.return,V$1=yt;break e}V$1=ot.return}}var bt=_e.current;for(V$1=bt;V$1!==null;){st=V$1;var xt=st.child;if(st.subtreeFlags&2064&&xt!==null)xt.return=st,V$1=xt;else e:for(st=bt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Qj(9,at)}}catch(At){W$1(at,at.return,At)}if(at===st){V$1=null;break e}var wt=at.sibling;if(wt!==null){wt.return=at.return,V$1=wt;break e}V$1=at.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}rt=!0}return rt}finally{C$1=tt,ok$1.transition=et}}return!1}function Xk(_e,et,tt){et=Ji(tt,et),et=Ni(_e,et,1),_e=nh(_e,et,1),et=R(),_e!==null&&(Ac(_e,1,et),Dk(_e,et))}function W$1(_e,et,tt){if(_e.tag===3)Xk(_e,_e,tt);else for(;et!==null;){if(et.tag===3){Xk(et,_e,tt);break}else if(et.tag===1){var rt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Ri===null||!Ri.has(rt))){_e=Ji(tt,_e),_e=Qi(et,_e,1),et=nh(et,_e,1),_e=R(),et!==null&&(Ac(et,1,_e),Dk(et,_e));break}}et=et.return}}function Ti(_e,et,tt){var rt=_e.pingCache;rt!==null&&rt.delete(et),et=R(),_e.pingedLanes|=_e.suspendedLanes&tt,Q$1===_e&&(Z$1&tt)===tt&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk(_e,0):rk|=tt),Dk(_e,et)}function Yk(_e,et){et===0&&(_e.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=R();_e=ih(_e,et),_e!==null&&(Ac(_e,et,tt),Dk(_e,tt))}function uj(_e){var et=_e.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Yk(_e,tt)}function bk(_e,et){var tt=0;switch(_e.tag){case 13:var rt=_e.stateNode,nt=_e.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=_e.stateNode;break;default:throw Error(p$1(314))}rt!==null&&rt.delete(et),Yk(_e,tt)}var Vk;Vk=function(_e,et,tt){if(_e!==null)if(_e.memoizedProps!==et.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&tt)&&!(et.flags&128))return dh=!1,yj(_e,et,tt);dh=!!(_e.flags&131072)}else dh=!1,I&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var rt=et.type;ij(_e,et),_e=et.pendingProps;var nt=Yf(et,H$1.current);ch(et,tt),nt=Nh(null,et,rt,_e,nt,tt);var ot=Sh();return et.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(rt)?(ot=!0,cg(et)):ot=!1,et.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(et),nt.updater=Ei,et.stateNode=nt,nt._reactInternals=et,Ii(et,rt,_e,tt),et=jj(null,et,rt,!0,ot,tt)):(et.tag=0,I&&ot&&vg(et),Xi(null,et,nt,tt),et=et.child),et;case 16:rt=et.elementType;e:{switch(ij(_e,et),_e=et.pendingProps,nt=rt._init,rt=nt(rt._payload),et.type=rt,nt=et.tag=Zk(rt),_e=Ci(rt,_e),nt){case 0:et=cj(null,et,rt,_e,tt);break e;case 1:et=hj(null,et,rt,_e,tt);break e;case 11:et=Yi(null,et,rt,_e,tt);break e;case 14:et=$i(null,et,rt,Ci(rt.type,_e),tt);break e}throw Error(p$1(306,rt,""))}return et;case 0:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),cj(_e,et,rt,nt,tt);case 1:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),hj(_e,et,rt,nt,tt);case 3:e:{if(kj(et),_e===null)throw Error(p$1(387));rt=et.pendingProps,ot=et.memoizedState,nt=ot.element,lh(_e,et),qh(et,rt,null,tt);var st=et.memoizedState;if(rt=st.element,ot.isDehydrated)if(ot={element:rt,isDehydrated:!1,cache:st.cache,pendingSuspenseBoundaries:st.pendingSuspenseBoundaries,transitions:st.transitions},et.updateQueue.baseState=ot,et.memoizedState=ot,et.flags&256){nt=Ji(Error(p$1(423)),et),et=lj(_e,et,rt,tt,nt);break e}else if(rt!==nt){nt=Ji(Error(p$1(424)),et),et=lj(_e,et,rt,tt,nt);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I=!0,zg=null,tt=Vg(et,null,rt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){et=Zi(_e,et,tt);break e}Xi(_e,et,rt,tt)}et=et.child}return et;case 5:return Ah(et),_e===null&&Eg(et),rt=et.type,nt=et.pendingProps,ot=_e!==null?_e.memoizedProps:null,st=nt.children,Ef(rt,nt)?st=null:ot!==null&&Ef(rt,ot)&&(et.flags|=32),gj(_e,et),Xi(_e,et,st,tt),et.child;case 6:return _e===null&&Eg(et),null;case 13:return oj(_e,et,tt);case 4:return yh(et,et.stateNode.containerInfo),rt=et.pendingProps,_e===null?et.child=Ug(et,null,rt,tt):Xi(_e,et,rt,tt),et.child;case 11:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),Yi(_e,et,rt,nt,tt);case 7:return Xi(_e,et,et.pendingProps,tt),et.child;case 8:return Xi(_e,et,et.pendingProps.children,tt),et.child;case 12:return Xi(_e,et,et.pendingProps.children,tt),et.child;case 10:e:{if(rt=et.type._context,nt=et.pendingProps,ot=et.memoizedProps,st=nt.value,G(Wg,rt._currentValue),rt._currentValue=st,ot!==null)if(He(ot.value,st)){if(ot.children===nt.children&&!Wf.current){et=Zi(_e,et,tt);break e}}else for(ot=et.child,ot!==null&&(ot.return=et);ot!==null;){var at=ot.dependencies;if(at!==null){st=ot.child;for(var ct=at.firstContext;ct!==null;){if(ct.context===rt){if(ot.tag===1){ct=mh(-1,tt&-tt),ct.tag=2;var lt=ot.updateQueue;if(lt!==null){lt=lt.shared;var dt=lt.pending;dt===null?ct.next=ct:(ct.next=dt.next,dt.next=ct),lt.pending=ct}}ot.lanes|=tt,ct=ot.alternate,ct!==null&&(ct.lanes|=tt),bh(ot.return,tt,et),at.lanes|=tt;break}ct=ct.next}}else if(ot.tag===10)st=ot.type===et.type?null:ot.child;else if(ot.tag===18){if(st=ot.return,st===null)throw Error(p$1(341));st.lanes|=tt,at=st.alternate,at!==null&&(at.lanes|=tt),bh(st,tt,et),st=ot.sibling}else st=ot.child;if(st!==null)st.return=ot;else for(st=ot;st!==null;){if(st===et){st=null;break}if(ot=st.sibling,ot!==null){ot.return=st.return,st=ot;break}st=st.return}ot=st}Xi(_e,et,nt.children,tt),et=et.child}return et;case 9:return nt=et.type,rt=et.pendingProps.children,ch(et,tt),nt=eh(nt),rt=rt(nt),et.flags|=1,Xi(_e,et,rt,tt),et.child;case 14:return rt=et.type,nt=Ci(rt,et.pendingProps),nt=Ci(rt.type,nt),$i(_e,et,rt,nt,tt);case 15:return bj(_e,et,et.type,et.pendingProps,tt);case 17:return rt=et.type,nt=et.pendingProps,nt=et.elementType===rt?nt:Ci(rt,nt),ij(_e,et),et.tag=1,Zf(rt)?(_e=!0,cg(et)):_e=!1,ch(et,tt),Gi(et,rt,nt),Ii(et,rt,nt,tt),jj(null,et,rt,!0,_e,tt);case 19:return xj(_e,et,tt);case 22:return dj(_e,et,tt)}throw Error(p$1(156,et.tag))};function Fk(_e,et){return ac(_e,et)}function $k(_e,et,tt,rt){this.tag=_e,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,et,tt,rt){return new $k(_e,et,tt,rt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,et){var tt=_e.alternate;return tt===null?(tt=Bg(_e.tag,et,_e.key,_e.mode),tt.elementType=_e.elementType,tt.type=_e.type,tt.stateNode=_e.stateNode,tt.alternate=_e,_e.alternate=tt):(tt.pendingProps=et,tt.type=_e.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=_e.flags&14680064,tt.childLanes=_e.childLanes,tt.lanes=_e.lanes,tt.child=_e.child,tt.memoizedProps=_e.memoizedProps,tt.memoizedState=_e.memoizedState,tt.updateQueue=_e.updateQueue,et=_e.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=_e.sibling,tt.index=_e.index,tt.ref=_e.ref,tt}function Rg(_e,et,tt,rt,nt,ot){var st=2;if(rt=_e,typeof _e=="function")aj(_e)&&(st=1);else if(typeof _e=="string")st=5;else e:switch(_e){case ya:return Tg(tt.children,nt,ot,et);case za:st=8,nt|=8;break;case Aa:return _e=Bg(12,tt,et,nt|2),_e.elementType=Aa,_e.lanes=ot,_e;case Ea:return _e=Bg(13,tt,et,nt),_e.elementType=Ea,_e.lanes=ot,_e;case Fa:return _e=Bg(19,tt,et,nt),_e.elementType=Fa,_e.lanes=ot,_e;case Ia:return pj(tt,nt,ot,et);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:st=10;break e;case Ca:st=9;break e;case Da:st=11;break e;case Ga:st=14;break e;case Ha:st=16,rt=null;break e}throw Error(p$1(130,_e==null?_e:typeof _e,""))}return et=Bg(st,tt,et,nt),et.elementType=_e,et.type=rt,et.lanes=ot,et}function Tg(_e,et,tt,rt){return _e=Bg(7,_e,rt,et),_e.lanes=tt,_e}function pj(_e,et,tt,rt){return _e=Bg(22,_e,rt,et),_e.elementType=Ia,_e.lanes=tt,_e.stateNode={isHidden:!1},_e}function Qg(_e,et,tt){return _e=Bg(6,_e,null,et),_e.lanes=tt,_e}function Sg(_e,et,tt){return et=Bg(4,_e.children!==null?_e.children:[],_e.key,et),et.lanes=tt,et.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},et}function al(_e,et,tt,rt,nt){this.tag=et,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl(_e,et,tt,rt,nt,ot,st,at,ct){return _e=new al(_e,et,tt,at,ct),et===1?(et=1,ot===!0&&(et|=8)):et=0,ot=Bg(3,null,null,et),_e.current=ot,ot.stateNode=_e,ot.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ot),_e}function cl(_e,et,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:_e,containerInfo:et,implementation:tt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$1(170));var et=_e;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$1(171))}if(_e.tag===1){var tt=_e.type;if(Zf(tt))return bg(_e,tt,et)}return et}function el(_e,et,tt,rt,nt,ot,st,at,ct){return _e=bl(tt,rt,!0,_e,nt,ot,st,at,ct),_e.context=dl(null),tt=_e.current,rt=R(),nt=yi(tt),ot=mh(rt,nt),ot.callback=et??null,nh(tt,ot,nt),_e.current.lanes=nt,Ac(_e,nt,rt),Dk(_e,rt),_e}function fl(_e,et,tt,rt){var nt=et.current,ot=R(),st=yi(nt);return tt=dl(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=mh(ot,st),et.payload={element:_e},rt=rt===void 0?null:rt,rt!==null&&(et.callback=rt),_e=nh(nt,et,st),_e!==null&&(gi(_e,nt,st,ot),oh(_e,nt,st)),st}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,et){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var tt=_e.retryLane;_e.retryLane=tt!==0&&tt<et?tt:et}}function il(_e,et){hl(_e,et),(_e=_e.alternate)&&hl(_e,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var et=this._internalRoot;if(et===null)throw Error(p$1(409));fl(_e,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var et=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),et[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var et=Hc();_e={blockedOn:null,target:_e,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,_e),tt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,et,tt,rt,nt){if(nt){if(typeof rt=="function"){var ot=rt;rt=function(){var lt=gl(st);ot.call(lt)}}var st=el(et,rt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=st,_e[uf]=st.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),st}for(;nt=_e.lastChild;)_e.removeChild(nt);if(typeof rt=="function"){var at=rt;rt=function(){var lt=gl(ct);at.call(lt)}}var ct=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=ct,_e[uf]=ct.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(et,ct,tt,rt)}),ct}function rl(_e,et,tt,rt,nt){var ot=tt._reactRootContainer;if(ot){var st=ot;if(typeof nt=="function"){var at=nt;nt=function(){var ct=gl(st);at.call(ct)}}fl(et,st,_e,nt)}else st=ql(tt,et,_e,nt,rt);return gl(st)}Ec=function(_e){switch(_e.tag){case 3:var et=_e.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc(et,tt|1),Dk(et,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var rt=ih(_e,1);if(rt!==null){var nt=R();gi(rt,_e,1,nt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var et=ih(_e,134217728);if(et!==null){var tt=R();gi(et,_e,134217728,tt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var et=yi(_e),tt=ih(_e,et);if(tt!==null){var rt=R();gi(tt,_e,et,rt)}il(_e,et)}};Hc=function(){return C$1};Ic=function(_e,et){var tt=C$1;try{return C$1=_e,et()}finally{C$1=tt}};yb=function(_e,et,tt){switch(et){case"input":if(bb(_e,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=_e;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var rt=tt[et];if(rt!==_e&&rt.form===_e.form){var nt=Db(rt);if(!nt)throw Error(p$1(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(_e,tt);break;case"select":et=tt.value,et!=null&&fb(_e,!!tt.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$1(200));return cl(_e,et,null,tt)};reactDom_production_min.createRoot=function(_e,et){if(!nl(_e))throw Error(p$1(299));var tt=!1,rt="",nt=kl;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(nt=et.onRecoverableError)),et=bl(_e,1,!1,null,null,tt,!1,rt,nt),_e[uf]=et.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(et)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var et=_e._reactInternals;if(et===void 0)throw typeof _e.render=="function"?Error(p$1(188)):(_e=Object.keys(_e).join(","),Error(p$1(268,_e)));return _e=Zb(et),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,et,tt){if(!ol(et))throw Error(p$1(200));return rl(null,_e,et,!0,tt)};reactDom_production_min.hydrateRoot=function(_e,et,tt){if(!nl(_e))throw Error(p$1(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,ot="",st=kl;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(ot=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(st=tt.onRecoverableError)),et=el(et,null,_e,1,tt??null,nt,!1,ot,st),_e[uf]=et.current,sf(_e),rt)for(_e=0;_e<rt.length;_e++)tt=rt[_e],nt=tt._getVersion,nt=nt(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,nt]:et.mutableSourceEagerHydrationData.push(tt,nt);return new ml(et)};reactDom_production_min.render=function(_e,et,tt){if(!ol(et))throw Error(p$1(200));return rl(null,_e,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$1(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,et,tt,rt){if(!ol(tt))throw Error(p$1(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$1(38));return rl(_e,et,tt,!1,rt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(_e={}){function et(rt,nt){let{pathname:ot,search:st,hash:at}=rt.location;return createLocation("",{pathname:ot,search:st,hash:at},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function tt(rt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(et,tt,null,_e)}function invariant(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function warning(_e,et){if(!_e){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(_e,et){return{usr:_e.state,key:_e.key,idx:et}}function createLocation(_e,et,tt=null,rt){return{pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:"",...typeof et=="string"?parsePath(et):et,state:tt,key:et&&et.key||rt||createKey()}}function createPath({pathname:_e="/",search:et="",hash:tt=""}){return et&&et!=="?"&&(_e+=et.charAt(0)==="?"?et:"?"+et),tt&&tt!=="#"&&(_e+=tt.charAt(0)==="#"?tt:"#"+tt),_e}function parsePath(_e){let et={};if(_e){let tt=_e.indexOf("#");tt>=0&&(et.hash=_e.substring(tt),_e=_e.substring(0,tt));let rt=_e.indexOf("?");rt>=0&&(et.search=_e.substring(rt),_e=_e.substring(0,rt)),_e&&(et.pathname=_e)}return et}function getUrlBasedHistory(_e,et,tt,rt={}){let{window:nt=document.defaultView,v5Compat:ot=!1}=rt,st=nt.history,at="POP",ct=null,lt=dt();lt==null&&(lt=0,st.replaceState({...st.state,idx:lt},""));function dt(){return(st.state||{idx:null}).idx}function ft(){at="POP";let vt=dt(),yt=vt==null?null:vt-lt;lt=vt,ct&&ct({action:at,location:mt.location,delta:yt})}function ht(vt,yt){at="PUSH";let bt=createLocation(mt.location,vt,yt);lt=dt()+1;let xt=getHistoryState(bt,lt),wt=mt.createHref(bt);try{st.pushState(xt,"",wt)}catch(At){if(At instanceof DOMException&&At.name==="DataCloneError")throw At;nt.location.assign(wt)}ot&&ct&&ct({action:at,location:mt.location,delta:1})}function pt(vt,yt){at="REPLACE";let bt=createLocation(mt.location,vt,yt);lt=dt();let xt=getHistoryState(bt,lt),wt=mt.createHref(bt);st.replaceState(xt,"",wt),ot&&ct&&ct({action:at,location:mt.location,delta:0})}function gt(vt){return createBrowserURLImpl(vt)}let mt={get action(){return at},get location(){return _e(nt,st)},listen(vt){if(ct)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,ft),ct=vt,()=>{nt.removeEventListener(PopStateEventType,ft),ct=null}},createHref(vt){return et(nt,vt)},createURL:gt,encodeLocation(vt){let yt=gt(vt);return{pathname:yt.pathname,search:yt.search,hash:yt.hash}},push:ht,replace:pt,go(vt){return st.go(vt)}};return mt}function createBrowserURLImpl(_e,et=!1){let tt="http://localhost";typeof window<"u"&&(tt=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(tt,"No window.location.(origin|href) available to create URL");let rt=typeof _e=="string"?_e:createPath(_e);return rt=rt.replace(/ $/,"%20"),!et&&rt.startsWith("//")&&(rt=tt+rt),new URL(rt,tt)}function matchRoutes(_e,et,tt="/"){return matchRoutesImpl(_e,et,tt,!1)}function matchRoutesImpl(_e,et,tt,rt){let nt=typeof et=="string"?parsePath(et):et,ot=stripBasename(nt.pathname||"/",tt);if(ot==null)return null;let st=flattenRoutes(_e);rankRouteBranches(st);let at=null;for(let ct=0;at==null&&ct<st.length;++ct){let lt=decodePath(ot);at=matchRouteBranch(st[ct],lt,rt)}return at}function flattenRoutes(_e,et=[],tt=[],rt="",nt=!1){let ot=(st,at,ct=nt,lt)=>{let dt={relativePath:lt===void 0?st.path||"":lt,caseSensitive:st.caseSensitive===!0,childrenIndex:at,route:st};if(dt.relativePath.startsWith("/")){if(!dt.relativePath.startsWith(rt)&&ct)return;invariant(dt.relativePath.startsWith(rt),`Absolute route path "${dt.relativePath}" nested under path "${rt}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),dt.relativePath=dt.relativePath.slice(rt.length)}let ft=joinPaths([rt,dt.relativePath]),ht=tt.concat(dt);st.children&&st.children.length>0&&(invariant(st.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ft}".`),flattenRoutes(st.children,et,ht,ft,ct)),!(st.path==null&&!st.index)&&et.push({path:ft,score:computeScore(ft,st.index),routesMeta:ht})};return _e.forEach((st,at)=>{var ct;if(st.path===""||!((ct=st.path)!=null&&ct.includes("?")))ot(st,at);else for(let lt of explodeOptionalSegments(st.path))ot(st,at,!0,lt)}),et}function explodeOptionalSegments(_e){let et=_e.split("/");if(et.length===0)return[];let[tt,...rt]=et,nt=tt.endsWith("?"),ot=tt.replace(/\?$/,"");if(rt.length===0)return nt?[ot,""]:[ot];let st=explodeOptionalSegments(rt.join("/")),at=[];return at.push(...st.map(ct=>ct===""?ot:[ot,ct].join("/"))),nt&&at.push(...st),at.map(ct=>_e.startsWith("/")&&ct===""?"/":ct)}function rankRouteBranches(_e){_e.sort((et,tt)=>et.score!==tt.score?tt.score-et.score:compareIndexes(et.routesMeta.map(rt=>rt.childrenIndex),tt.routesMeta.map(rt=>rt.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,et){let tt=_e.split("/"),rt=tt.length;return tt.some(isSplat)&&(rt+=splatPenalty),et&&(rt+=indexRouteValue),tt.filter(nt=>!isSplat(nt)).reduce((nt,ot)=>nt+(paramRe.test(ot)?dynamicSegmentValue:ot===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(_e,et){return _e.length===et.length&&_e.slice(0,-1).every((rt,nt)=>rt===et[nt])?_e[_e.length-1]-et[et.length-1]:0}function matchRouteBranch(_e,et,tt=!1){let{routesMeta:rt}=_e,nt={},ot="/",st=[];for(let at=0;at<rt.length;++at){let ct=rt[at],lt=at===rt.length-1,dt=ot==="/"?et:et.slice(ot.length)||"/",ft=matchPath({path:ct.relativePath,caseSensitive:ct.caseSensitive,end:lt},dt),ht=ct.route;if(!ft&&lt&&tt&&!rt[rt.length-1].route.index&&(ft=matchPath({path:ct.relativePath,caseSensitive:ct.caseSensitive,end:!1},dt)),!ft)return null;Object.assign(nt,ft.params),st.push({params:nt,pathname:joinPaths([ot,ft.pathname]),pathnameBase:normalizePathname(joinPaths([ot,ft.pathnameBase])),route:ht}),ft.pathnameBase!=="/"&&(ot=joinPaths([ot,ft.pathnameBase]))}return st}function matchPath(_e,et){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[tt,rt]=compilePath(_e.path,_e.caseSensitive,_e.end),nt=et.match(tt);if(!nt)return null;let ot=nt[0],st=ot.replace(/(.)\/+$/,"$1"),at=nt.slice(1);return{params:rt.reduce((lt,{paramName:dt,isOptional:ft},ht)=>{if(dt==="*"){let gt=at[ht]||"";st=ot.slice(0,ot.length-gt.length).replace(/(.)\/+$/,"$1")}const pt=at[ht];return ft&&!pt?lt[dt]=void 0:lt[dt]=(pt||"").replace(/%2F/g,"/"),lt},{}),pathname:ot,pathnameBase:st,pattern:_e}}function compilePath(_e,et=!1,tt=!0){warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),`Route path "${_e}" will be treated as if it were "${_e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_e.replace(/\*$/,"/*")}".`);let rt=[],nt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(st,at,ct)=>(rt.push({paramName:at,isOptional:ct!=null}),ct?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return _e.endsWith("*")?(rt.push({paramName:"*"}),nt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?nt+="\\/*$":_e!==""&&_e!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,et?void 0:"i"),rt]}function decodePath(_e){try{return _e.split("/").map(et=>decodeURIComponent(et).replace(/\//g,"%2F")).join("/")}catch(et){return warning(!1,`The URL path "${_e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${et}).`),_e}}function stripBasename(_e,et){if(et==="/")return _e;if(!_e.toLowerCase().startsWith(et.toLowerCase()))return null;let tt=et.endsWith("/")?et.length-1:et.length,rt=_e.charAt(tt);return rt&&rt!=="/"?null:_e.slice(tt)||"/"}function resolvePath(_e,et="/"){let{pathname:tt,search:rt="",hash:nt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,et):et,search:normalizeSearch(rt),hash:normalizeHash(nt)}}function resolvePathname(_e,et){let tt=et.replace(/\/+$/,"").split("/");return _e.split("/").forEach(nt=>{nt===".."?tt.length>1&&tt.pop():nt!=="."&&tt.push(nt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(_e,et,tt,rt){return`Cannot include a '${_e}' character in a manually specified \`to.${et}\` field [${JSON.stringify(rt)}].  Please separate it out to the \`to.${tt}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_e){return _e.filter((et,tt)=>tt===0||et.route.path&&et.route.path.length>0)}function getResolveToMatches(_e){let et=getPathContributingMatches(_e);return et.map((tt,rt)=>rt===et.length-1?tt.pathname:tt.pathnameBase)}function resolveTo(_e,et,tt,rt=!1){let nt;typeof _e=="string"?nt=parsePath(_e):(nt={..._e},invariant(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let ot=_e===""||nt.pathname==="",st=ot?"/":nt.pathname,at;if(st==null)at=tt;else{let ft=et.length-1;if(!rt&&st.startsWith("..")){let ht=st.split("/");for(;ht[0]==="..";)ht.shift(),ft-=1;nt.pathname=ht.join("/")}at=ft>=0?et[ft]:"/"}let ct=resolvePath(nt,at),lt=st&&st!=="/"&&st.endsWith("/"),dt=(ot||st===".")&&tt.endsWith("/");return!ct.pathname.endsWith("/")&&(lt||dt)&&(ct.pathname+="/"),ct}var joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(_e,{relative:et}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:tt,navigator:rt}=reactExports.useContext(NavigationContext),{hash:nt,pathname:ot,search:st}=useResolvedPath(_e,{relative:et}),at=ot;return tt!=="/"&&(at=ot==="/"?tt:joinPaths([tt,ot])),rt.createHref({pathname:at,search:st,hash:nt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _e=reactExports.useContext(DataRouterContext),{basename:et,navigator:tt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),ot=JSON.stringify(getResolveToMatches(rt)),st=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{st.current=!0}),reactExports.useCallback((ct,lt={})=>{if(warning(st.current,navigateEffectWarning),!st.current)return;if(typeof ct=="number"){tt.go(ct);return}let dt=resolveTo(ct,JSON.parse(ot),nt,lt.relative==="path");_e==null&&et!=="/"&&(dt.pathname=dt.pathname==="/"?et:joinPaths([et,dt.pathname])),(lt.replace?tt.replace:tt.push)(dt,lt.state,lt)},[et,tt,ot,nt,_e])}reactExports.createContext(null);function useResolvedPath(_e,{relative:et}={}){let{matches:tt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),nt=JSON.stringify(getResolveToMatches(tt));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(nt),rt,et==="path"),[_e,nt,rt,et])}function useRoutes(_e,et){return useRoutesImpl(_e,et)}function useRoutesImpl(_e,et,tt,rt,nt){var bt;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:ot}=reactExports.useContext(NavigationContext),{matches:st}=reactExports.useContext(RouteContext),at=st[st.length-1],ct=at?at.params:{},lt=at?at.pathname:"/",dt=at?at.pathnameBase:"/",ft=at&&at.route;{let xt=ft&&ft.path||"";warningOnce(lt,!ft||xt.endsWith("*")||xt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${lt}" (under <Route path="${xt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${xt}"> to <Route path="${xt==="/"?"*":`${xt}/*`}">.`)}let ht=useLocation(),pt;if(et){let xt=typeof et=="string"?parsePath(et):et;invariant(dt==="/"||((bt=xt.pathname)==null?void 0:bt.startsWith(dt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${dt}" but pathname "${xt.pathname}" was given in the \`location\` prop.`),pt=xt}else pt=ht;let gt=pt.pathname||"/",mt=gt;if(dt!=="/"){let xt=dt.replace(/^\//,"").split("/");mt="/"+gt.replace(/^\//,"").split("/").slice(xt.length).join("/")}let vt=matchRoutes(_e,{pathname:mt});warning(ft||vt!=null,`No routes matched location "${pt.pathname}${pt.search}${pt.hash}" `),warning(vt==null||vt[vt.length-1].route.element!==void 0||vt[vt.length-1].route.Component!==void 0||vt[vt.length-1].route.lazy!==void 0,`Matched leaf route at location "${pt.pathname}${pt.search}${pt.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let yt=_renderMatches(vt&&vt.map(xt=>Object.assign({},xt,{params:Object.assign({},ct,xt.params),pathname:joinPaths([dt,ot.encodeLocation?ot.encodeLocation(xt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:xt.pathname]),pathnameBase:xt.pathnameBase==="/"?dt:joinPaths([dt,ot.encodeLocation?ot.encodeLocation(xt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:xt.pathnameBase])})),st,tt,rt,nt);return et&&yt?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...pt},navigationType:"POP"}},yt):yt}function DefaultErrorComponent(){let _e=useRouteError(),et=isRouteErrorResponse(_e)?`${_e.status} ${_e.statusText}`:_e instanceof Error?_e.message:JSON.stringify(_e),tt=_e instanceof Error?_e.stack:null,rt="rgba(200,200,200, 0.5)",nt={padding:"0.5rem",backgroundColor:rt},ot={padding:"2px 4px",backgroundColor:rt},st=null;return console.error("Error handled by React Router default ErrorBoundary:",_e),st=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:ot},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:ot},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),tt?reactExports.createElement("pre",{style:nt},tt):null,st)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(_e){super(_e),this.state={location:_e.location,revalidation:_e.revalidation,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,et){return et.location!==_e.location||et.revalidation!=="idle"&&_e.revalidation==="idle"?{error:_e.error,location:_e.location,revalidation:_e.revalidation}:{error:_e.error!==void 0?_e.error:et.error,location:et.location,revalidation:_e.revalidation||et.revalidation}}componentDidCatch(_e,et){this.props.unstable_onError?this.props.unstable_onError(_e,et):console.error("React Router caught the following error during render",_e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:_e,match:et,children:tt}){let rt=reactExports.useContext(DataRouterContext);return rt&&rt.static&&rt.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(rt.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:_e},tt)}function _renderMatches(_e,et=[],tt=null,rt=null,nt=null){if(_e==null){if(!tt)return null;if(tt.errors)_e=tt.matches;else if(et.length===0&&!tt.initialized&&tt.matches.length>0)_e=tt.matches;else return null}let ot=_e,st=tt==null?void 0:tt.errors;if(st!=null){let lt=ot.findIndex(dt=>dt.route.id&&(st==null?void 0:st[dt.route.id])!==void 0);invariant(lt>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(st).join(",")}`),ot=ot.slice(0,Math.min(ot.length,lt+1))}let at=!1,ct=-1;if(tt)for(let lt=0;lt<ot.length;lt++){let dt=ot[lt];if((dt.route.HydrateFallback||dt.route.hydrateFallbackElement)&&(ct=lt),dt.route.id){let{loaderData:ft,errors:ht}=tt,pt=dt.route.loader&&!ft.hasOwnProperty(dt.route.id)&&(!ht||ht[dt.route.id]===void 0);if(dt.route.lazy||pt){at=!0,ct>=0?ot=ot.slice(0,ct+1):ot=[ot[0]];break}}}return ot.reduceRight((lt,dt,ft)=>{let ht,pt=!1,gt=null,mt=null;tt&&(ht=st&&dt.route.id?st[dt.route.id]:void 0,gt=dt.route.errorElement||defaultErrorElement,at&&(ct<0&&ft===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pt=!0,mt=null):ct===ft&&(pt=!0,mt=dt.route.hydrateFallbackElement||null)));let vt=et.concat(ot.slice(0,ft+1)),yt=()=>{let bt;return ht?bt=gt:pt?bt=mt:dt.route.Component?bt=reactExports.createElement(dt.route.Component,null):dt.route.element?bt=dt.route.element:bt=lt,reactExports.createElement(RenderedRoute,{match:dt,routeContext:{outlet:lt,matches:vt,isDataRoute:tt!=null},children:bt})};return tt&&(dt.route.ErrorBoundary||dt.route.errorElement||ft===0)?reactExports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:gt,error:ht,children:yt(),routeContext:{outlet:null,matches:vt,isDataRoute:!0},unstable_onError:rt}):yt()},null)}function getDataRouterConsoleError(_e){return`${_e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_e){let et=reactExports.useContext(DataRouterContext);return invariant(et,getDataRouterConsoleError(_e)),et}function useDataRouterState(_e){let et=reactExports.useContext(DataRouterStateContext);return invariant(et,getDataRouterConsoleError(_e)),et}function useRouteContext(_e){let et=reactExports.useContext(RouteContext);return invariant(et,getDataRouterConsoleError(_e)),et}function useCurrentRouteId(_e){let et=useRouteContext(_e),tt=et.matches[et.matches.length-1];return invariant(tt.route.id,`${_e} can only be used on routes that contain a unique "id"`),tt.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var rt;let _e=reactExports.useContext(RouteErrorContext),et=useDataRouterState("useRouteError"),tt=useCurrentRouteId("useRouteError");return _e!==void 0?_e:(rt=et.errors)==null?void 0:rt[tt]}function useNavigateStable(){let{router:_e}=useDataRouterContext("useNavigate"),et=useCurrentRouteId("useNavigate"),tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{tt.current=!0}),reactExports.useCallback(async(nt,ot={})=>{warning(tt.current,navigateEffectWarning),tt.current&&(typeof nt=="number"?_e.navigate(nt):await _e.navigate(nt,{fromRouteId:et,...ot}))},[_e,et])}var alreadyWarned={};function warningOnce(_e,et,tt){!et&&!alreadyWarned[_e]&&(alreadyWarned[_e]=!0,warning(!1,tt))}reactExports.memo(DataRoutes);function DataRoutes({routes:_e,future:et,state:tt,unstable_onError:rt}){return useRoutesImpl(_e,void 0,tt,rt,et)}function Navigate({to:_e,replace:et,state:tt,relative:rt}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:nt}=reactExports.useContext(NavigationContext);warning(!nt,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:ot}=reactExports.useContext(RouteContext),{pathname:st}=useLocation(),at=useNavigate(),ct=resolveTo(_e,getResolveToMatches(ot),st,rt==="path"),lt=JSON.stringify(ct);return reactExports.useEffect(()=>{at(JSON.parse(lt),{replace:et,state:tt,relative:rt})},[at,lt,rt,et,tt]),null}function Route(_e){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:_e="/",children:et=null,location:tt,navigationType:rt="POP",navigator:nt,static:ot=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let st=_e.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:st,navigator:nt,static:ot,future:{}}),[st,nt,ot]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:ct="/",search:lt="",hash:dt="",state:ft=null,key:ht="default"}=tt,pt=reactExports.useMemo(()=>{let gt=stripBasename(ct,st);return gt==null?null:{location:{pathname:gt,search:lt,hash:dt,state:ft,key:ht},navigationType:rt}},[st,ct,lt,dt,ft,ht,rt]);return warning(pt!=null,`<Router basename="${st}"> is not able to match the URL "${ct}${lt}${dt}" because it does not start with the basename, so the <Router> won't render anything.`),pt==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:et,value:pt}))}function Routes({children:_e,location:et}){return useRoutes(createRoutesFromChildren(_e),et)}function createRoutesFromChildren(_e,et=[]){let tt=[];return reactExports.Children.forEach(_e,(rt,nt)=>{if(!reactExports.isValidElement(rt))return;let ot=[...et,nt];if(rt.type===reactExports.Fragment){tt.push.apply(tt,createRoutesFromChildren(rt.props.children,ot));return}invariant(rt.type===Route,`[${typeof rt.type=="string"?rt.type:rt.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!rt.props.index||!rt.props.children,"An index route cannot have child routes.");let st={id:rt.props.id||ot.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,middleware:rt.props.middleware,loader:rt.props.loader,action:rt.props.action,hydrateFallbackElement:rt.props.hydrateFallbackElement,HydrateFallback:rt.props.HydrateFallback,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.hasErrorBoundary===!0||rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(st.children=createRoutesFromChildren(rt.props.children,ot)),tt.push(st)}),tt}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(_e){return _e!=null&&typeof _e.tagName=="string"}function isButtonElement(_e){return isHtmlElement(_e)&&_e.tagName.toLowerCase()==="button"}function isFormElement(_e){return isHtmlElement(_e)&&_e.tagName.toLowerCase()==="form"}function isInputElement(_e){return isHtmlElement(_e)&&_e.tagName.toLowerCase()==="input"}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,et){return _e.button===0&&(!et||et==="_self")&&!isModifiedEvent(_e)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_e){return _e!=null&&!supportedFormEncTypes.has(_e)?(warning(!1,`"${_e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):_e}function getFormSubmissionInfo(_e,et){let tt,rt,nt,ot,st;if(isFormElement(_e)){let at=_e.getAttribute("action");rt=at?stripBasename(at,et):null,tt=_e.getAttribute("method")||defaultMethod,nt=getFormEncType(_e.getAttribute("enctype"))||defaultEncType,ot=new FormData(_e)}else if(isButtonElement(_e)||isInputElement(_e)&&(_e.type==="submit"||_e.type==="image")){let at=_e.form;if(at==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let ct=_e.getAttribute("formaction")||at.getAttribute("action");if(rt=ct?stripBasename(ct,et):null,tt=_e.getAttribute("formmethod")||at.getAttribute("method")||defaultMethod,nt=getFormEncType(_e.getAttribute("formenctype"))||getFormEncType(at.getAttribute("enctype"))||defaultEncType,ot=new FormData(at,_e),!isFormDataSubmitterSupported()){let{name:lt,type:dt,value:ft}=_e;if(dt==="image"){let ht=lt?`${lt}.`:"";ot.append(`${ht}x`,"0"),ot.append(`${ht}y`,"0")}else lt&&ot.append(lt,ft)}}else{if(isHtmlElement(_e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');tt=defaultMethod,rt=null,nt=defaultEncType,st=_e}return ot&&nt==="text/plain"&&(st=ot,ot=void 0),{action:rt,method:tt.toLowerCase(),encType:nt,formData:ot,body:st}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(_e,et){if(_e===!1||_e===null||typeof _e>"u")throw new Error(et)}function singleFetchUrl(_e,et,tt){let rt=typeof _e=="string"?new URL(_e,typeof window>"u"?"server://singlefetch/":window.location.origin):_e;return rt.pathname==="/"?rt.pathname=`_root.${tt}`:et&&stripBasename(rt.pathname,et)==="/"?rt.pathname=`${et.replace(/\/$/,"")}/_root.${tt}`:rt.pathname=`${rt.pathname.replace(/\/$/,"")}.${tt}`,rt}async function loadRouteModule(_e,et){if(_e.id in et)return et[_e.id];try{let tt=await import(_e.module);return et[_e.id]=tt,tt}catch(tt){return console.error(`Error loading route module \`${_e.module}\`, reloading page...`),console.error(tt),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(_e){return _e==null?!1:_e.href==null?_e.rel==="preload"&&typeof _e.imageSrcSet=="string"&&typeof _e.imageSizes=="string":typeof _e.rel=="string"&&typeof _e.href=="string"}async function getKeyedPrefetchLinks(_e,et,tt){let rt=await Promise.all(_e.map(async nt=>{let ot=et.routes[nt.route.id];if(ot){let st=await loadRouteModule(ot,tt);return st.links?st.links():[]}return[]}));return dedupeLinkDescriptors(rt.flat(1).filter(isHtmlLinkDescriptor).filter(nt=>nt.rel==="stylesheet"||nt.rel==="preload").map(nt=>nt.rel==="stylesheet"?{...nt,rel:"prefetch",as:"style"}:{...nt,rel:"prefetch"}))}function getNewMatchesForLinks(_e,et,tt,rt,nt,ot){let st=(ct,lt)=>tt[lt]?ct.route.id!==tt[lt].route.id:!0,at=(ct,lt)=>{var dt;return tt[lt].pathname!==ct.pathname||((dt=tt[lt].route.path)==null?void 0:dt.endsWith("*"))&&tt[lt].params["*"]!==ct.params["*"]};return ot==="assets"?et.filter((ct,lt)=>st(ct,lt)||at(ct,lt)):ot==="data"?et.filter((ct,lt)=>{var ft;let dt=rt.routes[ct.route.id];if(!dt||!dt.hasLoader)return!1;if(st(ct,lt)||at(ct,lt))return!0;if(ct.route.shouldRevalidate){let ht=ct.route.shouldRevalidate({currentUrl:new URL(nt.pathname+nt.search+nt.hash,window.origin),currentParams:((ft=tt[0])==null?void 0:ft.params)||{},nextUrl:new URL(_e,window.origin),nextParams:ct.params,defaultShouldRevalidate:!0});if(typeof ht=="boolean")return ht}return!0}):[]}function getModuleLinkHrefs(_e,et,{includeHydrateFallback:tt}={}){return dedupeHrefs(_e.map(rt=>{let nt=et.routes[rt.route.id];if(!nt)return[];let ot=[nt.module];return nt.clientActionModule&&(ot=ot.concat(nt.clientActionModule)),nt.clientLoaderModule&&(ot=ot.concat(nt.clientLoaderModule)),tt&&nt.hydrateFallbackModule&&(ot=ot.concat(nt.hydrateFallbackModule)),nt.imports&&(ot=ot.concat(nt.imports)),ot}).flat(1))}function dedupeHrefs(_e){return[...new Set(_e)]}function sortKeys(_e){let et={},tt=Object.keys(_e).sort();for(let rt of tt)et[rt]=_e[rt];return et}function dedupeLinkDescriptors(_e,et){let tt=new Set;return new Set(et),_e.reduce((rt,nt)=>{let ot=JSON.stringify(sortKeys(nt));return tt.has(ot)||(tt.add(ot),rt.push({key:ot,link:nt})),rt},[])}function useDataRouterContext2(){let _e=reactExports.useContext(DataRouterContext);return invariant2(_e,"You must render this element inside a <DataRouterContext.Provider> element"),_e}function useDataRouterStateContext(){let _e=reactExports.useContext(DataRouterStateContext);return invariant2(_e,"You must render this element inside a <DataRouterStateContext.Provider> element"),_e}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let _e=reactExports.useContext(FrameworkContext);return invariant2(_e,"You must render this element inside a <HydratedRouter> element"),_e}function usePrefetchBehavior(_e,et){let tt=reactExports.useContext(FrameworkContext),[rt,nt]=reactExports.useState(!1),[ot,st]=reactExports.useState(!1),{onFocus:at,onBlur:ct,onMouseEnter:lt,onMouseLeave:dt,onTouchStart:ft}=et,ht=reactExports.useRef(null);reactExports.useEffect(()=>{if(_e==="render"&&st(!0),_e==="viewport"){let mt=yt=>{yt.forEach(bt=>{st(bt.isIntersecting)})},vt=new IntersectionObserver(mt,{threshold:.5});return ht.current&&vt.observe(ht.current),()=>{vt.disconnect()}}},[_e]),reactExports.useEffect(()=>{if(rt){let mt=setTimeout(()=>{st(!0)},100);return()=>{clearTimeout(mt)}}},[rt]);let pt=()=>{nt(!0)},gt=()=>{nt(!1),st(!1)};return tt?_e!=="intent"?[ot,ht,{}]:[ot,ht,{onFocus:composeEventHandlers(at,pt),onBlur:composeEventHandlers(ct,gt),onMouseEnter:composeEventHandlers(lt,pt),onMouseLeave:composeEventHandlers(dt,gt),onTouchStart:composeEventHandlers(ft,pt)}]:[!1,ht,{}]}function composeEventHandlers(_e,et){return tt=>{_e&&_e(tt),tt.defaultPrevented||et(tt)}}function PrefetchPageLinks({page:_e,...et}){let{router:tt}=useDataRouterContext2(),rt=reactExports.useMemo(()=>matchRoutes(tt.routes,_e,tt.basename),[tt.routes,_e,tt.basename]);return rt?reactExports.createElement(PrefetchPageLinksImpl,{page:_e,matches:rt,...et}):null}function useKeyedPrefetchLinks(_e){let{manifest:et,routeModules:tt}=useFrameworkContext(),[rt,nt]=reactExports.useState([]);return reactExports.useEffect(()=>{let ot=!1;return getKeyedPrefetchLinks(_e,et,tt).then(st=>{ot||nt(st)}),()=>{ot=!0}},[_e,et,tt]),rt}function PrefetchPageLinksImpl({page:_e,matches:et,...tt}){let rt=useLocation(),{manifest:nt,routeModules:ot}=useFrameworkContext(),{basename:st}=useDataRouterContext2(),{loaderData:at,matches:ct}=useDataRouterStateContext(),lt=reactExports.useMemo(()=>getNewMatchesForLinks(_e,et,ct,nt,rt,"data"),[_e,et,ct,nt,rt]),dt=reactExports.useMemo(()=>getNewMatchesForLinks(_e,et,ct,nt,rt,"assets"),[_e,et,ct,nt,rt]),ft=reactExports.useMemo(()=>{if(_e===rt.pathname+rt.search+rt.hash)return[];let gt=new Set,mt=!1;if(et.forEach(yt=>{var xt;let bt=nt.routes[yt.route.id];!bt||!bt.hasLoader||(!lt.some(wt=>wt.route.id===yt.route.id)&&yt.route.id in at&&((xt=ot[yt.route.id])!=null&&xt.shouldRevalidate)||bt.hasClientLoader?mt=!0:gt.add(yt.route.id))}),gt.size===0)return[];let vt=singleFetchUrl(_e,st,"data");return mt&&gt.size>0&&vt.searchParams.set("_routes",et.filter(yt=>gt.has(yt.route.id)).map(yt=>yt.route.id).join(",")),[vt.pathname+vt.search]},[st,at,rt,nt,lt,et,_e,ot]),ht=reactExports.useMemo(()=>getModuleLinkHrefs(dt,nt),[dt,nt]),pt=useKeyedPrefetchLinks(dt);return reactExports.createElement(reactExports.Fragment,null,ft.map(gt=>reactExports.createElement("link",{key:gt,rel:"prefetch",as:"fetch",href:gt,...tt})),ht.map(gt=>reactExports.createElement("link",{key:gt,rel:"modulepreload",href:gt,...tt})),pt.map(({key:gt,link:mt})=>reactExports.createElement("link",{key:gt,nonce:tt.nonce,...mt})))}function mergeRefs(..._e){return et=>{_e.forEach(tt=>{typeof tt=="function"?tt(et):tt!=null&&(tt.current=et)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.9.4")}catch{}function BrowserRouter({basename:_e,children:et,window:tt}){let rt=reactExports.useRef();rt.current==null&&(rt.current=createBrowserHistory({window:tt,v5Compat:!0}));let nt=rt.current,[ot,st]=reactExports.useState({action:nt.action,location:nt.location}),at=reactExports.useCallback(ct=>{reactExports.startTransition(()=>st(ct))},[st]);return reactExports.useLayoutEffect(()=>nt.listen(at),[nt,at]),reactExports.createElement(Router,{basename:_e,children:et,location:ot.location,navigationType:ot.action,navigator:nt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:et,discover:tt="render",prefetch:rt="none",relative:nt,reloadDocument:ot,replace:st,state:at,target:ct,to:lt,preventScrollReset:dt,viewTransition:ft,...ht},pt){let{basename:gt}=reactExports.useContext(NavigationContext),mt=typeof lt=="string"&&ABSOLUTE_URL_REGEX2.test(lt),vt,yt=!1;if(typeof lt=="string"&&mt&&(vt=lt,isBrowser))try{let Ct=new URL(window.location.href),_t=lt.startsWith("//")?new URL(Ct.protocol+lt):new URL(lt),Tt=stripBasename(_t.pathname,gt);_t.origin===Ct.origin&&Tt!=null?lt=Tt+_t.search+_t.hash:yt=!0}catch{warning(!1,`<Link to="${lt}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let bt=useHref(lt,{relative:nt}),[xt,wt,At]=usePrefetchBehavior(rt,ht),St=useLinkClickHandler(lt,{replace:st,state:at,target:ct,preventScrollReset:dt,relative:nt,viewTransition:ft});function $t(Ct){et&&et(Ct),Ct.defaultPrevented||St(Ct)}let kt=reactExports.createElement("a",{...ht,...At,href:vt||bt,onClick:yt||ot?et:$t,ref:mergeRefs(pt,wt),target:ct,"data-discover":!mt&&tt==="render"?"true":void 0});return xt&&!mt?reactExports.createElement(reactExports.Fragment,null,kt,reactExports.createElement(PrefetchPageLinks,{page:bt})):kt});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":et="page",caseSensitive:tt=!1,className:rt="",end:nt=!1,style:ot,to:st,viewTransition:at,children:ct,...lt},dt){let ft=useResolvedPath(st,{relative:lt.relative}),ht=useLocation(),pt=reactExports.useContext(DataRouterStateContext),{navigator:gt,basename:mt}=reactExports.useContext(NavigationContext),vt=pt!=null&&useViewTransitionState(ft)&&at===!0,yt=gt.encodeLocation?gt.encodeLocation(ft).pathname:ft.pathname,bt=ht.pathname,xt=pt&&pt.navigation&&pt.navigation.location?pt.navigation.location.pathname:null;tt||(bt=bt.toLowerCase(),xt=xt?xt.toLowerCase():null,yt=yt.toLowerCase()),xt&&mt&&(xt=stripBasename(xt,mt)||xt);const wt=yt!=="/"&&yt.endsWith("/")?yt.length-1:yt.length;let At=bt===yt||!nt&&bt.startsWith(yt)&&bt.charAt(wt)==="/",St=xt!=null&&(xt===yt||!nt&&xt.startsWith(yt)&&xt.charAt(yt.length)==="/"),$t={isActive:At,isPending:St,isTransitioning:vt},kt=At?et:void 0,Ct;typeof rt=="function"?Ct=rt($t):Ct=[rt,At?"active":null,St?"pending":null,vt?"transitioning":null].filter(Boolean).join(" ");let _t=typeof ot=="function"?ot($t):ot;return reactExports.createElement(Link$1,{...lt,"aria-current":kt,className:Ct,ref:dt,style:_t,to:st,viewTransition:at},typeof ct=="function"?ct($t):ct)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:_e="render",fetcherKey:et,navigate:tt,reloadDocument:rt,replace:nt,state:ot,method:st=defaultMethod,action:at,onSubmit:ct,relative:lt,preventScrollReset:dt,viewTransition:ft,...ht},pt)=>{let gt=useSubmit(),mt=useFormAction(at,{relative:lt}),vt=st.toLowerCase()==="get"?"get":"post",yt=typeof at=="string"&&ABSOLUTE_URL_REGEX2.test(at),bt=xt=>{if(ct&&ct(xt),xt.defaultPrevented)return;xt.preventDefault();let wt=xt.nativeEvent.submitter,At=(wt==null?void 0:wt.getAttribute("formmethod"))||st;gt(wt||xt.currentTarget,{fetcherKey:et,method:At,navigate:tt,replace:nt,state:ot,relative:lt,preventScrollReset:dt,viewTransition:ft})};return reactExports.createElement("form",{ref:pt,method:vt,action:mt,onSubmit:rt?ct:bt,...ht,"data-discover":!yt&&_e==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(_e){return`${_e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_e){let et=reactExports.useContext(DataRouterContext);return invariant(et,getDataRouterConsoleError2(_e)),et}function useLinkClickHandler(_e,{target:et,replace:tt,state:rt,preventScrollReset:nt,relative:ot,viewTransition:st}={}){let at=useNavigate(),ct=useLocation(),lt=useResolvedPath(_e,{relative:ot});return reactExports.useCallback(dt=>{if(shouldProcessLinkClick(dt,et)){dt.preventDefault();let ft=tt!==void 0?tt:createPath(ct)===createPath(lt);at(_e,{replace:ft,state:rt,preventScrollReset:nt,relative:ot,viewTransition:st})}},[ct,at,lt,tt,rt,et,_e,nt,ot,st])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:_e}=useDataRouterContext3("useSubmit"),{basename:et}=reactExports.useContext(NavigationContext),tt=useRouteId();return reactExports.useCallback(async(rt,nt={})=>{let{action:ot,method:st,encType:at,formData:ct,body:lt}=getFormSubmissionInfo(rt,et);if(nt.navigate===!1){let dt=nt.fetcherKey||getUniqueFetcherId();await _e.fetch(dt,tt,nt.action||ot,{preventScrollReset:nt.preventScrollReset,formData:ct,body:lt,formMethod:nt.method||st,formEncType:nt.encType||at,flushSync:nt.flushSync})}else await _e.navigate(nt.action||ot,{preventScrollReset:nt.preventScrollReset,formData:ct,body:lt,formMethod:nt.method||st,formEncType:nt.encType||at,replace:nt.replace,state:nt.state,fromRouteId:tt,flushSync:nt.flushSync,viewTransition:nt.viewTransition})},[_e,et,tt])}function useFormAction(_e,{relative:et}={}){let{basename:tt}=reactExports.useContext(NavigationContext),rt=reactExports.useContext(RouteContext);invariant(rt,"useFormAction must be used inside a RouteContext");let[nt]=rt.matches.slice(-1),ot={...useResolvedPath(_e||".",{relative:et})},st=useLocation();if(_e==null){ot.search=st.search;let at=new URLSearchParams(ot.search),ct=at.getAll("index");if(ct.some(dt=>dt==="")){at.delete("index"),ct.filter(ft=>ft).forEach(ft=>at.append("index",ft));let dt=at.toString();ot.search=dt?`?${dt}`:""}}return(!_e||_e===".")&&nt.route.index&&(ot.search=ot.search?ot.search.replace(/^\?/,"?index&"):"?index"),tt!=="/"&&(ot.pathname=ot.pathname==="/"?tt:joinPaths([tt,ot.pathname])),createPath(ot)}function useViewTransitionState(_e,{relative:et}={}){let tt=reactExports.useContext(ViewTransitionContext);invariant(tt!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:rt}=useDataRouterContext3("useViewTransitionState"),nt=useResolvedPath(_e,{relative:et});if(!tt.isTransitioning)return!1;let ot=stripBasename(tt.currentLocation.pathname,rt)||tt.currentLocation.pathname,st=stripBasename(tt.nextLocation.pathname,rt)||tt.nextLocation.pathname;return matchPath(nt.pathname,st)!=null||matchPath(nt.pathname,ot)!=null}const version$1="6.15.0";function checkType(_e,et,tt){const rt=et.split("|").map(ot=>ot.trim());for(let ot=0;ot<rt.length;ot++)switch(et){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof _e===et)return}const nt=new Error(`invalid value for type ${et}`);throw nt.code="INVALID_ARGUMENT",nt.argument=`value.${tt}`,nt.value=_e,nt}async function resolveProperties(_e){const et=Object.keys(_e);return(await Promise.all(et.map(rt=>Promise.resolve(_e[rt])))).reduce((rt,nt,ot)=>(rt[et[ot]]=nt,rt),{})}function defineProperties(_e,et,tt){for(let rt in et){let nt=et[rt];const ot=tt?tt[rt]:null;ot&&checkType(nt,ot,rt),Object.defineProperty(_e,rt,{enumerable:!0,value:nt,writable:!1})}}function stringify(_e,et){if(_e==null)return"null";if(et==null&&(et=new Set),typeof _e=="object"){if(et.has(_e))return"[Circular]";et.add(_e)}if(Array.isArray(_e))return"[ "+_e.map(tt=>stringify(tt,et)).join(", ")+" ]";if(_e instanceof Uint8Array){const tt="0123456789abcdef";let rt="0x";for(let nt=0;nt<_e.length;nt++)rt+=tt[_e[nt]>>4],rt+=tt[_e[nt]&15];return rt}if(typeof _e=="object"&&typeof _e.toJSON=="function")return stringify(_e.toJSON(),et);switch(typeof _e){case"boolean":case"number":case"symbol":return _e.toString();case"bigint":return BigInt(_e).toString();case"string":return JSON.stringify(_e);case"object":{const tt=Object.keys(_e);return tt.sort(),"{ "+tt.map(rt=>`${stringify(rt,et)}: ${stringify(_e[rt],et)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function isError(_e,et){return _e&&_e.code===et}function isCallException(_e){return isError(_e,"CALL_EXCEPTION")}function makeError(_e,et,tt){let rt=_e;{const ot=[];if(tt){if("message"in tt||"code"in tt||"name"in tt)throw new Error(`value will overwrite populated values: ${stringify(tt)}`);for(const st in tt){if(st==="shortMessage")continue;const at=tt[st];ot.push(st+"="+stringify(at))}}ot.push(`code=${et}`),ot.push(`version=${version$1}`),ot.length&&(_e+=" ("+ot.join(", ")+")")}let nt;switch(et){case"INVALID_ARGUMENT":nt=new TypeError(_e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":nt=new RangeError(_e);break;default:nt=new Error(_e)}return defineProperties(nt,{code:et}),tt&&Object.assign(nt,tt),nt.shortMessage==null&&defineProperties(nt,{shortMessage:rt}),nt}function assert$1(_e,et,tt,rt){if(!_e)throw makeError(et,tt,rt)}function assertArgument(_e,et,tt,rt){assert$1(_e,et,"INVALID_ARGUMENT",{argument:tt,value:rt})}function assertArgumentCount(_e,et,tt){tt==null&&(tt=""),tt&&(tt=": "+tt),assert$1(_e>=et,"missing argument"+tt,"MISSING_ARGUMENT",{count:_e,expectedCount:et}),assert$1(_e<=et,"too many arguments"+tt,"UNEXPECTED_ARGUMENT",{count:_e,expectedCount:et})}["NFD","NFC","NFKD","NFKC"].reduce((_e,et)=>{try{if("test".normalize(et)!=="test")throw new Error("bad");if(et==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");_e.push(et)}catch{}return _e},[]);function assertPrivate(_e,et,tt){if(tt==null&&(tt=""),_e!==et){let rt=tt,nt="new";tt&&(rt+=".",nt+=" "+tt),assert$1(!1,`private constructor; use ${rt}from* methods`,"UNSUPPORTED_OPERATION",{operation:nt})}}function _getBytes(_e,et,tt){if(_e instanceof Uint8Array)return tt?new Uint8Array(_e):_e;if(typeof _e=="string"&&_e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const rt=new Uint8Array((_e.length-2)/2);let nt=2;for(let ot=0;ot<rt.length;ot++)rt[ot]=parseInt(_e.substring(nt,nt+2),16),nt+=2;return rt}assertArgument(!1,"invalid BytesLike value",et||"value",_e)}function getBytes(_e,et){return _getBytes(_e,et,!1)}function getBytesCopy(_e,et){return _getBytes(_e,et,!0)}function isHexString(_e,et){return!(typeof _e!="string"||!_e.match(/^0x[0-9A-Fa-f]*$/)||typeof et=="number"&&_e.length!==2+2*et||et===!0&&_e.length%2!==0)}function isBytesLike(_e){return isHexString(_e,!0)||_e instanceof Uint8Array}const HexCharacters="0123456789abcdef";function hexlify(_e){const et=getBytes(_e);let tt="0x";for(let rt=0;rt<et.length;rt++){const nt=et[rt];tt+=HexCharacters[(nt&240)>>4]+HexCharacters[nt&15]}return tt}function concat$2(_e){return"0x"+_e.map(et=>hexlify(et).substring(2)).join("")}function dataLength(_e){return isHexString(_e,!0)?(_e.length-2)/2:getBytes(_e).length}function dataSlice(_e,et,tt){const rt=getBytes(_e);return tt!=null&&tt>rt.length&&assert$1(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:rt,length:rt.length,offset:tt}),hexlify(rt.slice(et??0,tt??rt.length))}function zeroPad(_e,et,tt){const rt=getBytes(_e);assert$1(et>=rt.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(rt),length:et,offset:et+1});const nt=new Uint8Array(et);return nt.fill(0),tt?nt.set(rt,et-rt.length):nt.set(rt,0),hexlify(nt)}function zeroPadValue(_e,et){return zeroPad(_e,et,!0)}function zeroPadBytes(_e,et){return zeroPad(_e,et,!1)}const BN_0$9=BigInt(0),BN_1$4=BigInt(1),maxValue=9007199254740991;function fromTwos(_e,et){const tt=getUint(_e,"value"),rt=BigInt(getNumber(et,"width"));if(assert$1(tt>>rt===BN_0$9,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:_e}),tt>>rt-BN_1$4){const nt=(BN_1$4<<rt)-BN_1$4;return-((~tt&nt)+BN_1$4)}return tt}function toTwos(_e,et){let tt=getBigInt(_e,"value");const rt=BigInt(getNumber(et,"width")),nt=BN_1$4<<rt-BN_1$4;if(tt<BN_0$9){tt=-tt,assert$1(tt<=nt,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:_e});const ot=(BN_1$4<<rt)-BN_1$4;return(~tt&ot)+BN_1$4}else assert$1(tt<nt,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:_e});return tt}function mask(_e,et){const tt=getUint(_e,"value"),rt=BigInt(getNumber(et,"bits"));return tt&(BN_1$4<<rt)-BN_1$4}function getBigInt(_e,et){switch(typeof _e){case"bigint":return _e;case"number":return assertArgument(Number.isInteger(_e),"underflow",et||"value",_e),assertArgument(_e>=-maxValue&&_e<=maxValue,"overflow",et||"value",_e),BigInt(_e);case"string":try{if(_e==="")throw new Error("empty string");return _e[0]==="-"&&_e[1]!=="-"?-BigInt(_e.substring(1)):BigInt(_e)}catch(tt){assertArgument(!1,`invalid BigNumberish string: ${tt.message}`,et||"value",_e)}}assertArgument(!1,"invalid BigNumberish value",et||"value",_e)}function getUint(_e,et){const tt=getBigInt(_e,et);return assert$1(tt>=BN_0$9,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:_e}),tt}const Nibbles="0123456789abcdef";function toBigInt(_e){if(_e instanceof Uint8Array){let et="0x0";for(const tt of _e)et+=Nibbles[tt>>4],et+=Nibbles[tt&15];return BigInt(et)}return getBigInt(_e)}function getNumber(_e,et){switch(typeof _e){case"bigint":return assertArgument(_e>=-maxValue&&_e<=maxValue,"overflow",et||"value",_e),Number(_e);case"number":return assertArgument(Number.isInteger(_e),"underflow",et||"value",_e),assertArgument(_e>=-maxValue&&_e<=maxValue,"overflow",et||"value",_e),_e;case"string":try{if(_e==="")throw new Error("empty string");return getNumber(BigInt(_e),et)}catch(tt){assertArgument(!1,`invalid numeric string: ${tt.message}`,et||"value",_e)}}assertArgument(!1,"invalid numeric value",et||"value",_e)}function toNumber$1(_e){return getNumber(toBigInt(_e))}function toBeHex(_e,et){let rt=getUint(_e,"value").toString(16);if(et==null)rt.length%2&&(rt="0"+rt);else{const nt=getNumber(et,"width");for(assert$1(nt*2>=rt.length,`value exceeds width (${nt} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:_e});rt.length<nt*2;)rt="0"+rt}return"0x"+rt}function toBeArray(_e){const et=getUint(_e,"value");if(et===BN_0$9)return new Uint8Array([]);let tt=et.toString(16);tt.length%2&&(tt="0"+tt);const rt=new Uint8Array(tt.length/2);for(let nt=0;nt<rt.length;nt++){const ot=nt*2;rt[nt]=parseInt(tt.substring(ot,ot+2),16)}return rt}function toQuantity(_e){let et=hexlify(isBytesLike(_e)?_e:toBeArray(_e)).substring(2);for(;et.startsWith("0");)et=et.substring(1);return et===""&&(et="0"),"0x"+et}const Alphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const BN_58=BigInt(58);function encodeBase58(_e){const et=getBytes(_e);let tt=toBigInt(et),rt="";for(;tt;)rt=Alphabet[Number(tt%BN_58)]+rt,tt/=BN_58;for(let nt=0;nt<et.length&&!et[nt];nt++)rt=Alphabet[0]+rt;return rt}function decodeBase64(_e){_e=atob(_e);const et=new Uint8Array(_e.length);for(let tt=0;tt<_e.length;tt++)et[tt]=_e.charCodeAt(tt);return getBytes(et)}function encodeBase64(_e){const et=getBytes(_e);let tt="";for(let rt=0;rt<et.length;rt++)tt+=String.fromCharCode(et[rt]);return btoa(tt)}var ao;class EventPayload{constructor(et,tt,rt){Nt(this,"filter");Nt(this,"emitter");Ot(this,ao);Pt(this,ao,tt),defineProperties(this,{emitter:et,filter:rt})}async removeListener(){Et(this,ao)!=null&&await this.emitter.off(this.filter,Et(this,ao))}}ao=new WeakMap;function errorFunc(_e,et,tt,rt,nt){assertArgument(!1,`invalid codepoint at offset ${et}; ${_e}`,"bytes",tt)}function ignoreFunc(_e,et,tt,rt,nt){if(_e==="BAD_PREFIX"||_e==="UNEXPECTED_CONTINUE"){let ot=0;for(let st=et+1;st<tt.length&&tt[st]>>6===2;st++)ot++;return ot}return _e==="OVERRUN"?tt.length-et-1:0}function replaceFunc(_e,et,tt,rt,nt){return _e==="OVERLONG"?(assertArgument(typeof nt=="number","invalid bad code point for replacement","badCodepoint",nt),rt.push(nt),0):(rt.push(65533),ignoreFunc(_e,et,tt))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(_e,et){et==null&&(et=Utf8ErrorFuncs.error);const tt=getBytes(_e,"bytes"),rt=[];let nt=0;for(;nt<tt.length;){const ot=tt[nt++];if(!(ot>>7)){rt.push(ot);continue}let st=null,at=null;if((ot&224)===192)st=1,at=127;else if((ot&240)===224)st=2,at=2047;else if((ot&248)===240)st=3,at=65535;else{(ot&192)===128?nt+=et("UNEXPECTED_CONTINUE",nt-1,tt,rt):nt+=et("BAD_PREFIX",nt-1,tt,rt);continue}if(nt-1+st>=tt.length){nt+=et("OVERRUN",nt-1,tt,rt);continue}let ct=ot&(1<<8-st-1)-1;for(let lt=0;lt<st;lt++){let dt=tt[nt];if((dt&192)!=128){nt+=et("MISSING_CONTINUE",nt,tt,rt),ct=null;break}ct=ct<<6|dt&63,nt++}if(ct!==null){if(ct>1114111){nt+=et("OUT_OF_RANGE",nt-1-st,tt,rt,ct);continue}if(ct>=55296&&ct<=57343){nt+=et("UTF16_SURROGATE",nt-1-st,tt,rt,ct);continue}if(ct<=at){nt+=et("OVERLONG",nt-1-st,tt,rt,ct);continue}rt.push(ct)}}return rt}function toUtf8Bytes(_e,et){assertArgument(typeof _e=="string","invalid string value","str",_e);let tt=[];for(let rt=0;rt<_e.length;rt++){const nt=_e.charCodeAt(rt);if(nt<128)tt.push(nt);else if(nt<2048)tt.push(nt>>6|192),tt.push(nt&63|128);else if((nt&64512)==55296){rt++;const ot=_e.charCodeAt(rt);assertArgument(rt<_e.length&&(ot&64512)===56320,"invalid surrogate pair","str",_e);const st=65536+((nt&1023)<<10)+(ot&1023);tt.push(st>>18|240),tt.push(st>>12&63|128),tt.push(st>>6&63|128),tt.push(st&63|128)}else tt.push(nt>>12|224),tt.push(nt>>6&63|128),tt.push(nt&63|128)}return new Uint8Array(tt)}function _toUtf8String(_e){return _e.map(et=>et<=65535?String.fromCharCode(et):(et-=65536,String.fromCharCode((et>>10&1023)+55296,(et&1023)+56320))).join("")}function toUtf8String(_e,et){return _toUtf8String(getUtf8CodePoints(_e,et))}function createGetUrl(_e){async function et(tt,rt){assert$1(rt==null||!rt.cancelled,"request cancelled before sending","CANCELLED");const nt=tt.url.split(":")[0].toLowerCase();assert$1(nt==="http"||nt==="https",`unsupported protocol ${nt}`,"UNSUPPORTED_OPERATION",{info:{protocol:nt},operation:"request"}),assert$1(nt==="https"||!tt.credentials||tt.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let ot=null;const st=new AbortController,at=setTimeout(()=>{ot=makeError("request timeout","TIMEOUT"),st.abort()},tt.timeout);rt&&rt.addListener(()=>{ot=makeError("request cancelled","CANCELLED"),st.abort()});const ct=Object.assign({},_e,{method:tt.method,headers:new Headers(Array.from(tt)),body:tt.body||void 0,signal:st.signal});let lt;try{lt=await fetch(tt.url,ct)}catch(pt){throw clearTimeout(at),ot||pt}clearTimeout(at);const dt={};lt.headers.forEach((pt,gt)=>{dt[gt.toLowerCase()]=pt});const ft=await lt.arrayBuffer(),ht=ft==null?null:new Uint8Array(ft);return{statusCode:lt.status,statusMessage:lt.statusText,headers:dt,body:ht}}return et}const MAX_ATTEMPTS=12,SLOT_INTERVAL=250;let defaultGetUrlFunc=createGetUrl();const reData=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),reIpfs=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let locked$1=!1;async function dataGatewayFunc(_e,et){try{const tt=_e.match(reData);if(!tt)throw new Error("invalid data");return new FetchResponse(200,"OK",{"content-type":tt[1]||"text/plain"},tt[2]?decodeBase64(tt[3]):unpercent(tt[3]))}catch{return new FetchResponse(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest(_e))}}function getIpfsGatewayFunc(_e){async function et(tt,rt){try{const nt=tt.match(reIpfs);if(!nt)throw new Error("invalid link");return new FetchRequest(`${_e}${nt[2]}`)}catch{return new FetchResponse(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest(tt))}}return et}const Gateways={data:dataGatewayFunc,ipfs:getIpfsGatewayFunc("https://gateway.ipfs.io/ipfs/")},fetchSignals=new WeakMap;var In,fn;class FetchCancelSignal{constructor(et){Ot(this,In);Ot(this,fn);Pt(this,In,[]),Pt(this,fn,!1),fetchSignals.set(et,()=>{if(!Et(this,fn)){Pt(this,fn,!0);for(const tt of Et(this,In))setTimeout(()=>{tt()},0);Pt(this,In,[])}})}addListener(et){assert$1(!Et(this,fn),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),Et(this,In).push(et)}get cancelled(){return Et(this,fn)}checkSignal(){assert$1(!this.cancelled,"cancelled","CANCELLED",{})}}In=new WeakMap,fn=new WeakMap;function checkSignal(_e){if(_e==null)throw new Error("missing signal; should not happen");return _e.checkSignal(),_e}var co,lo,Rr,Jr,uo,fo,ur,Er,Zr,Dn,Bn,Ln,Fr,jr,hn,Mn,Qo;const Es=class Es{constructor(et){Ot(this,Mn);Ot(this,co);Ot(this,lo);Ot(this,Rr);Ot(this,Jr);Ot(this,uo);Ot(this,fo);Ot(this,ur);Ot(this,Er);Ot(this,Zr);Ot(this,Dn);Ot(this,Bn);Ot(this,Ln);Ot(this,Fr);Ot(this,jr);Ot(this,hn);Pt(this,fo,String(et)),Pt(this,co,!1),Pt(this,lo,!0),Pt(this,Rr,{}),Pt(this,Jr,""),Pt(this,uo,3e5),Pt(this,jr,{slotInterval:SLOT_INTERVAL,maxAttempts:MAX_ATTEMPTS}),Pt(this,hn,null)}get url(){return Et(this,fo)}set url(et){Pt(this,fo,String(et))}get body(){return Et(this,ur)==null?null:new Uint8Array(Et(this,ur))}set body(et){if(et==null)Pt(this,ur,void 0),Pt(this,Er,void 0);else if(typeof et=="string")Pt(this,ur,toUtf8Bytes(et)),Pt(this,Er,"text/plain");else if(et instanceof Uint8Array)Pt(this,ur,et),Pt(this,Er,"application/octet-stream");else if(typeof et=="object")Pt(this,ur,toUtf8Bytes(JSON.stringify(et))),Pt(this,Er,"application/json");else throw new Error("invalid body")}hasBody(){return Et(this,ur)!=null}get method(){return Et(this,Jr)?Et(this,Jr):this.hasBody()?"POST":"GET"}set method(et){et==null&&(et=""),Pt(this,Jr,String(et).toUpperCase())}get headers(){const et=Object.assign({},Et(this,Rr));return Et(this,Zr)&&(et.authorization=`Basic ${encodeBase64(toUtf8Bytes(Et(this,Zr)))}`),this.allowGzip&&(et["accept-encoding"]="gzip"),et["content-type"]==null&&Et(this,Er)&&(et["content-type"]=Et(this,Er)),this.body&&(et["content-length"]=String(this.body.length)),et}getHeader(et){return this.headers[et.toLowerCase()]}setHeader(et,tt){Et(this,Rr)[String(et).toLowerCase()]=String(tt)}clearHeaders(){Pt(this,Rr,{})}[Symbol.iterator](){const et=this.headers,tt=Object.keys(et);let rt=0;return{next:()=>{if(rt<tt.length){const nt=tt[rt++];return{value:[nt,et[nt]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return Et(this,Zr)||null}setCredentials(et,tt){assertArgument(!et.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Pt(this,Zr,`${et}:${tt}`)}get allowGzip(){return Et(this,lo)}set allowGzip(et){Pt(this,lo,!!et)}get allowInsecureAuthentication(){return!!Et(this,co)}set allowInsecureAuthentication(et){Pt(this,co,!!et)}get timeout(){return Et(this,uo)}set timeout(et){assertArgument(et>=0,"timeout must be non-zero","timeout",et),Pt(this,uo,et)}get preflightFunc(){return Et(this,Dn)||null}set preflightFunc(et){Pt(this,Dn,et)}get processFunc(){return Et(this,Bn)||null}set processFunc(et){Pt(this,Bn,et)}get retryFunc(){return Et(this,Ln)||null}set retryFunc(et){Pt(this,Ln,et)}get getUrlFunc(){return Et(this,hn)||defaultGetUrlFunc}set getUrlFunc(et){Pt(this,hn,et)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${Et(this,ur)?hexlify(Et(this,ur)):"null"}>`}setThrottleParams(et){et.slotInterval!=null&&(Et(this,jr).slotInterval=et.slotInterval),et.maxAttempts!=null&&(Et(this,jr).maxAttempts=et.maxAttempts)}send(){return assert$1(Et(this,Fr)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Pt(this,Fr,new FetchCancelSignal(this)),Ut(this,Mn,Qo).call(this,0,getTime$1()+this.timeout,0,this,new FetchResponse(0,"",{},null,this))}cancel(){assert$1(Et(this,Fr)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const et=fetchSignals.get(this);if(!et)throw new Error("missing signal; should not happen");et()}redirect(et){const tt=this.url.split(":")[0].toLowerCase(),rt=et.split(":")[0].toLowerCase();assert$1(this.method==="GET"&&(tt!=="https"||rt!=="http")&&et.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(et)})`});const nt=new Es(et);return nt.method="GET",nt.allowGzip=this.allowGzip,nt.timeout=this.timeout,Pt(nt,Rr,Object.assign({},Et(this,Rr))),Et(this,ur)&&Pt(nt,ur,new Uint8Array(Et(this,ur))),Pt(nt,Er,Et(this,Er)),nt}clone(){const et=new Es(this.url);return Pt(et,Jr,Et(this,Jr)),Et(this,ur)&&Pt(et,ur,Et(this,ur)),Pt(et,Er,Et(this,Er)),Pt(et,Rr,Object.assign({},Et(this,Rr))),Pt(et,Zr,Et(this,Zr)),this.allowGzip&&(et.allowGzip=!0),et.timeout=this.timeout,this.allowInsecureAuthentication&&(et.allowInsecureAuthentication=!0),Pt(et,Dn,Et(this,Dn)),Pt(et,Bn,Et(this,Bn)),Pt(et,Ln,Et(this,Ln)),Pt(et,jr,Object.assign({},Et(this,jr))),Pt(et,hn,Et(this,hn)),et}static lockConfig(){locked$1=!0}static getGateway(et){return Gateways[et.toLowerCase()]||null}static registerGateway(et,tt){if(et=et.toLowerCase(),et==="http"||et==="https")throw new Error(`cannot intercept ${et}; use registerGetUrl`);if(locked$1)throw new Error("gateways locked");Gateways[et]=tt}static registerGetUrl(et){if(locked$1)throw new Error("gateways locked");defaultGetUrlFunc=et}static createGetUrlFunc(et){return createGetUrl(et)}static createDataGateway(){return dataGatewayFunc}static createIpfsGatewayFunc(et){return getIpfsGatewayFunc(et)}};co=new WeakMap,lo=new WeakMap,Rr=new WeakMap,Jr=new WeakMap,uo=new WeakMap,fo=new WeakMap,ur=new WeakMap,Er=new WeakMap,Zr=new WeakMap,Dn=new WeakMap,Bn=new WeakMap,Ln=new WeakMap,Fr=new WeakMap,jr=new WeakMap,hn=new WeakMap,Mn=new WeakSet,Qo=async function(et,tt,rt,nt,ot){var dt,ft,ht;if(et>=Et(this,jr).maxAttempts)return ot.makeServerError("exceeded maximum retry limit");assert$1(getTime$1()<=tt,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:nt}),rt>0&&await wait(rt);let st=this.clone();const at=(st.url.split(":")[0]||"").toLowerCase();if(at in Gateways){const pt=await Gateways[at](st.url,checkSignal(Et(nt,Fr)));if(pt instanceof FetchResponse){let gt=pt;if(this.processFunc){checkSignal(Et(nt,Fr));try{gt=await this.processFunc(st,gt)}catch(mt){(mt.throttle==null||typeof mt.stall!="number")&&gt.makeServerError("error in post-processing function",mt).assertOk()}}return gt}st=pt}this.preflightFunc&&(st=await this.preflightFunc(st));const ct=await this.getUrlFunc(st,checkSignal(Et(nt,Fr)));let lt=new FetchResponse(ct.statusCode,ct.statusMessage,ct.headers,ct.body,nt);if(lt.statusCode===301||lt.statusCode===302){try{const pt=lt.headers.location||"";return Ut(dt=st.redirect(pt),Mn,Qo).call(dt,et+1,tt,0,nt,lt)}catch{}return lt}else if(lt.statusCode===429&&(this.retryFunc==null||await this.retryFunc(st,lt,et))){const pt=lt.headers["retry-after"];let gt=Et(this,jr).slotInterval*Math.trunc(Math.random()*Math.pow(2,et));return typeof pt=="string"&&pt.match(/^[1-9][0-9]*$/)&&(gt=parseInt(pt)),Ut(ft=st.clone(),Mn,Qo).call(ft,et+1,tt,gt,nt,lt)}if(this.processFunc){checkSignal(Et(nt,Fr));try{lt=await this.processFunc(st,lt)}catch(pt){(pt.throttle==null||typeof pt.stall!="number")&&lt.makeServerError("error in post-processing function",pt).assertOk();let gt=Et(this,jr).slotInterval*Math.trunc(Math.random()*Math.pow(2,et));return pt.stall>=0&&(gt=pt.stall),Ut(ht=st.clone(),Mn,Qo).call(ht,et+1,tt,gt,nt,lt)}}return lt};let FetchRequest=Es;var ts,rs,ns,Ar,ho,Fn;const zs=class zs{constructor(et,tt,rt,nt,ot){Ot(this,ts);Ot(this,rs);Ot(this,ns);Ot(this,Ar);Ot(this,ho);Ot(this,Fn);Pt(this,ts,et),Pt(this,rs,tt),Pt(this,ns,Object.keys(rt).reduce((st,at)=>(st[at.toLowerCase()]=String(rt[at]),st),{})),Pt(this,Ar,nt==null?null:new Uint8Array(nt)),Pt(this,ho,ot||null),Pt(this,Fn,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${Et(this,Ar)?hexlify(Et(this,Ar)):"null"}>`}get statusCode(){return Et(this,ts)}get statusMessage(){return Et(this,rs)}get headers(){return Object.assign({},Et(this,ns))}get body(){return Et(this,Ar)==null?null:new Uint8Array(Et(this,Ar))}get bodyText(){try{return Et(this,Ar)==null?"":toUtf8String(Et(this,Ar))}catch{assert$1(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{assert$1(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const et=this.headers,tt=Object.keys(et);let rt=0;return{next:()=>{if(rt<tt.length){const nt=tt[rt++];return{value:[nt,et[nt]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(et,tt){let rt;et?rt=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${et})`:(et=`${this.statusCode} ${this.statusMessage}`,rt=`CLIENT ESCALATED SERVER ERROR (${et})`);const nt=new zs(599,rt,this.headers,this.body,Et(this,ho)||void 0);return Pt(nt,Fn,{message:et,error:tt}),nt}throwThrottleError(et,tt){tt==null?tt=-1:assertArgument(Number.isInteger(tt)&&tt>=0,"invalid stall timeout","stall",tt);const rt=new Error(et||"throttling requests");throw defineProperties(rt,{stall:tt,throttle:!0}),rt}getHeader(et){return this.headers[et.toLowerCase()]}hasBody(){return Et(this,Ar)!=null}get request(){return Et(this,ho)}ok(){return Et(this,Fn).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:et,error:tt}=Et(this,Fn);et===""&&(et=`server response ${this.statusCode} ${this.statusMessage}`);let rt=null;this.request&&(rt=this.request.url);let nt=null;try{Et(this,Ar)&&(nt=toUtf8String(Et(this,Ar)))}catch{}assert$1(!1,et,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:tt,info:{requestUrl:rt,responseBody:nt,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};ts=new WeakMap,rs=new WeakMap,ns=new WeakMap,Ar=new WeakMap,ho=new WeakMap,Fn=new WeakMap;let FetchResponse=zs;function getTime$1(){return new Date().getTime()}function unpercent(_e){return toUtf8Bytes(_e.replace(/%([0-9a-f][0-9a-f])/gi,(et,tt)=>String.fromCharCode(parseInt(tt,16))))}function wait(_e){return new Promise(et=>setTimeout(et,_e))}const BN_N1=BigInt(-1),BN_0$8=BigInt(0),BN_1$3=BigInt(1),BN_5=BigInt(5),_guard$3={};let Zeros$1="0000";for(;Zeros$1.length<80;)Zeros$1+=Zeros$1;function getTens(_e){let et=Zeros$1;for(;et.length<_e;)et+=et;return BigInt("1"+et.substring(0,_e))}function checkValue(_e,et,tt){const rt=BigInt(et.width);if(et.signed){const nt=BN_1$3<<rt-BN_1$3;assert$1(tt==null||_e>=-nt&&_e<nt,"overflow","NUMERIC_FAULT",{operation:tt,fault:"overflow",value:_e}),_e>BN_0$8?_e=fromTwos(mask(_e,rt),rt):_e=-fromTwos(mask(-_e,rt),rt)}else{const nt=BN_1$3<<rt;assert$1(tt==null||_e>=0&&_e<nt,"overflow","NUMERIC_FAULT",{operation:tt,fault:"overflow",value:_e}),_e=(_e%nt+nt)%nt&nt-BN_1$3}return _e}function getFormat(_e){typeof _e=="number"&&(_e=`fixed128x${_e}`);let et=!0,tt=128,rt=18;if(typeof _e=="string"){if(_e!=="fixed")if(_e==="ufixed")et=!1;else{const ot=_e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);assertArgument(ot,"invalid fixed format","format",_e),et=ot[1]!=="u",tt=parseInt(ot[2]),rt=parseInt(ot[3])}}else if(_e){const ot=_e,st=(at,ct,lt)=>ot[at]==null?lt:(assertArgument(typeof ot[at]===ct,"invalid fixed format ("+at+" not "+ct+")","format."+at,ot[at]),ot[at]);et=st("signed","boolean",et),tt=st("width","number",tt),rt=st("decimals","number",rt)}assertArgument(tt%8===0,"invalid FixedNumber width (not byte aligned)","format.width",tt),assertArgument(rt<=80,"invalid FixedNumber decimals (too large)","format.decimals",rt);const nt=(et?"":"u")+"fixed"+String(tt)+"x"+String(rt);return{signed:et,width:tt,decimals:rt,name:nt}}function toString$5(_e,et){let tt="";_e<BN_0$8&&(tt="-",_e*=BN_N1);let rt=_e.toString();if(et===0)return tt+rt;for(;rt.length<=et;)rt=Zeros$1+rt;const nt=rt.length-et;for(rt=rt.substring(0,nt)+"."+rt.substring(nt);rt[0]==="0"&&rt[1]!==".";)rt=rt.substring(1);for(;rt[rt.length-1]==="0"&&rt[rt.length-2]!==".";)rt=rt.substring(0,rt.length-1);return tt+rt}var Ir,ir,mr,rr,_n,Qr,Ns,_s,Rs,Os;const dn=class dn{constructor(et,tt,rt){Ot(this,rr);Nt(this,"format");Ot(this,Ir);Ot(this,ir);Ot(this,mr);Nt(this,"_value");assertPrivate(et,_guard$3,"FixedNumber"),Pt(this,ir,tt),Pt(this,Ir,rt);const nt=toString$5(tt,rt.decimals);defineProperties(this,{format:rt.name,_value:nt}),Pt(this,mr,getTens(rt.decimals))}get signed(){return Et(this,Ir).signed}get width(){return Et(this,Ir).width}get decimals(){return Et(this,Ir).decimals}get value(){return Et(this,ir)}addUnsafe(et){return Ut(this,rr,Ns).call(this,et)}add(et){return Ut(this,rr,Ns).call(this,et,"add")}subUnsafe(et){return Ut(this,rr,_s).call(this,et)}sub(et){return Ut(this,rr,_s).call(this,et,"sub")}mulUnsafe(et){return Ut(this,rr,Rs).call(this,et)}mul(et){return Ut(this,rr,Rs).call(this,et,"mul")}mulSignal(et){Ut(this,rr,_n).call(this,et);const tt=Et(this,ir)*Et(et,ir);return assert$1(tt%Et(this,mr)===BN_0$8,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Ut(this,rr,Qr).call(this,tt/Et(this,mr),"mulSignal")}divUnsafe(et){return Ut(this,rr,Os).call(this,et)}div(et){return Ut(this,rr,Os).call(this,et,"div")}divSignal(et){assert$1(Et(et,ir)!==BN_0$8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ut(this,rr,_n).call(this,et);const tt=Et(this,ir)*Et(this,mr);return assert$1(tt%Et(et,ir)===BN_0$8,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Ut(this,rr,Qr).call(this,tt/Et(et,ir),"divSignal")}cmp(et){let tt=this.value,rt=et.value;const nt=this.decimals-et.decimals;return nt>0?rt*=getTens(nt):nt<0&&(tt*=getTens(-nt)),tt<rt?-1:tt>rt?1:0}eq(et){return this.cmp(et)===0}lt(et){return this.cmp(et)<0}lte(et){return this.cmp(et)<=0}gt(et){return this.cmp(et)>0}gte(et){return this.cmp(et)>=0}floor(){let et=Et(this,ir);return Et(this,ir)<BN_0$8&&(et-=Et(this,mr)-BN_1$3),et=Et(this,ir)/Et(this,mr)*Et(this,mr),Ut(this,rr,Qr).call(this,et,"floor")}ceiling(){let et=Et(this,ir);return Et(this,ir)>BN_0$8&&(et+=Et(this,mr)-BN_1$3),et=Et(this,ir)/Et(this,mr)*Et(this,mr),Ut(this,rr,Qr).call(this,et,"ceiling")}round(et){if(et==null&&(et=0),et>=this.decimals)return this;const tt=this.decimals-et,rt=BN_5*getTens(tt-1);let nt=this.value+rt;const ot=getTens(tt);return nt=nt/ot*ot,checkValue(nt,Et(this,Ir),"round"),new dn(_guard$3,nt,Et(this,Ir))}isZero(){return Et(this,ir)===BN_0$8}isNegative(){return Et(this,ir)<BN_0$8}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(et){return dn.fromString(this.toString(),et)}static fromValue(et,tt,rt){const nt=tt==null?0:getNumber(tt),ot=getFormat(rt);let st=getBigInt(et,"value");const at=nt-ot.decimals;if(at>0){const ct=getTens(at);assert$1(st%ct===BN_0$8,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:et}),st/=ct}else at<0&&(st*=getTens(-at));return checkValue(st,ot,"fromValue"),new dn(_guard$3,st,ot)}static fromString(et,tt){const rt=et.match(/^(-?)([0-9]*)\.?([0-9]*)$/);assertArgument(rt&&rt[2].length+rt[3].length>0,"invalid FixedNumber string value","value",et);const nt=getFormat(tt);let ot=rt[2]||"0",st=rt[3]||"";for(;st.length<nt.decimals;)st+=Zeros$1;assert$1(st.substring(nt.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:et}),st=st.substring(0,nt.decimals);const at=BigInt(rt[1]+ot+st);return checkValue(at,nt,"fromString"),new dn(_guard$3,at,nt)}static fromBytes(et,tt){let rt=toBigInt(getBytes(et,"value"));const nt=getFormat(tt);return nt.signed&&(rt=fromTwos(rt,nt.width)),checkValue(rt,nt,"fromBytes"),new dn(_guard$3,rt,nt)}};Ir=new WeakMap,ir=new WeakMap,mr=new WeakMap,rr=new WeakSet,_n=function(et){assertArgument(this.format===et.format,"incompatible format; use fixedNumber.toFormat","other",et)},Qr=function(et,tt){return et=checkValue(et,Et(this,Ir),tt),new dn(_guard$3,et,Et(this,Ir))},Ns=function(et,tt){return Ut(this,rr,_n).call(this,et),Ut(this,rr,Qr).call(this,Et(this,ir)+Et(et,ir),tt)},_s=function(et,tt){return Ut(this,rr,_n).call(this,et),Ut(this,rr,Qr).call(this,Et(this,ir)-Et(et,ir),tt)},Rs=function(et,tt){return Ut(this,rr,_n).call(this,et),Ut(this,rr,Qr).call(this,Et(this,ir)*Et(et,ir)/Et(this,mr),tt)},Os=function(et,tt){return assert$1(Et(et,ir)!==BN_0$8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ut(this,rr,_n).call(this,et),Ut(this,rr,Qr).call(this,Et(this,ir)*Et(this,mr)/Et(et,ir),tt)};let FixedNumber=dn;function hexlifyByte(_e){let et=_e.toString(16);for(;et.length<2;)et="0"+et;return"0x"+et}function unarrayifyInteger(_e,et,tt){let rt=0;for(let nt=0;nt<tt;nt++)rt=rt*256+_e[et+nt];return rt}function _decodeChildren(_e,et,tt,rt){const nt=[];for(;tt<et+1+rt;){const ot=_decode(_e,tt);nt.push(ot.result),tt+=ot.consumed,assert$1(tt<=et+1+rt,"child data too short","BUFFER_OVERRUN",{buffer:_e,length:rt,offset:et})}return{consumed:1+rt,result:nt}}function _decode(_e,et){assert$1(_e.length!==0,"data too short","BUFFER_OVERRUN",{buffer:_e,length:0,offset:1});const tt=rt=>{assert$1(rt<=_e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:_e,length:_e.length,offset:rt})};if(_e[et]>=248){const rt=_e[et]-247;tt(et+1+rt);const nt=unarrayifyInteger(_e,et+1,rt);return tt(et+1+rt+nt),_decodeChildren(_e,et,et+1+rt,rt+nt)}else if(_e[et]>=192){const rt=_e[et]-192;return tt(et+1+rt),_decodeChildren(_e,et,et+1,rt)}else if(_e[et]>=184){const rt=_e[et]-183;tt(et+1+rt);const nt=unarrayifyInteger(_e,et+1,rt);tt(et+1+rt+nt);const ot=hexlify(_e.slice(et+1+rt,et+1+rt+nt));return{consumed:1+rt+nt,result:ot}}else if(_e[et]>=128){const rt=_e[et]-128;tt(et+1+rt);const nt=hexlify(_e.slice(et+1,et+1+rt));return{consumed:1+rt,result:nt}}return{consumed:1,result:hexlifyByte(_e[et])}}function decodeRlp(_e){const et=getBytes(_e,"data"),tt=_decode(et,0);return assertArgument(tt.consumed===et.length,"unexpected junk after rlp payload","data",_e),tt.result}function arrayifyInteger(_e){const et=[];for(;_e;)et.unshift(_e&255),_e>>=8;return et}function _encode(_e){if(Array.isArray(_e)){let rt=[];if(_e.forEach(function(ot){rt=rt.concat(_encode(ot))}),rt.length<=55)return rt.unshift(192+rt.length),rt;const nt=arrayifyInteger(rt.length);return nt.unshift(247+nt.length),nt.concat(rt)}const et=Array.prototype.slice.call(getBytes(_e,"object"));if(et.length===1&&et[0]<=127)return et;if(et.length<=55)return et.unshift(128+et.length),et;const tt=arrayifyInteger(et.length);return tt.unshift(183+tt.length),tt.concat(et)}const nibbles="0123456789abcdef";function encodeRlp(_e){let et="0x";for(const tt of _encode(_e))et+=nibbles[tt>>4],et+=nibbles[tt&15];return et}function formatUnits(_e,et){let tt=18;return tt=getNumber(et,"unit"),FixedNumber.fromValue(_e,tt,{decimals:tt,width:512}).toString()}function parseUnits$1(_e,et){assertArgument(typeof _e=="string","value must be a string","value",_e);let tt=18;return tt=getNumber(et,"unit"),FixedNumber.fromString(_e,{decimals:tt,width:512}).value}function formatEther(_e){return formatUnits(_e,18)}const WordSize=32,Padding=new Uint8Array(WordSize),passProperties$1=["then"],_guard$2={},resultNames=new WeakMap;function getNames(_e){return resultNames.get(_e)}function setNames(_e,et){resultNames.set(_e,et)}function throwError(_e,et){const tt=new Error(`deferred error during ABI decoding triggered accessing ${_e}`);throw tt.error=et,tt}function toObject(_e,et,tt){return _e.indexOf(null)>=0?et.map((rt,nt)=>rt instanceof Result?toObject(getNames(rt),rt,tt):rt):_e.reduce((rt,nt,ot)=>{let st=et.getValue(nt);return nt in rt||(tt&&st instanceof Result&&(st=toObject(getNames(st),st,tt)),rt[nt]=st),rt},{})}var po;const io=class io extends Array{constructor(...tt){const rt=tt[0];let nt=tt[1],ot=(tt[2]||[]).slice(),st=!0;rt!==_guard$2&&(nt=tt,ot=[],st=!1);super(nt.length);Ot(this,po);nt.forEach((lt,dt)=>{this[dt]=lt});const at=ot.reduce((lt,dt)=>(typeof dt=="string"&&lt.set(dt,(lt.get(dt)||0)+1),lt),new Map);if(setNames(this,Object.freeze(nt.map((lt,dt)=>{const ft=ot[dt];return ft!=null&&at.get(ft)===1?ft:null}))),Pt(this,po,[]),Et(this,po)==null&&Et(this,po),!st)return;Object.freeze(this);const ct=new Proxy(this,{get:(lt,dt,ft)=>{if(typeof dt=="string"){if(dt.match(/^[0-9]+$/)){const pt=getNumber(dt,"%index");if(pt<0||pt>=this.length)throw new RangeError("out of result range");const gt=lt[pt];return gt instanceof Error&&throwError(`index ${pt}`,gt),gt}if(passProperties$1.indexOf(dt)>=0)return Reflect.get(lt,dt,ft);const ht=lt[dt];if(ht instanceof Function)return function(...pt){return ht.apply(this===ft?lt:this,pt)};if(!(dt in lt))return lt.getValue.apply(this===ft?lt:this,[dt])}return Reflect.get(lt,dt,ft)}});return setNames(ct,getNames(this)),ct}toArray(tt){const rt=[];return this.forEach((nt,ot)=>{nt instanceof Error&&throwError(`index ${ot}`,nt),tt&&nt instanceof io&&(nt=nt.toArray(tt)),rt.push(nt)}),rt}toObject(tt){const rt=getNames(this);return rt.reduce((nt,ot,st)=>(assert$1(ot!=null,`value at index ${st} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),toObject(rt,this,tt)),{})}slice(tt,rt){tt==null&&(tt=0),tt<0&&(tt+=this.length,tt<0&&(tt=0)),rt==null&&(rt=this.length),rt<0&&(rt+=this.length,rt<0&&(rt=0)),rt>this.length&&(rt=this.length);const nt=getNames(this),ot=[],st=[];for(let at=tt;at<rt;at++)ot.push(this[at]),st.push(nt[at]);return new io(_guard$2,ot,st)}filter(tt,rt){const nt=getNames(this),ot=[],st=[];for(let at=0;at<this.length;at++){const ct=this[at];ct instanceof Error&&throwError(`index ${at}`,ct),tt.call(rt,ct,at,this)&&(ot.push(ct),st.push(nt[at]))}return new io(_guard$2,ot,st)}map(tt,rt){const nt=[];for(let ot=0;ot<this.length;ot++){const st=this[ot];st instanceof Error&&throwError(`index ${ot}`,st),nt.push(tt.call(rt,st,ot,this))}return nt}getValue(tt){const rt=getNames(this).indexOf(tt);if(rt===-1)return;const nt=this[rt];return nt instanceof Error&&throwError(`property ${JSON.stringify(tt)}`,nt.error),nt}static fromItems(tt,rt){return new io(_guard$2,tt,rt)}};po=new WeakMap;let Result=io;function getValue$1(_e){let et=toBeArray(_e);return assert$1(et.length<=WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:et,length:WordSize,offset:et.length}),et.length!==WordSize&&(et=getBytesCopy(concat$2([Padding.slice(et.length%WordSize),et]))),et}class Coder{constructor(et,tt,rt,nt){Nt(this,"name");Nt(this,"type");Nt(this,"localName");Nt(this,"dynamic");defineProperties(this,{name:et,type:tt,localName:rt,dynamic:nt},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(et,tt){assertArgument(!1,et,this.localName,tt)}}var en,Un,mo,ms,Gs;let Writer$3=(Gs=class{constructor(){Ot(this,mo);Ot(this,en);Ot(this,Un);Pt(this,en,[]),Pt(this,Un,0)}get data(){return concat$2(Et(this,en))}get length(){return Et(this,Un)}appendWriter(et){return Ut(this,mo,ms).call(this,getBytesCopy(et.data))}writeBytes(et){let tt=getBytesCopy(et);const rt=tt.length%WordSize;return rt&&(tt=getBytesCopy(concat$2([tt,Padding.slice(rt)]))),Ut(this,mo,ms).call(this,tt)}writeValue(et){return Ut(this,mo,ms).call(this,getValue$1(et))}writeUpdatableValue(){const et=Et(this,en).length;return Et(this,en).push(Padding),Pt(this,Un,Et(this,Un)+WordSize),tt=>{Et(this,en)[et]=getValue$1(tt)}}},en=new WeakMap,Un=new WeakMap,mo=new WeakSet,ms=function(et){return Et(this,en).push(et),Pt(this,Un,Et(this,Un)+et.length),et.length},Gs);var yr,Sr,zn,Hn,pn,eo,js,Qs,go;let Reader$2=(go=class{constructor(et,tt,rt){Ot(this,eo);Nt(this,"allowLoose");Ot(this,yr);Ot(this,Sr);Ot(this,zn);Ot(this,Hn);Ot(this,pn);defineProperties(this,{allowLoose:!!tt}),Pt(this,yr,getBytesCopy(et)),Pt(this,zn,0),Pt(this,Hn,null),Pt(this,pn,rt??1024),Pt(this,Sr,0)}get data(){return hexlify(Et(this,yr))}get dataLength(){return Et(this,yr).length}get consumed(){return Et(this,Sr)}get bytes(){return new Uint8Array(Et(this,yr))}subReader(et){const tt=new go(Et(this,yr).slice(Et(this,Sr)+et),this.allowLoose,Et(this,pn));return Pt(tt,Hn,this),tt}readBytes(et,tt){let rt=Ut(this,eo,Qs).call(this,0,et,!!tt);return Ut(this,eo,js).call(this,et),Pt(this,Sr,Et(this,Sr)+rt.length),rt.slice(0,et)}readValue(){return toBigInt(this.readBytes(WordSize))}readIndex(){return toNumber$1(this.readBytes(WordSize))}},yr=new WeakMap,Sr=new WeakMap,zn=new WeakMap,Hn=new WeakMap,pn=new WeakMap,eo=new WeakSet,js=function(et){var tt;if(Et(this,Hn))return Ut(tt=Et(this,Hn),eo,js).call(tt,et);Pt(this,zn,Et(this,zn)+et),assert$1(Et(this,pn)<1||Et(this,zn)<=Et(this,pn)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${Et(this,pn)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy(Et(this,yr)),offset:Et(this,Sr),length:et,info:{bytesRead:Et(this,zn),dataLength:this.dataLength}})},Qs=function(et,tt,rt){let nt=Math.ceil(tt/WordSize)*WordSize;return Et(this,Sr)+nt>Et(this,yr).length&&(this.allowLoose&&rt&&Et(this,Sr)+tt<=Et(this,yr).length?nt=tt:assert$1(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy(Et(this,yr)),length:Et(this,yr).length,offset:Et(this,Sr)+nt})),Et(this,yr).slice(Et(this,Sr),Et(this,Sr)+nt)},go);function number$4(_e){if(!Number.isSafeInteger(_e)||_e<0)throw new Error(`Wrong positive integer: ${_e}`)}function bytes$1(_e,...et){if(!(_e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(et.length>0&&!et.includes(_e.length))throw new Error(`Expected Uint8Array of length ${et}, not of length=${_e.length}`)}function hash(_e){if(typeof _e!="function"||typeof _e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$4(_e.outputLen),number$4(_e.blockLen)}function exists(_e,et=!0){if(_e.destroyed)throw new Error("Hash instance has been destroyed");if(et&&_e.finished)throw new Error("Hash#digest() has already been called")}function output(_e,et){bytes$1(_e);const tt=et.outputLen;if(_e.length<tt)throw new Error(`digestInto() expects output buffer of length at least ${tt}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=_e=>_e instanceof Uint8Array,u32=_e=>new Uint32Array(_e.buffer,_e.byteOffset,Math.floor(_e.byteLength/4)),createView=_e=>new DataView(_e.buffer,_e.byteOffset,_e.byteLength),rotr=(_e,et)=>_e<<32-et|_e>>>et,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$2(_e){if(typeof _e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof _e}`);return new Uint8Array(new TextEncoder().encode(_e))}function toBytes(_e){if(typeof _e=="string"&&(_e=utf8ToBytes$2(_e)),!u8a$1(_e))throw new Error(`expected Uint8Array, got ${typeof _e}`);return _e}function concatBytes$2(..._e){const et=new Uint8Array(_e.reduce((rt,nt)=>rt+nt.length,0));let tt=0;return _e.forEach(rt=>{if(!u8a$1(rt))throw new Error("Uint8Array expected");et.set(rt,tt),tt+=rt.length}),et}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(_e){const et=rt=>_e().update(toBytes(rt)).digest(),tt=_e();return et.outputLen=tt.outputLen,et.blockLen=tt.blockLen,et.create=()=>_e(),et}function randomBytes(_e=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(_e));throw new Error("crypto.getRandomValues must be defined")}class HMAC extends Hash{constructor(et,tt){super(),this.finished=!1,this.destroyed=!1,hash(et);const rt=toBytes(tt);if(this.iHash=et.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const nt=this.blockLen,ot=new Uint8Array(nt);ot.set(rt.length>nt?et.create().update(rt).digest():rt);for(let st=0;st<ot.length;st++)ot[st]^=54;this.iHash.update(ot),this.oHash=et.create();for(let st=0;st<ot.length;st++)ot[st]^=106;this.oHash.update(ot),ot.fill(0)}update(et){return exists(this),this.iHash.update(et),this}digestInto(et){exists(this),bytes$1(et,this.outputLen),this.finished=!0,this.iHash.digestInto(et),this.oHash.update(et),this.oHash.digestInto(et),this.destroy()}digest(){const et=new Uint8Array(this.oHash.outputLen);return this.digestInto(et),et}_cloneInto(et){et||(et=Object.create(Object.getPrototypeOf(this),{}));const{oHash:tt,iHash:rt,finished:nt,destroyed:ot,blockLen:st,outputLen:at}=this;return et=et,et.finished=nt,et.destroyed=ot,et.blockLen=st,et.outputLen=at,et.oHash=tt._cloneInto(et.oHash),et.iHash=rt._cloneInto(et.iHash),et}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(_e,et,tt)=>new HMAC(_e,et).update(tt).digest();hmac.create=(_e,et)=>new HMAC(_e,et);function setBigUint64(_e,et,tt,rt){if(typeof _e.setBigUint64=="function")return _e.setBigUint64(et,tt,rt);const nt=BigInt(32),ot=BigInt(4294967295),st=Number(tt>>nt&ot),at=Number(tt&ot),ct=rt?4:0,lt=rt?0:4;_e.setUint32(et+ct,st,rt),_e.setUint32(et+lt,at,rt)}class SHA2 extends Hash{constructor(et,tt,rt,nt){super(),this.blockLen=et,this.outputLen=tt,this.padOffset=rt,this.isLE=nt,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(et),this.view=createView(this.buffer)}update(et){exists(this);const{view:tt,buffer:rt,blockLen:nt}=this;et=toBytes(et);const ot=et.length;for(let st=0;st<ot;){const at=Math.min(nt-this.pos,ot-st);if(at===nt){const ct=createView(et);for(;nt<=ot-st;st+=nt)this.process(ct,st);continue}rt.set(et.subarray(st,st+at),this.pos),this.pos+=at,st+=at,this.pos===nt&&(this.process(tt,0),this.pos=0)}return this.length+=et.length,this.roundClean(),this}digestInto(et){exists(this),output(et,this),this.finished=!0;const{buffer:tt,view:rt,blockLen:nt,isLE:ot}=this;let{pos:st}=this;tt[st++]=128,this.buffer.subarray(st).fill(0),this.padOffset>nt-st&&(this.process(rt,0),st=0);for(let ft=st;ft<nt;ft++)tt[ft]=0;setBigUint64(rt,nt-8,BigInt(this.length*8),ot),this.process(rt,0);const at=createView(et),ct=this.outputLen;if(ct%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const lt=ct/4,dt=this.get();if(lt>dt.length)throw new Error("_sha2: outputLen bigger than state");for(let ft=0;ft<lt;ft++)at.setUint32(4*ft,dt[ft],ot)}digest(){const{buffer:et,outputLen:tt}=this;this.digestInto(et);const rt=et.slice(0,tt);return this.destroy(),rt}_cloneInto(et){et||(et=new this.constructor),et.set(...this.get());const{blockLen:tt,buffer:rt,length:nt,finished:ot,destroyed:st,pos:at}=this;return et.length=nt,et.pos=at,et.finished=ot,et.destroyed=st,nt%tt&&et.buffer.set(rt),et}}const Chi=(_e,et,tt)=>_e&et^~_e&tt,Maj=(_e,et,tt)=>_e&et^_e&tt^et&tt,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);let SHA256$1=class extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:et,B:tt,C:rt,D:nt,E:ot,F:st,G:at,H:ct}=this;return[et,tt,rt,nt,ot,st,at,ct]}set(et,tt,rt,nt,ot,st,at,ct){this.A=et|0,this.B=tt|0,this.C=rt|0,this.D=nt|0,this.E=ot|0,this.F=st|0,this.G=at|0,this.H=ct|0}process(et,tt){for(let ft=0;ft<16;ft++,tt+=4)SHA256_W[ft]=et.getUint32(tt,!1);for(let ft=16;ft<64;ft++){const ht=SHA256_W[ft-15],pt=SHA256_W[ft-2],gt=rotr(ht,7)^rotr(ht,18)^ht>>>3,mt=rotr(pt,17)^rotr(pt,19)^pt>>>10;SHA256_W[ft]=mt+SHA256_W[ft-7]+gt+SHA256_W[ft-16]|0}let{A:rt,B:nt,C:ot,D:st,E:at,F:ct,G:lt,H:dt}=this;for(let ft=0;ft<64;ft++){const ht=rotr(at,6)^rotr(at,11)^rotr(at,25),pt=dt+ht+Chi(at,ct,lt)+SHA256_K[ft]+SHA256_W[ft]|0,mt=(rotr(rt,2)^rotr(rt,13)^rotr(rt,22))+Maj(rt,nt,ot)|0;dt=lt,lt=ct,ct=at,at=st+pt|0,st=ot,ot=nt,nt=rt,rt=pt+mt|0}rt=rt+this.A|0,nt=nt+this.B|0,ot=ot+this.C|0,st=st+this.D|0,at=at+this.E|0,ct=ct+this.F|0,lt=lt+this.G|0,dt=dt+this.H|0,this.set(rt,nt,ot,st,at,ct,lt,dt)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$2=wrapConstructor(()=>new SHA256$1),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(_e,et=!1){return et?{h:Number(_e&U32_MASK64),l:Number(_e>>_32n&U32_MASK64)}:{h:Number(_e>>_32n&U32_MASK64)|0,l:Number(_e&U32_MASK64)|0}}function split$1(_e,et=!1){let tt=new Uint32Array(_e.length),rt=new Uint32Array(_e.length);for(let nt=0;nt<_e.length;nt++){const{h:ot,l:st}=fromBig(_e[nt],et);[tt[nt],rt[nt]]=[ot,st]}return[tt,rt]}const toBig=(_e,et)=>BigInt(_e>>>0)<<_32n|BigInt(et>>>0),shrSH=(_e,et,tt)=>_e>>>tt,shrSL=(_e,et,tt)=>_e<<32-tt|et>>>tt,rotrSH=(_e,et,tt)=>_e>>>tt|et<<32-tt,rotrSL=(_e,et,tt)=>_e<<32-tt|et>>>tt,rotrBH=(_e,et,tt)=>_e<<64-tt|et>>>tt-32,rotrBL=(_e,et,tt)=>_e>>>tt-32|et<<64-tt,rotr32H=(_e,et)=>et,rotr32L=(_e,et)=>_e,rotlSH=(_e,et,tt)=>_e<<tt|et>>>32-tt,rotlSL=(_e,et,tt)=>et<<tt|_e>>>32-tt,rotlBH=(_e,et,tt)=>et<<tt-32|_e>>>64-tt,rotlBL=(_e,et,tt)=>_e<<tt-32|et>>>64-tt;function add$7(_e,et,tt,rt){const nt=(et>>>0)+(rt>>>0);return{h:_e+tt+(nt/2**32|0)|0,l:nt|0}}const add3L=(_e,et,tt)=>(_e>>>0)+(et>>>0)+(tt>>>0),add3H=(_e,et,tt,rt)=>et+tt+rt+(_e/2**32|0)|0,add4L=(_e,et,tt,rt)=>(_e>>>0)+(et>>>0)+(tt>>>0)+(rt>>>0),add4H=(_e,et,tt,rt,nt)=>et+tt+rt+nt+(_e/2**32|0)|0,add5L=(_e,et,tt,rt,nt)=>(_e>>>0)+(et>>>0)+(tt>>>0)+(rt>>>0)+(nt>>>0),add5H=(_e,et,tt,rt,nt,ot)=>et+tt+rt+nt+ot+(_e/2**32|0)|0,u64={fromBig,split:split$1,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add:add$7,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(_e=>BigInt(_e))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:et,Al:tt,Bh:rt,Bl:nt,Ch:ot,Cl:st,Dh:at,Dl:ct,Eh:lt,El:dt,Fh:ft,Fl:ht,Gh:pt,Gl:gt,Hh:mt,Hl:vt}=this;return[et,tt,rt,nt,ot,st,at,ct,lt,dt,ft,ht,pt,gt,mt,vt]}set(et,tt,rt,nt,ot,st,at,ct,lt,dt,ft,ht,pt,gt,mt,vt){this.Ah=et|0,this.Al=tt|0,this.Bh=rt|0,this.Bl=nt|0,this.Ch=ot|0,this.Cl=st|0,this.Dh=at|0,this.Dl=ct|0,this.Eh=lt|0,this.El=dt|0,this.Fh=ft|0,this.Fl=ht|0,this.Gh=pt|0,this.Gl=gt|0,this.Hh=mt|0,this.Hl=vt|0}process(et,tt){for(let xt=0;xt<16;xt++,tt+=4)SHA512_W_H[xt]=et.getUint32(tt),SHA512_W_L[xt]=et.getUint32(tt+=4);for(let xt=16;xt<80;xt++){const wt=SHA512_W_H[xt-15]|0,At=SHA512_W_L[xt-15]|0,St=u64.rotrSH(wt,At,1)^u64.rotrSH(wt,At,8)^u64.shrSH(wt,At,7),$t=u64.rotrSL(wt,At,1)^u64.rotrSL(wt,At,8)^u64.shrSL(wt,At,7),kt=SHA512_W_H[xt-2]|0,Ct=SHA512_W_L[xt-2]|0,_t=u64.rotrSH(kt,Ct,19)^u64.rotrBH(kt,Ct,61)^u64.shrSH(kt,Ct,6),Tt=u64.rotrSL(kt,Ct,19)^u64.rotrBL(kt,Ct,61)^u64.shrSL(kt,Ct,6),jt=u64.add4L($t,Tt,SHA512_W_L[xt-7],SHA512_W_L[xt-16]),Bt=u64.add4H(jt,St,_t,SHA512_W_H[xt-7],SHA512_W_H[xt-16]);SHA512_W_H[xt]=Bt|0,SHA512_W_L[xt]=jt|0}let{Ah:rt,Al:nt,Bh:ot,Bl:st,Ch:at,Cl:ct,Dh:lt,Dl:dt,Eh:ft,El:ht,Fh:pt,Fl:gt,Gh:mt,Gl:vt,Hh:yt,Hl:bt}=this;for(let xt=0;xt<80;xt++){const wt=u64.rotrSH(ft,ht,14)^u64.rotrSH(ft,ht,18)^u64.rotrBH(ft,ht,41),At=u64.rotrSL(ft,ht,14)^u64.rotrSL(ft,ht,18)^u64.rotrBL(ft,ht,41),St=ft&pt^~ft&mt,$t=ht&gt^~ht&vt,kt=u64.add5L(bt,At,$t,SHA512_Kl[xt],SHA512_W_L[xt]),Ct=u64.add5H(kt,yt,wt,St,SHA512_Kh[xt],SHA512_W_H[xt]),_t=kt|0,Tt=u64.rotrSH(rt,nt,28)^u64.rotrBH(rt,nt,34)^u64.rotrBH(rt,nt,39),jt=u64.rotrSL(rt,nt,28)^u64.rotrBL(rt,nt,34)^u64.rotrBL(rt,nt,39),Bt=rt&ot^rt&at^ot&at,Gt=nt&st^nt&ct^st&ct;yt=mt|0,bt=vt|0,mt=pt|0,vt=gt|0,pt=ft|0,gt=ht|0,{h:ft,l:ht}=u64.add(lt|0,dt|0,Ct|0,_t|0),lt=at|0,dt=ct|0,at=ot|0,ct=st|0,ot=rt|0,st=nt|0;const Rt=u64.add3L(_t,jt,Gt);rt=u64.add3H(Rt,Ct,Tt,Bt),nt=Rt|0}({h:rt,l:nt}=u64.add(this.Ah|0,this.Al|0,rt|0,nt|0)),{h:ot,l:st}=u64.add(this.Bh|0,this.Bl|0,ot|0,st|0),{h:at,l:ct}=u64.add(this.Ch|0,this.Cl|0,at|0,ct|0),{h:lt,l:dt}=u64.add(this.Dh|0,this.Dl|0,lt|0,dt|0),{h:ft,l:ht}=u64.add(this.Eh|0,this.El|0,ft|0,ht|0),{h:pt,l:gt}=u64.add(this.Fh|0,this.Fl|0,pt|0,gt|0),{h:mt,l:vt}=u64.add(this.Gh|0,this.Gl|0,mt|0,vt|0),{h:yt,l:bt}=u64.add(this.Hh|0,this.Hl|0,yt|0,bt|0),this.set(rt,nt,ot,st,at,ct,lt,dt,ft,ht,pt,gt,mt,vt,yt,bt)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();anyGlobal.crypto||anyGlobal.msCrypto;function createHash(_e){switch(_e){case"sha256":return sha256$2.create();case"sha512":return sha512.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",_e)}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$5=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let _e=0,et=_1n$6,tt=1,rt=0;_e<24;_e++){[tt,rt]=[rt,(2*tt+3*rt)%5],SHA3_PI.push(2*(5*rt+tt)),SHA3_ROTL.push((_e+1)*(_e+2)/2%64);let nt=_0n$5;for(let ot=0;ot<7;ot++)et=(et<<_1n$6^(et>>_7n)*_0x71n)%_256n,et&_2n$4&&(nt^=_1n$6<<(_1n$6<<BigInt(ot))-_1n$6);_SHA3_IOTA.push(nt)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$1(_SHA3_IOTA,!0),rotlH=(_e,et,tt)=>tt>32?rotlBH(_e,et,tt):rotlSH(_e,et,tt),rotlL=(_e,et,tt)=>tt>32?rotlBL(_e,et,tt):rotlSL(_e,et,tt);function keccakP(_e,et=24){const tt=new Uint32Array(10);for(let rt=24-et;rt<24;rt++){for(let st=0;st<10;st++)tt[st]=_e[st]^_e[st+10]^_e[st+20]^_e[st+30]^_e[st+40];for(let st=0;st<10;st+=2){const at=(st+8)%10,ct=(st+2)%10,lt=tt[ct],dt=tt[ct+1],ft=rotlH(lt,dt,1)^tt[at],ht=rotlL(lt,dt,1)^tt[at+1];for(let pt=0;pt<50;pt+=10)_e[st+pt]^=ft,_e[st+pt+1]^=ht}let nt=_e[2],ot=_e[3];for(let st=0;st<24;st++){const at=SHA3_ROTL[st],ct=rotlH(nt,ot,at),lt=rotlL(nt,ot,at),dt=SHA3_PI[st];nt=_e[dt],ot=_e[dt+1],_e[dt]=ct,_e[dt+1]=lt}for(let st=0;st<50;st+=10){for(let at=0;at<10;at++)tt[at]=_e[st+at];for(let at=0;at<10;at++)_e[st+at]^=~tt[(at+2)%10]&tt[(at+4)%10]}_e[0]^=SHA3_IOTA_H[rt],_e[1]^=SHA3_IOTA_L[rt]}tt.fill(0)}class Keccak extends Hash{constructor(et,tt,rt,nt=!1,ot=24){if(super(),this.blockLen=et,this.suffix=tt,this.outputLen=rt,this.enableXOF=nt,this.rounds=ot,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$4(rt),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(et){exists(this);const{blockLen:tt,state:rt}=this;et=toBytes(et);const nt=et.length;for(let ot=0;ot<nt;){const st=Math.min(tt-this.pos,nt-ot);for(let at=0;at<st;at++)rt[this.pos++]^=et[ot++];this.pos===tt&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:et,suffix:tt,pos:rt,blockLen:nt}=this;et[rt]^=tt,tt&128&&rt===nt-1&&this.keccak(),et[nt-1]^=128,this.keccak()}writeInto(et){exists(this,!1),bytes$1(et),this.finish();const tt=this.state,{blockLen:rt}=this;for(let nt=0,ot=et.length;nt<ot;){this.posOut>=rt&&this.keccak();const st=Math.min(rt-this.posOut,ot-nt);et.set(tt.subarray(this.posOut,this.posOut+st),nt),this.posOut+=st,nt+=st}return et}xofInto(et){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(et)}xof(et){return number$4(et),this.xofInto(new Uint8Array(et))}digestInto(et){if(output(et,this),this.finished)throw new Error("digest() was already called");return this.writeInto(et),this.destroy(),et}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(et){const{blockLen:tt,suffix:rt,outputLen:nt,rounds:ot,enableXOF:st}=this;return et||(et=new Keccak(tt,rt,nt,st,ot)),et.state32.set(this.state32),et.pos=this.pos,et.posOut=this.posOut,et.finished=this.finished,et.rounds=ot,et.suffix=rt,et.outputLen=nt,et.enableXOF=st,et.destroyed=this.destroyed,et}}const gen=(_e,et,tt)=>wrapConstructor(()=>new Keccak(et,_e,tt)),keccak_256=gen(1,136,256/8);let locked=!1;const _keccak256=function(_e){return keccak_256(_e)};let __keccak256=_keccak256;function keccak256(_e){const et=getBytes(_e,"data");return hexlify(__keccak256(et))}keccak256._=_keccak256;keccak256.lock=function(){locked=!0};keccak256.register=function(_e){if(locked)throw new TypeError("keccak256 is locked");__keccak256=_e};Object.freeze(keccak256);const _sha256=function(_e){return createHash("sha256").update(_e).digest()};let __sha256=_sha256,locked256=!1;function sha256$1(_e){const et=getBytes(_e,"data");return hexlify(__sha256(et))}sha256$1._=_sha256;sha256$1.lock=function(){locked256=!0};sha256$1.register=function(_e){if(locked256)throw new Error("sha256 is locked");__sha256=_e};Object.freeze(sha256$1);Object.freeze(sha256$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),u8a=_e=>_e instanceof Uint8Array,hexes$1=Array.from({length:256},(_e,et)=>et.toString(16).padStart(2,"0"));function bytesToHex$1(_e){if(!u8a(_e))throw new Error("Uint8Array expected");let et="";for(let tt=0;tt<_e.length;tt++)et+=hexes$1[_e[tt]];return et}function numberToHexUnpadded(_e){const et=_e.toString(16);return et.length&1?`0${et}`:et}function hexToNumber(_e){if(typeof _e!="string")throw new Error("hex string expected, got "+typeof _e);return BigInt(_e===""?"0":`0x${_e}`)}function hexToBytes$1(_e){if(typeof _e!="string")throw new Error("hex string expected, got "+typeof _e);const et=_e.length;if(et%2)throw new Error("padded hex string expected, got unpadded hex of length "+et);const tt=new Uint8Array(et/2);for(let rt=0;rt<tt.length;rt++){const nt=rt*2,ot=_e.slice(nt,nt+2),st=Number.parseInt(ot,16);if(Number.isNaN(st)||st<0)throw new Error("Invalid byte sequence");tt[rt]=st}return tt}function bytesToNumberBE(_e){return hexToNumber(bytesToHex$1(_e))}function bytesToNumberLE$1(_e){if(!u8a(_e))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex$1(Uint8Array.from(_e).reverse()))}function numberToBytesBE(_e,et){return hexToBytes$1(_e.toString(16).padStart(et*2,"0"))}function numberToBytesLE(_e,et){return numberToBytesBE(_e,et).reverse()}function numberToVarBytesBE(_e){return hexToBytes$1(numberToHexUnpadded(_e))}function ensureBytes$1(_e,et,tt){let rt;if(typeof et=="string")try{rt=hexToBytes$1(et)}catch(ot){throw new Error(`${_e} must be valid hex string, got "${et}". Cause: ${ot}`)}else if(u8a(et))rt=Uint8Array.from(et);else throw new Error(`${_e} must be hex string or Uint8Array`);const nt=rt.length;if(typeof tt=="number"&&nt!==tt)throw new Error(`${_e} expected ${tt} bytes, got ${nt}`);return rt}function concatBytes$1(..._e){const et=new Uint8Array(_e.reduce((rt,nt)=>rt+nt.length,0));let tt=0;return _e.forEach(rt=>{if(!u8a(rt))throw new Error("Uint8Array expected");et.set(rt,tt),tt+=rt.length}),et}function equalBytes$1(_e,et){if(_e.length!==et.length)return!1;for(let tt=0;tt<_e.length;tt++)if(_e[tt]!==et[tt])return!1;return!0}function utf8ToBytes$1(_e){if(typeof _e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof _e}`);return new Uint8Array(new TextEncoder().encode(_e))}function bitLen(_e){let et;for(et=0;_e>_0n$4;_e>>=_1n$5,et+=1);return et}function bitGet(_e,et){return _e>>BigInt(et)&_1n$5}const bitSet=(_e,et,tt)=>_e|(tt?_1n$5:_0n$4)<<BigInt(et),bitMask=_e=>(_2n$3<<BigInt(_e-1))-_1n$5,u8n=_e=>new Uint8Array(_e),u8fr=_e=>Uint8Array.from(_e);function createHmacDrbg(_e,et,tt){if(typeof _e!="number"||_e<2)throw new Error("hashLen must be a number");if(typeof et!="number"||et<2)throw new Error("qByteLen must be a number");if(typeof tt!="function")throw new Error("hmacFn must be a function");let rt=u8n(_e),nt=u8n(_e),ot=0;const st=()=>{rt.fill(1),nt.fill(0),ot=0},at=(...ft)=>tt(nt,rt,...ft),ct=(ft=u8n())=>{nt=at(u8fr([0]),ft),rt=at(),ft.length!==0&&(nt=at(u8fr([1]),ft),rt=at())},lt=()=>{if(ot++>=1e3)throw new Error("drbg: tried 1000 values");let ft=0;const ht=[];for(;ft<et;){rt=at();const pt=rt.slice();ht.push(pt),ft+=rt.length}return concatBytes$1(...ht)};return(ft,ht)=>{st(),ct(ft);let pt;for(;!(pt=ht(lt()));)ct();return st(),pt}}const validatorFns={bigint:_e=>typeof _e=="bigint",function:_e=>typeof _e=="function",boolean:_e=>typeof _e=="boolean",string:_e=>typeof _e=="string",stringOrUint8Array:_e=>typeof _e=="string"||_e instanceof Uint8Array,isSafeInteger:_e=>Number.isSafeInteger(_e),array:_e=>Array.isArray(_e),field:(_e,et)=>et.Fp.isValid(_e),hash:_e=>typeof _e=="function"&&Number.isSafeInteger(_e.outputLen)};function validateObject(_e,et,tt={}){const rt=(nt,ot,st)=>{const at=validatorFns[ot];if(typeof at!="function")throw new Error(`Invalid validator "${ot}", expected function`);const ct=_e[nt];if(!(st&&ct===void 0)&&!at(ct,_e))throw new Error(`Invalid param ${String(nt)}=${ct} (${typeof ct}), expected ${ot}`)};for(const[nt,ot]of Object.entries(et))rt(nt,ot,!1);for(const[nt,ot]of Object.entries(tt))rt(nt,ot,!0);return _e}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE,bytesToNumberLE:bytesToNumberLE$1,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes:ensureBytes$1,equalBytes:equalBytes$1,hexToBytes:hexToBytes$1,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod$1(_e,et){const tt=_e%et;return tt>=_0n$3?tt:et+tt}function pow$1(_e,et,tt){if(tt<=_0n$3||et<_0n$3)throw new Error("Expected power/modulo > 0");if(tt===_1n$4)return _0n$3;let rt=_1n$4;for(;et>_0n$3;)et&_1n$4&&(rt=rt*_e%tt),_e=_e*_e%tt,et>>=_1n$4;return rt}function pow2$1(_e,et,tt){let rt=_e;for(;et-- >_0n$3;)rt*=rt,rt%=tt;return rt}function invert$1(_e,et){if(_e===_0n$3||et<=_0n$3)throw new Error(`invert: expected positive integers, got n=${_e} mod=${et}`);let tt=mod$1(_e,et),rt=et,nt=_0n$3,ot=_1n$4;for(;tt!==_0n$3;){const at=rt/tt,ct=rt%tt,lt=nt-ot*at;rt=tt,tt=ct,nt=ot,ot=lt}if(rt!==_1n$4)throw new Error("invert: does not exist");return mod$1(nt,et)}function tonelliShanks(_e){const et=(_e-_1n$4)/_2n$2;let tt,rt,nt;for(tt=_e-_1n$4,rt=0;tt%_2n$2===_0n$3;tt/=_2n$2,rt++);for(nt=_2n$2;nt<_e&&pow$1(nt,et,_e)!==_e-_1n$4;nt++);if(rt===1){const st=(_e+_1n$4)/_4n;return function(ct,lt){const dt=ct.pow(lt,st);if(!ct.eql(ct.sqr(dt),lt))throw new Error("Cannot find square root");return dt}}const ot=(tt+_1n$4)/_2n$2;return function(at,ct){if(at.pow(ct,et)===at.neg(at.ONE))throw new Error("Cannot find square root");let lt=rt,dt=at.pow(at.mul(at.ONE,nt),tt),ft=at.pow(ct,ot),ht=at.pow(ct,tt);for(;!at.eql(ht,at.ONE);){if(at.eql(ht,at.ZERO))return at.ZERO;let pt=1;for(let mt=at.sqr(ht);pt<lt&&!at.eql(mt,at.ONE);pt++)mt=at.sqr(mt);const gt=at.pow(dt,_1n$4<<BigInt(lt-pt-1));dt=at.sqr(gt),ft=at.mul(ft,gt),ht=at.mul(ht,dt),lt=pt}return ft}}function FpSqrt(_e){if(_e%_4n===_3n$1){const et=(_e+_1n$4)/_4n;return function(rt,nt){const ot=rt.pow(nt,et);if(!rt.eql(rt.sqr(ot),nt))throw new Error("Cannot find square root");return ot}}if(_e%_8n$1===_5n){const et=(_e-_5n)/_8n$1;return function(rt,nt){const ot=rt.mul(nt,_2n$2),st=rt.pow(ot,et),at=rt.mul(nt,st),ct=rt.mul(rt.mul(at,_2n$2),st),lt=rt.mul(at,rt.sub(ct,rt.ONE));if(!rt.eql(rt.sqr(lt),nt))throw new Error("Cannot find square root");return lt}}return tonelliShanks(_e)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(_e){const et={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},tt=FIELD_FIELDS.reduce((rt,nt)=>(rt[nt]="function",rt),et);return validateObject(_e,tt)}function FpPow(_e,et,tt){if(tt<_0n$3)throw new Error("Expected power > 0");if(tt===_0n$3)return _e.ONE;if(tt===_1n$4)return et;let rt=_e.ONE,nt=et;for(;tt>_0n$3;)tt&_1n$4&&(rt=_e.mul(rt,nt)),nt=_e.sqr(nt),tt>>=_1n$4;return rt}function FpInvertBatch(_e,et){const tt=new Array(et.length),rt=et.reduce((ot,st,at)=>_e.is0(st)?ot:(tt[at]=ot,_e.mul(ot,st)),_e.ONE),nt=_e.inv(rt);return et.reduceRight((ot,st,at)=>_e.is0(st)?ot:(tt[at]=_e.mul(ot,tt[at]),_e.mul(ot,st)),nt),tt}function nLength(_e,et){const tt=et!==void 0?et:_e.toString(2).length,rt=Math.ceil(tt/8);return{nBitLength:tt,nByteLength:rt}}function Field(_e,et,tt=!1,rt={}){if(_e<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${_e}`);const{nBitLength:nt,nByteLength:ot}=nLength(_e,et);if(ot>2048)throw new Error("Field lengths over 2048 bytes are not supported");const st=FpSqrt(_e),at=Object.freeze({ORDER:_e,BITS:nt,BYTES:ot,MASK:bitMask(nt),ZERO:_0n$3,ONE:_1n$4,create:ct=>mod$1(ct,_e),isValid:ct=>{if(typeof ct!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ct}`);return _0n$3<=ct&&ct<_e},is0:ct=>ct===_0n$3,isOdd:ct=>(ct&_1n$4)===_1n$4,neg:ct=>mod$1(-ct,_e),eql:(ct,lt)=>ct===lt,sqr:ct=>mod$1(ct*ct,_e),add:(ct,lt)=>mod$1(ct+lt,_e),sub:(ct,lt)=>mod$1(ct-lt,_e),mul:(ct,lt)=>mod$1(ct*lt,_e),pow:(ct,lt)=>FpPow(at,ct,lt),div:(ct,lt)=>mod$1(ct*invert$1(lt,_e),_e),sqrN:ct=>ct*ct,addN:(ct,lt)=>ct+lt,subN:(ct,lt)=>ct-lt,mulN:(ct,lt)=>ct*lt,inv:ct=>invert$1(ct,_e),sqrt:rt.sqrt||(ct=>st(at,ct)),invertBatch:ct=>FpInvertBatch(at,ct),cmov:(ct,lt,dt)=>dt?lt:ct,toBytes:ct=>tt?numberToBytesLE(ct,ot):numberToBytesBE(ct,ot),fromBytes:ct=>{if(ct.length!==ot)throw new Error(`Fp.fromBytes: expected ${ot}, got ${ct.length}`);return tt?bytesToNumberLE$1(ct):bytesToNumberBE(ct)}});return Object.freeze(at)}function getFieldBytesLength(_e){if(typeof _e!="bigint")throw new Error("field order must be bigint");const et=_e.toString(2).length;return Math.ceil(et/8)}function getMinHashLength(_e){const et=getFieldBytesLength(_e);return et+Math.ceil(et/2)}function mapHashToField(_e,et,tt=!1){const rt=_e.length,nt=getFieldBytesLength(et),ot=getMinHashLength(et);if(rt<16||rt<ot||rt>1024)throw new Error(`expected ${ot}-1024 bytes of input, got ${rt}`);const st=tt?bytesToNumberBE(_e):bytesToNumberLE$1(_e),at=mod$1(st,et-_1n$4)+_1n$4;return tt?numberToBytesLE(at,nt):numberToBytesBE(at,nt)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1);function wNAF(_e,et){const tt=(nt,ot)=>{const st=ot.negate();return nt?st:ot},rt=nt=>{const ot=Math.ceil(et/nt)+1,st=2**(nt-1);return{windows:ot,windowSize:st}};return{constTimeNegate:tt,unsafeLadder(nt,ot){let st=_e.ZERO,at=nt;for(;ot>_0n$2;)ot&_1n$3&&(st=st.add(at)),at=at.double(),ot>>=_1n$3;return st},precomputeWindow(nt,ot){const{windows:st,windowSize:at}=rt(ot),ct=[];let lt=nt,dt=lt;for(let ft=0;ft<st;ft++){dt=lt,ct.push(dt);for(let ht=1;ht<at;ht++)dt=dt.add(lt),ct.push(dt);lt=dt.double()}return ct},wNAF(nt,ot,st){const{windows:at,windowSize:ct}=rt(nt);let lt=_e.ZERO,dt=_e.BASE;const ft=BigInt(2**nt-1),ht=2**nt,pt=BigInt(nt);for(let gt=0;gt<at;gt++){const mt=gt*ct;let vt=Number(st&ft);st>>=pt,vt>ct&&(vt-=ht,st+=_1n$3);const yt=mt,bt=mt+Math.abs(vt)-1,xt=gt%2!==0,wt=vt<0;vt===0?dt=dt.add(tt(xt,ot[yt])):lt=lt.add(tt(wt,ot[bt]))}return{p:lt,f:dt}},wNAFCached(nt,ot,st,at){const ct=nt._WINDOW_SIZE||1;let lt=ot.get(nt);return lt||(lt=this.precomputeWindow(nt,ct),ct!==1&&ot.set(nt,at(lt))),this.wNAF(ct,lt,st)}}}function validateBasic(_e){return validateField(_e.Fp),validateObject(_e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(_e.n,_e.nBitLength),..._e,p:_e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(_e){const et=validateBasic(_e);validateObject(et,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:tt,Fp:rt,a:nt}=et;if(tt){if(!rt.eql(nt,rt.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof tt!="object"||typeof tt.beta!="bigint"||typeof tt.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...et})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(et=""){super(et)}},_parseInt(_e){const{Err:et}=DER;if(_e.length<2||_e[0]!==2)throw new et("Invalid signature integer tag");const tt=_e[1],rt=_e.subarray(2,tt+2);if(!tt||rt.length!==tt)throw new et("Invalid signature integer: wrong length");if(rt[0]&128)throw new et("Invalid signature integer: negative");if(rt[0]===0&&!(rt[1]&128))throw new et("Invalid signature integer: unnecessary leading zero");return{d:b2n(rt),l:_e.subarray(tt+2)}},toSig(_e){const{Err:et}=DER,tt=typeof _e=="string"?h2b(_e):_e;if(!(tt instanceof Uint8Array))throw new Error("ui8a expected");let rt=tt.length;if(rt<2||tt[0]!=48)throw new et("Invalid signature tag");if(tt[1]!==rt-2)throw new et("Invalid signature: incorrect length");const{d:nt,l:ot}=DER._parseInt(tt.subarray(2)),{d:st,l:at}=DER._parseInt(ot);if(at.length)throw new et("Invalid signature: left bytes after parsing");return{r:nt,s:st}},hexFromSig(_e){const et=lt=>Number.parseInt(lt[0],16)&8?"00"+lt:lt,tt=lt=>{const dt=lt.toString(16);return dt.length&1?`0${dt}`:dt},rt=et(tt(_e.s)),nt=et(tt(_e.r)),ot=rt.length/2,st=nt.length/2,at=tt(ot),ct=tt(st);return`30${tt(st+ot+4)}02${ct}${nt}02${at}${rt}`}},_0n$1=BigInt(0),_1n$2=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(_e){const et=validatePointOpts(_e),{Fp:tt}=et,rt=et.toBytes||((gt,mt,vt)=>{const yt=mt.toAffine();return concatBytes$1(Uint8Array.from([4]),tt.toBytes(yt.x),tt.toBytes(yt.y))}),nt=et.fromBytes||(gt=>{const mt=gt.subarray(1),vt=tt.fromBytes(mt.subarray(0,tt.BYTES)),yt=tt.fromBytes(mt.subarray(tt.BYTES,2*tt.BYTES));return{x:vt,y:yt}});function ot(gt){const{a:mt,b:vt}=et,yt=tt.sqr(gt),bt=tt.mul(yt,gt);return tt.add(tt.add(bt,tt.mul(gt,mt)),vt)}if(!tt.eql(tt.sqr(et.Gy),ot(et.Gx)))throw new Error("bad generator point: equation left != right");function st(gt){return typeof gt=="bigint"&&_0n$1<gt&&gt<et.n}function at(gt){if(!st(gt))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ct(gt){const{allowedPrivateKeyLengths:mt,nByteLength:vt,wrapPrivateKey:yt,n:bt}=et;if(mt&&typeof gt!="bigint"){if(gt instanceof Uint8Array&&(gt=bytesToHex$1(gt)),typeof gt!="string"||!mt.includes(gt.length))throw new Error("Invalid key");gt=gt.padStart(vt*2,"0")}let xt;try{xt=typeof gt=="bigint"?gt:bytesToNumberBE(ensureBytes$1("private key",gt,vt))}catch{throw new Error(`private key must be ${vt} bytes, hex or bigint, not ${typeof gt}`)}return yt&&(xt=mod$1(xt,bt)),at(xt),xt}const lt=new Map;function dt(gt){if(!(gt instanceof ft))throw new Error("ProjectivePoint expected")}class ft{constructor(mt,vt,yt){if(this.px=mt,this.py=vt,this.pz=yt,mt==null||!tt.isValid(mt))throw new Error("x required");if(vt==null||!tt.isValid(vt))throw new Error("y required");if(yt==null||!tt.isValid(yt))throw new Error("z required")}static fromAffine(mt){const{x:vt,y:yt}=mt||{};if(!mt||!tt.isValid(vt)||!tt.isValid(yt))throw new Error("invalid affine point");if(mt instanceof ft)throw new Error("projective point not allowed");const bt=xt=>tt.eql(xt,tt.ZERO);return bt(vt)&&bt(yt)?ft.ZERO:new ft(vt,yt,tt.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(mt){const vt=tt.invertBatch(mt.map(yt=>yt.pz));return mt.map((yt,bt)=>yt.toAffine(vt[bt])).map(ft.fromAffine)}static fromHex(mt){const vt=ft.fromAffine(nt(ensureBytes$1("pointHex",mt)));return vt.assertValidity(),vt}static fromPrivateKey(mt){return ft.BASE.multiply(ct(mt))}_setWindowSize(mt){this._WINDOW_SIZE=mt,lt.delete(this)}assertValidity(){if(this.is0()){if(et.allowInfinityPoint&&!tt.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:mt,y:vt}=this.toAffine();if(!tt.isValid(mt)||!tt.isValid(vt))throw new Error("bad point: x or y not FE");const yt=tt.sqr(vt),bt=ot(mt);if(!tt.eql(yt,bt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:mt}=this.toAffine();if(tt.isOdd)return!tt.isOdd(mt);throw new Error("Field doesn't support isOdd")}equals(mt){dt(mt);const{px:vt,py:yt,pz:bt}=this,{px:xt,py:wt,pz:At}=mt,St=tt.eql(tt.mul(vt,At),tt.mul(xt,bt)),$t=tt.eql(tt.mul(yt,At),tt.mul(wt,bt));return St&&$t}negate(){return new ft(this.px,tt.neg(this.py),this.pz)}double(){const{a:mt,b:vt}=et,yt=tt.mul(vt,_3n),{px:bt,py:xt,pz:wt}=this;let At=tt.ZERO,St=tt.ZERO,$t=tt.ZERO,kt=tt.mul(bt,bt),Ct=tt.mul(xt,xt),_t=tt.mul(wt,wt),Tt=tt.mul(bt,xt);return Tt=tt.add(Tt,Tt),$t=tt.mul(bt,wt),$t=tt.add($t,$t),At=tt.mul(mt,$t),St=tt.mul(yt,_t),St=tt.add(At,St),At=tt.sub(Ct,St),St=tt.add(Ct,St),St=tt.mul(At,St),At=tt.mul(Tt,At),$t=tt.mul(yt,$t),_t=tt.mul(mt,_t),Tt=tt.sub(kt,_t),Tt=tt.mul(mt,Tt),Tt=tt.add(Tt,$t),$t=tt.add(kt,kt),kt=tt.add($t,kt),kt=tt.add(kt,_t),kt=tt.mul(kt,Tt),St=tt.add(St,kt),_t=tt.mul(xt,wt),_t=tt.add(_t,_t),kt=tt.mul(_t,Tt),At=tt.sub(At,kt),$t=tt.mul(_t,Ct),$t=tt.add($t,$t),$t=tt.add($t,$t),new ft(At,St,$t)}add(mt){dt(mt);const{px:vt,py:yt,pz:bt}=this,{px:xt,py:wt,pz:At}=mt;let St=tt.ZERO,$t=tt.ZERO,kt=tt.ZERO;const Ct=et.a,_t=tt.mul(et.b,_3n);let Tt=tt.mul(vt,xt),jt=tt.mul(yt,wt),Bt=tt.mul(bt,At),Gt=tt.add(vt,yt),Rt=tt.add(xt,wt);Gt=tt.mul(Gt,Rt),Rt=tt.add(Tt,jt),Gt=tt.sub(Gt,Rt),Rt=tt.add(vt,bt);let Wt=tt.add(xt,At);return Rt=tt.mul(Rt,Wt),Wt=tt.add(Tt,Bt),Rt=tt.sub(Rt,Wt),Wt=tt.add(yt,bt),St=tt.add(wt,At),Wt=tt.mul(Wt,St),St=tt.add(jt,Bt),Wt=tt.sub(Wt,St),kt=tt.mul(Ct,Rt),St=tt.mul(_t,Bt),kt=tt.add(St,kt),St=tt.sub(jt,kt),kt=tt.add(jt,kt),$t=tt.mul(St,kt),jt=tt.add(Tt,Tt),jt=tt.add(jt,Tt),Bt=tt.mul(Ct,Bt),Rt=tt.mul(_t,Rt),jt=tt.add(jt,Bt),Bt=tt.sub(Tt,Bt),Bt=tt.mul(Ct,Bt),Rt=tt.add(Rt,Bt),Tt=tt.mul(jt,Rt),$t=tt.add($t,Tt),Tt=tt.mul(Wt,Rt),St=tt.mul(Gt,St),St=tt.sub(St,Tt),Tt=tt.mul(Gt,jt),kt=tt.mul(Wt,kt),kt=tt.add(kt,Tt),new ft(St,$t,kt)}subtract(mt){return this.add(mt.negate())}is0(){return this.equals(ft.ZERO)}wNAF(mt){return pt.wNAFCached(this,lt,mt,vt=>{const yt=tt.invertBatch(vt.map(bt=>bt.pz));return vt.map((bt,xt)=>bt.toAffine(yt[xt])).map(ft.fromAffine)})}multiplyUnsafe(mt){const vt=ft.ZERO;if(mt===_0n$1)return vt;if(at(mt),mt===_1n$2)return this;const{endo:yt}=et;if(!yt)return pt.unsafeLadder(this,mt);let{k1neg:bt,k1:xt,k2neg:wt,k2:At}=yt.splitScalar(mt),St=vt,$t=vt,kt=this;for(;xt>_0n$1||At>_0n$1;)xt&_1n$2&&(St=St.add(kt)),At&_1n$2&&($t=$t.add(kt)),kt=kt.double(),xt>>=_1n$2,At>>=_1n$2;return bt&&(St=St.negate()),wt&&($t=$t.negate()),$t=new ft(tt.mul($t.px,yt.beta),$t.py,$t.pz),St.add($t)}multiply(mt){at(mt);let vt=mt,yt,bt;const{endo:xt}=et;if(xt){const{k1neg:wt,k1:At,k2neg:St,k2:$t}=xt.splitScalar(vt);let{p:kt,f:Ct}=this.wNAF(At),{p:_t,f:Tt}=this.wNAF($t);kt=pt.constTimeNegate(wt,kt),_t=pt.constTimeNegate(St,_t),_t=new ft(tt.mul(_t.px,xt.beta),_t.py,_t.pz),yt=kt.add(_t),bt=Ct.add(Tt)}else{const{p:wt,f:At}=this.wNAF(vt);yt=wt,bt=At}return ft.normalizeZ([yt,bt])[0]}multiplyAndAddUnsafe(mt,vt,yt){const bt=ft.BASE,xt=(At,St)=>St===_0n$1||St===_1n$2||!At.equals(bt)?At.multiplyUnsafe(St):At.multiply(St),wt=xt(this,vt).add(xt(mt,yt));return wt.is0()?void 0:wt}toAffine(mt){const{px:vt,py:yt,pz:bt}=this,xt=this.is0();mt==null&&(mt=xt?tt.ONE:tt.inv(bt));const wt=tt.mul(vt,mt),At=tt.mul(yt,mt),St=tt.mul(bt,mt);if(xt)return{x:tt.ZERO,y:tt.ZERO};if(!tt.eql(St,tt.ONE))throw new Error("invZ was invalid");return{x:wt,y:At}}isTorsionFree(){const{h:mt,isTorsionFree:vt}=et;if(mt===_1n$2)return!0;if(vt)return vt(ft,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:mt,clearCofactor:vt}=et;return mt===_1n$2?this:vt?vt(ft,this):this.multiplyUnsafe(et.h)}toRawBytes(mt=!0){return this.assertValidity(),rt(ft,this,mt)}toHex(mt=!0){return bytesToHex$1(this.toRawBytes(mt))}}ft.BASE=new ft(et.Gx,et.Gy,tt.ONE),ft.ZERO=new ft(tt.ZERO,tt.ONE,tt.ZERO);const ht=et.nBitLength,pt=wNAF(ft,et.endo?Math.ceil(ht/2):ht);return{CURVE:et,ProjectivePoint:ft,normPrivateKeyToScalar:ct,weierstrassEquation:ot,isWithinCurveOrder:st}}function validateOpts(_e){const et=validateBasic(_e);return validateObject(et,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...et})}function weierstrass(_e){const et=validateOpts(_e),{Fp:tt,n:rt}=et,nt=tt.BYTES+1,ot=2*tt.BYTES+1;function st(Rt){return _0n$1<Rt&&Rt<tt.ORDER}function at(Rt){return mod$1(Rt,rt)}function ct(Rt){return invert$1(Rt,rt)}const{ProjectivePoint:lt,normPrivateKeyToScalar:dt,weierstrassEquation:ft,isWithinCurveOrder:ht}=weierstrassPoints({...et,toBytes(Rt,Wt,Vt){const Lt=Wt.toAffine(),Ht=tt.toBytes(Lt.x),Kt=concatBytes$1;return Vt?Kt(Uint8Array.from([Wt.hasEvenY()?2:3]),Ht):Kt(Uint8Array.from([4]),Ht,tt.toBytes(Lt.y))},fromBytes(Rt){const Wt=Rt.length,Vt=Rt[0],Lt=Rt.subarray(1);if(Wt===nt&&(Vt===2||Vt===3)){const Ht=bytesToNumberBE(Lt);if(!st(Ht))throw new Error("Point is not on curve");const Kt=ft(Ht);let Qt=tt.sqrt(Kt);const Yt=(Qt&_1n$2)===_1n$2;return(Vt&1)===1!==Yt&&(Qt=tt.neg(Qt)),{x:Ht,y:Qt}}else if(Wt===ot&&Vt===4){const Ht=tt.fromBytes(Lt.subarray(0,tt.BYTES)),Kt=tt.fromBytes(Lt.subarray(tt.BYTES,2*tt.BYTES));return{x:Ht,y:Kt}}else throw new Error(`Point of length ${Wt} was invalid. Expected ${nt} compressed bytes or ${ot} uncompressed bytes`)}}),pt=Rt=>bytesToHex$1(numberToBytesBE(Rt,et.nByteLength));function gt(Rt){const Wt=rt>>_1n$2;return Rt>Wt}function mt(Rt){return gt(Rt)?at(-Rt):Rt}const vt=(Rt,Wt,Vt)=>bytesToNumberBE(Rt.slice(Wt,Vt));class yt{constructor(Wt,Vt,Lt){this.r=Wt,this.s=Vt,this.recovery=Lt,this.assertValidity()}static fromCompact(Wt){const Vt=et.nByteLength;return Wt=ensureBytes$1("compactSignature",Wt,Vt*2),new yt(vt(Wt,0,Vt),vt(Wt,Vt,2*Vt))}static fromDER(Wt){const{r:Vt,s:Lt}=DER.toSig(ensureBytes$1("DER",Wt));return new yt(Vt,Lt)}assertValidity(){if(!ht(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ht(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Wt){return new yt(this.r,this.s,Wt)}recoverPublicKey(Wt){const{r:Vt,s:Lt,recovery:Ht}=this,Kt=$t(ensureBytes$1("msgHash",Wt));if(Ht==null||![0,1,2,3].includes(Ht))throw new Error("recovery id invalid");const Qt=Ht===2||Ht===3?Vt+et.n:Vt;if(Qt>=tt.ORDER)throw new Error("recovery id 2 or 3 invalid");const Yt=Ht&1?"03":"02",ar=lt.fromHex(Yt+pt(Qt)),sr=ct(Qt),tr=at(-Kt*sr),It=at(Lt*sr),Ft=lt.BASE.multiplyAndAddUnsafe(ar,tr,It);if(!Ft)throw new Error("point at infinify");return Ft.assertValidity(),Ft}hasHighS(){return gt(this.s)}normalizeS(){return this.hasHighS()?new yt(this.r,at(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return pt(this.r)+pt(this.s)}}const bt={isValidPrivateKey(Rt){try{return dt(Rt),!0}catch{return!1}},normPrivateKeyToScalar:dt,randomPrivateKey:()=>{const Rt=getMinHashLength(et.n);return mapHashToField(et.randomBytes(Rt),et.n)},precompute(Rt=8,Wt=lt.BASE){return Wt._setWindowSize(Rt),Wt.multiply(BigInt(3)),Wt}};function xt(Rt,Wt=!0){return lt.fromPrivateKey(Rt).toRawBytes(Wt)}function wt(Rt){const Wt=Rt instanceof Uint8Array,Vt=typeof Rt=="string",Lt=(Wt||Vt)&&Rt.length;return Wt?Lt===nt||Lt===ot:Vt?Lt===2*nt||Lt===2*ot:Rt instanceof lt}function At(Rt,Wt,Vt=!0){if(wt(Rt))throw new Error("first arg must be private key");if(!wt(Wt))throw new Error("second arg must be public key");return lt.fromHex(Wt).multiply(dt(Rt)).toRawBytes(Vt)}const St=et.bits2int||function(Rt){const Wt=bytesToNumberBE(Rt),Vt=Rt.length*8-et.nBitLength;return Vt>0?Wt>>BigInt(Vt):Wt},$t=et.bits2int_modN||function(Rt){return at(St(Rt))},kt=bitMask(et.nBitLength);function Ct(Rt){if(typeof Rt!="bigint")throw new Error("bigint expected");if(!(_0n$1<=Rt&&Rt<kt))throw new Error(`bigint expected < 2^${et.nBitLength}`);return numberToBytesBE(Rt,et.nByteLength)}function _t(Rt,Wt,Vt=Tt){if(["recovered","canonical"].some(Dt=>Dt in Vt))throw new Error("sign() legacy options not supported");const{hash:Lt,randomBytes:Ht}=et;let{lowS:Kt,prehash:Qt,extraEntropy:Yt}=Vt;Kt==null&&(Kt=!0),Rt=ensureBytes$1("msgHash",Rt),Qt&&(Rt=ensureBytes$1("prehashed msgHash",Lt(Rt)));const ar=$t(Rt),sr=dt(Wt),tr=[Ct(sr),Ct(ar)];if(Yt!=null){const Dt=Yt===!0?Ht(tt.BYTES):Yt;tr.push(ensureBytes$1("extraEntropy",Dt))}const It=concatBytes$1(...tr),Ft=ar;function Jt(Dt){const qt=St(Dt);if(!ht(qt))return;const Xt=ct(qt),Mt=lt.BASE.multiply(qt).toAffine(),nr=at(Mt.x);if(nr===_0n$1)return;const er=at(Xt*at(Ft+nr*sr));if(er===_0n$1)return;let cr=(Mt.x===nr?0:2)|Number(Mt.y&_1n$2),lr=er;return Kt&&gt(er)&&(lr=mt(er),cr^=1),new yt(nr,lr,cr)}return{seed:It,k2sig:Jt}}const Tt={lowS:et.lowS,prehash:!1},jt={lowS:et.lowS,prehash:!1};function Bt(Rt,Wt,Vt=Tt){const{seed:Lt,k2sig:Ht}=_t(Rt,Wt,Vt),Kt=et;return createHmacDrbg(Kt.hash.outputLen,Kt.nByteLength,Kt.hmac)(Lt,Ht)}lt.BASE._setWindowSize(8);function Gt(Rt,Wt,Vt,Lt=jt){var Mt;const Ht=Rt;if(Wt=ensureBytes$1("msgHash",Wt),Vt=ensureBytes$1("publicKey",Vt),"strict"in Lt)throw new Error("options.strict was renamed to lowS");const{lowS:Kt,prehash:Qt}=Lt;let Yt,ar;try{if(typeof Ht=="string"||Ht instanceof Uint8Array)try{Yt=yt.fromDER(Ht)}catch(nr){if(!(nr instanceof DER.Err))throw nr;Yt=yt.fromCompact(Ht)}else if(typeof Ht=="object"&&typeof Ht.r=="bigint"&&typeof Ht.s=="bigint"){const{r:nr,s:er}=Ht;Yt=new yt(nr,er)}else throw new Error("PARSE");ar=lt.fromHex(Vt)}catch(nr){if(nr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Kt&&Yt.hasHighS())return!1;Qt&&(Wt=et.hash(Wt));const{r:sr,s:tr}=Yt,It=$t(Wt),Ft=ct(tr),Jt=at(It*Ft),Dt=at(sr*Ft),qt=(Mt=lt.BASE.multiplyAndAddUnsafe(ar,Jt,Dt))==null?void 0:Mt.toAffine();return qt?at(qt.x)===sr:!1}return{CURVE:et,getPublicKey:xt,getSharedSecret:At,sign:Bt,verify:Gt,ProjectivePoint:lt,Signature:yt,utils:bt}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(_e){return{hash:_e,hmac:(et,...tt)=>hmac(_e,et,concatBytes$2(...tt)),randomBytes}}function createCurve(_e,et){const tt=rt=>weierstrass({..._e,...getHash(rt)});return Object.freeze({...tt(et),create:tt})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$1=BigInt(1),_2n$1=BigInt(2),divNearest=(_e,et)=>(_e+et/_2n$1)/et;function sqrtMod(_e){const et=secp256k1P,tt=BigInt(3),rt=BigInt(6),nt=BigInt(11),ot=BigInt(22),st=BigInt(23),at=BigInt(44),ct=BigInt(88),lt=_e*_e*_e%et,dt=lt*lt*_e%et,ft=pow2$1(dt,tt,et)*dt%et,ht=pow2$1(ft,tt,et)*dt%et,pt=pow2$1(ht,_2n$1,et)*lt%et,gt=pow2$1(pt,nt,et)*pt%et,mt=pow2$1(gt,ot,et)*gt%et,vt=pow2$1(mt,at,et)*mt%et,yt=pow2$1(vt,ct,et)*vt%et,bt=pow2$1(yt,at,et)*mt%et,xt=pow2$1(bt,tt,et)*dt%et,wt=pow2$1(xt,st,et)*gt%et,At=pow2$1(wt,rt,et)*lt%et,St=pow2$1(At,_2n$1,et);if(!Fp.eql(Fp.sqr(St),_e))throw new Error("Cannot find square root");return St}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:_e=>{const et=secp256k1N,tt=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),rt=-_1n$1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),nt=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ot=tt,st=BigInt("0x100000000000000000000000000000000"),at=divNearest(ot*_e,et),ct=divNearest(-rt*_e,et);let lt=mod$1(_e-at*tt-ct*nt,et),dt=mod$1(-at*rt-ct*ot,et);const ft=lt>st,ht=dt>st;if(ft&&(lt=et-lt),ht&&(dt=et-dt),lt>st||dt>st)throw new Error("splitScalar: Endomorphism failed, k="+_e);return{k1neg:ft,k1:lt,k2neg:ht,k2:dt}}}},sha256$2);BigInt(0);secp256k1.ProjectivePoint;const ZeroAddress="0x0000000000000000000000000000000000000000",ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",BN_0$7=BigInt(0),BN_1$2=BigInt(1),BN_2$2=BigInt(2),BN_27$1=BigInt(27),BN_28$1=BigInt(28),BN_35$1=BigInt(35),_guard$1={};function toUint256(_e){return zeroPadValue(toBeArray(_e),32)}var yo,Ur,vo,Wn,br;let Signature$1=(br=class{constructor(et,tt,rt,nt){Ot(this,yo);Ot(this,Ur);Ot(this,vo);Ot(this,Wn);assertPrivate(et,_guard$1,"Signature"),Pt(this,yo,tt),Pt(this,Ur,rt),Pt(this,vo,nt),Pt(this,Wn,null)}get r(){return Et(this,yo)}set r(et){assertArgument(dataLength(et)===32,"invalid r","value",et),Pt(this,yo,hexlify(et))}get s(){return assertArgument(parseInt(Et(this,Ur).substring(0,3))<8,"non-canonical s; use ._s","s",Et(this,Ur)),Et(this,Ur)}set s(et){assertArgument(dataLength(et)===32,"invalid s","value",et),Pt(this,Ur,hexlify(et))}get _s(){return Et(this,Ur)}isValid(){return parseInt(Et(this,Ur).substring(0,3))<8}get v(){return Et(this,vo)}set v(et){const tt=getNumber(et,"value");assertArgument(tt===27||tt===28,"invalid v","v",et),Pt(this,vo,tt)}get networkV(){return Et(this,Wn)}get legacyChainId(){const et=this.networkV;return et==null?null:br.getChainId(et)}get yParity(){return this.v===27?0:1}get yParityAndS(){const et=getBytes(this.s);return this.yParity&&(et[0]|=128),hexlify(et)}get compactSerialized(){return concat$2([this.r,this.yParityAndS])}get serialized(){return concat$2([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const et=new br(_guard$1,this.r,this._s,this.v);return this.networkV&&Pt(et,Wn,this.networkV),et}toJSON(){const et=this.networkV;return{_type:"signature",networkV:et!=null?et.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(et){const tt=getBigInt(et,"v");return tt==BN_27$1||tt==BN_28$1?BN_0$7:(assertArgument(tt>=BN_35$1,"invalid EIP-155 v","v",et),(tt-BN_35$1)/BN_2$2)}static getChainIdV(et,tt){return getBigInt(et)*BN_2$2+BigInt(35+tt-27)}static getNormalizedV(et){const tt=getBigInt(et);return tt===BN_0$7||tt===BN_27$1?27:tt===BN_1$2||tt===BN_28$1?28:(assertArgument(tt>=BN_35$1,"invalid v","v",et),tt&BN_1$2?27:28)}static from(et){function tt(lt,dt){assertArgument(lt,dt,"signature",et)}if(et==null)return new br(_guard$1,ZeroHash,ZeroHash,27);if(typeof et=="string"){const lt=getBytes(et,"signature");if(lt.length===64){const dt=hexlify(lt.slice(0,32)),ft=lt.slice(32,64),ht=ft[0]&128?28:27;return ft[0]&=127,new br(_guard$1,dt,hexlify(ft),ht)}if(lt.length===65){const dt=hexlify(lt.slice(0,32)),ft=hexlify(lt.slice(32,64)),ht=br.getNormalizedV(lt[64]);return new br(_guard$1,dt,ft,ht)}tt(!1,"invalid raw signature length")}if(et instanceof br)return et.clone();const rt=et.r;tt(rt!=null,"missing r");const nt=toUint256(rt),ot=function(lt,dt){if(lt!=null)return toUint256(lt);if(dt!=null){tt(isHexString(dt,32),"invalid yParityAndS");const ft=getBytes(dt);return ft[0]&=127,hexlify(ft)}tt(!1,"missing s")}(et.s,et.yParityAndS),{networkV:st,v:at}=function(lt,dt,ft){if(lt!=null){const ht=getBigInt(lt);return{networkV:ht>=BN_35$1?ht:void 0,v:br.getNormalizedV(ht)}}if(dt!=null)return tt(isHexString(dt,32),"invalid yParityAndS"),{v:getBytes(dt)[0]&128?28:27};if(ft!=null){switch(getNumber(ft,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}tt(!1,"invalid yParity")}tt(!1,"missing v")}(et.v,et.yParityAndS,et.yParity),ct=new br(_guard$1,nt,ot,at);return st&&Pt(ct,Wn,st),tt(et.yParity==null||getNumber(et.yParity,"sig.yParity")===ct.yParity,"yParity mismatch"),tt(et.yParityAndS==null||et.yParityAndS===ct.yParityAndS,"yParityAndS mismatch"),ct}},yo=new WeakMap,Ur=new WeakMap,vo=new WeakMap,Wn=new WeakMap,br);var tn;const Rn=class Rn{constructor(et){Ot(this,tn);assertArgument(dataLength(et)===32,"invalid private key","privateKey","[REDACTED]"),Pt(this,tn,hexlify(et))}get privateKey(){return Et(this,tn)}get publicKey(){return Rn.computePublicKey(Et(this,tn))}get compressedPublicKey(){return Rn.computePublicKey(Et(this,tn),!0)}sign(et){assertArgument(dataLength(et)===32,"invalid digest length","digest",et);const tt=secp256k1.sign(getBytesCopy(et),getBytesCopy(Et(this,tn)),{lowS:!0});return Signature$1.from({r:toBeHex(tt.r,32),s:toBeHex(tt.s,32),v:tt.recovery?28:27})}computeSharedSecret(et){const tt=Rn.computePublicKey(et);return hexlify(secp256k1.getSharedSecret(getBytesCopy(Et(this,tn)),getBytes(tt),!1))}static computePublicKey(et,tt){let rt=getBytes(et,"key");if(rt.length===32){const ot=secp256k1.getPublicKey(rt,!!tt);return hexlify(ot)}if(rt.length===64){const ot=new Uint8Array(65);ot[0]=4,ot.set(rt,1),rt=ot}const nt=secp256k1.ProjectivePoint.fromHex(rt);return hexlify(nt.toRawBytes(tt))}static recoverPublicKey(et,tt){assertArgument(dataLength(et)===32,"invalid digest length","digest",et);const rt=Signature$1.from(tt);let nt=secp256k1.Signature.fromCompact(getBytesCopy(concat$2([rt.r,rt.s])));nt=nt.addRecoveryBit(rt.yParity);const ot=nt.recoverPublicKey(getBytesCopy(et));return assertArgument(ot!=null,"invalid signature for digest","signature",tt),"0x"+ot.toHex(!1)}static addPoints(et,tt,rt){const nt=secp256k1.ProjectivePoint.fromHex(Rn.computePublicKey(et).substring(2)),ot=secp256k1.ProjectivePoint.fromHex(Rn.computePublicKey(tt).substring(2));return"0x"+nt.add(ot).toHex(!!rt)}};tn=new WeakMap;let SigningKey=Rn;const BN_0$6=BigInt(0),BN_36=BigInt(36);function getChecksumAddress(_e){_e=_e.toLowerCase();const et=_e.substring(2).split(""),tt=new Uint8Array(40);for(let nt=0;nt<40;nt++)tt[nt]=et[nt].charCodeAt(0);const rt=getBytes(keccak256(tt));for(let nt=0;nt<40;nt+=2)rt[nt>>1]>>4>=8&&(et[nt]=et[nt].toUpperCase()),(rt[nt>>1]&15)>=8&&(et[nt+1]=et[nt+1].toUpperCase());return"0x"+et.join("")}const ibanLookup={};for(let _e=0;_e<10;_e++)ibanLookup[String(_e)]=String(_e);for(let _e=0;_e<26;_e++)ibanLookup[String.fromCharCode(65+_e)]=String(10+_e);const safeDigits=15;function ibanChecksum(_e){_e=_e.toUpperCase(),_e=_e.substring(4)+_e.substring(0,2)+"00";let et=_e.split("").map(rt=>ibanLookup[rt]).join("");for(;et.length>=safeDigits;){let rt=et.substring(0,safeDigits);et=parseInt(rt,10)%97+et.substring(rt.length)}let tt=String(98-parseInt(et,10)%97);for(;tt.length<2;)tt="0"+tt;return tt}const Base36=function(){const _e={};for(let et=0;et<36;et++){const tt="0123456789abcdefghijklmnopqrstuvwxyz"[et];_e[tt]=BigInt(et)}return _e}();function fromBase36(_e){_e=_e.toLowerCase();let et=BN_0$6;for(let tt=0;tt<_e.length;tt++)et=et*BN_36+Base36[_e[tt]];return et}function getAddress(_e){if(assertArgument(typeof _e=="string","invalid address","address",_e),_e.match(/^(0x)?[0-9a-fA-F]{40}$/)){_e.startsWith("0x")||(_e="0x"+_e);const et=getChecksumAddress(_e);return assertArgument(!_e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||et===_e,"bad address checksum","address",_e),et}if(_e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(_e.substring(2,4)===ibanChecksum(_e),"bad icap checksum","address",_e);let et=fromBase36(_e.substring(4)).toString(16);for(;et.length<40;)et="0"+et;return getChecksumAddress("0x"+et)}assertArgument(!1,"invalid address","address",_e)}function getCreateAddress(_e){const et=getAddress(_e.from);let rt=getBigInt(_e.nonce,"tx.nonce").toString(16);return rt==="0"?rt="0x":rt.length%2?rt="0x0"+rt:rt="0x"+rt,getAddress(dataSlice(keccak256(encodeRlp([et,rt])),12))}function isAddressable(_e){return _e&&typeof _e.getAddress=="function"}async function checkAddress(_e,et){const tt=await et;return(tt==null||tt==="0x0000000000000000000000000000000000000000")&&(assert$1(typeof _e!="string","unconfigured name","UNCONFIGURED_NAME",{value:_e}),assertArgument(!1,"invalid AddressLike value; did not resolve to a value address","target",_e)),getAddress(tt)}function resolveAddress(_e,et){if(typeof _e=="string")return _e.match(/^0x[0-9a-f]{40}$/i)?getAddress(_e):(assert$1(et!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress(_e,et.resolveName(_e)));if(isAddressable(_e))return checkAddress(_e,_e.getAddress());if(_e&&typeof _e.then=="function")return checkAddress(_e,_e);assertArgument(!1,"unsupported addressable value","target",_e)}const _gaurd={};function n$2(_e,et){let tt=!1;return et<0&&(tt=!0,et*=-1),new Typed(_gaurd,`${tt?"":"u"}int${et}`,_e,{signed:tt,width:et})}function b(_e,et){return new Typed(_gaurd,`bytes${et||""}`,_e,{size:et})}const _typedSymbol=Symbol.for("_ethers_typed");var Vn;const Xr=class Xr{constructor(et,tt,rt,nt){Nt(this,"type");Nt(this,"value");Ot(this,Vn);Nt(this,"_typedSymbol");nt==null&&(nt=null),assertPrivate(_gaurd,et,"Typed"),defineProperties(this,{_typedSymbol,type:tt,value:rt}),Pt(this,Vn,nt),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(et=>et.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return Et(this,Vn)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return Et(this,Vn)===!0?-1:Et(this,Vn)===!1?this.value.length:null}static from(et,tt){return new Xr(_gaurd,et,tt)}static uint8(et){return n$2(et,8)}static uint16(et){return n$2(et,16)}static uint24(et){return n$2(et,24)}static uint32(et){return n$2(et,32)}static uint40(et){return n$2(et,40)}static uint48(et){return n$2(et,48)}static uint56(et){return n$2(et,56)}static uint64(et){return n$2(et,64)}static uint72(et){return n$2(et,72)}static uint80(et){return n$2(et,80)}static uint88(et){return n$2(et,88)}static uint96(et){return n$2(et,96)}static uint104(et){return n$2(et,104)}static uint112(et){return n$2(et,112)}static uint120(et){return n$2(et,120)}static uint128(et){return n$2(et,128)}static uint136(et){return n$2(et,136)}static uint144(et){return n$2(et,144)}static uint152(et){return n$2(et,152)}static uint160(et){return n$2(et,160)}static uint168(et){return n$2(et,168)}static uint176(et){return n$2(et,176)}static uint184(et){return n$2(et,184)}static uint192(et){return n$2(et,192)}static uint200(et){return n$2(et,200)}static uint208(et){return n$2(et,208)}static uint216(et){return n$2(et,216)}static uint224(et){return n$2(et,224)}static uint232(et){return n$2(et,232)}static uint240(et){return n$2(et,240)}static uint248(et){return n$2(et,248)}static uint256(et){return n$2(et,256)}static uint(et){return n$2(et,256)}static int8(et){return n$2(et,-8)}static int16(et){return n$2(et,-16)}static int24(et){return n$2(et,-24)}static int32(et){return n$2(et,-32)}static int40(et){return n$2(et,-40)}static int48(et){return n$2(et,-48)}static int56(et){return n$2(et,-56)}static int64(et){return n$2(et,-64)}static int72(et){return n$2(et,-72)}static int80(et){return n$2(et,-80)}static int88(et){return n$2(et,-88)}static int96(et){return n$2(et,-96)}static int104(et){return n$2(et,-104)}static int112(et){return n$2(et,-112)}static int120(et){return n$2(et,-120)}static int128(et){return n$2(et,-128)}static int136(et){return n$2(et,-136)}static int144(et){return n$2(et,-144)}static int152(et){return n$2(et,-152)}static int160(et){return n$2(et,-160)}static int168(et){return n$2(et,-168)}static int176(et){return n$2(et,-176)}static int184(et){return n$2(et,-184)}static int192(et){return n$2(et,-192)}static int200(et){return n$2(et,-200)}static int208(et){return n$2(et,-208)}static int216(et){return n$2(et,-216)}static int224(et){return n$2(et,-224)}static int232(et){return n$2(et,-232)}static int240(et){return n$2(et,-240)}static int248(et){return n$2(et,-248)}static int256(et){return n$2(et,-256)}static int(et){return n$2(et,-256)}static bytes1(et){return b(et,1)}static bytes2(et){return b(et,2)}static bytes3(et){return b(et,3)}static bytes4(et){return b(et,4)}static bytes5(et){return b(et,5)}static bytes6(et){return b(et,6)}static bytes7(et){return b(et,7)}static bytes8(et){return b(et,8)}static bytes9(et){return b(et,9)}static bytes10(et){return b(et,10)}static bytes11(et){return b(et,11)}static bytes12(et){return b(et,12)}static bytes13(et){return b(et,13)}static bytes14(et){return b(et,14)}static bytes15(et){return b(et,15)}static bytes16(et){return b(et,16)}static bytes17(et){return b(et,17)}static bytes18(et){return b(et,18)}static bytes19(et){return b(et,19)}static bytes20(et){return b(et,20)}static bytes21(et){return b(et,21)}static bytes22(et){return b(et,22)}static bytes23(et){return b(et,23)}static bytes24(et){return b(et,24)}static bytes25(et){return b(et,25)}static bytes26(et){return b(et,26)}static bytes27(et){return b(et,27)}static bytes28(et){return b(et,28)}static bytes29(et){return b(et,29)}static bytes30(et){return b(et,30)}static bytes31(et){return b(et,31)}static bytes32(et){return b(et,32)}static address(et){return new Xr(_gaurd,"address",et)}static bool(et){return new Xr(_gaurd,"bool",!!et)}static bytes(et){return new Xr(_gaurd,"bytes",et)}static string(et){return new Xr(_gaurd,"string",et)}static array(et,tt){throw new Error("not implemented yet")}static tuple(et,tt){throw new Error("not implemented yet")}static overrides(et){return new Xr(_gaurd,"overrides",Object.assign({},et))}static isTyped(et){return et&&typeof et=="object"&&"_typedSymbol"in et&&et._typedSymbol===_typedSymbol}static dereference(et,tt){if(Xr.isTyped(et)){if(et.type!==tt)throw new Error(`invalid type: expecetd ${tt}, got ${et.type}`);return et.value}return et}};Vn=new WeakMap;let Typed=Xr;class AddressCoder extends Coder{constructor(et){super("address","address",et,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(et,tt){let rt=Typed.dereference(tt,"string");try{rt=getAddress(rt)}catch(nt){return this._throwError(nt.message,tt)}return et.writeValue(rt)}decode(et){return getAddress(toBeHex(et.readValue(),20))}}class AnonymousCoder extends Coder{constructor(tt){super(tt.name,tt.type,"_",tt.dynamic);Nt(this,"coder");this.coder=tt}defaultValue(){return this.coder.defaultValue()}encode(tt,rt){return this.coder.encode(tt,rt)}decode(tt){return this.coder.decode(tt)}}function pack(_e,et,tt){let rt=[];if(Array.isArray(tt))rt=tt;else if(tt&&typeof tt=="object"){let ct={};rt=et.map(lt=>{const dt=lt.localName;return assert$1(dt,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:lt},value:tt}),assert$1(!ct[dt],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:lt},value:tt}),ct[dt]=!0,tt[dt]})}else assertArgument(!1,"invalid tuple value","tuple",tt);assertArgument(et.length===rt.length,"types/value length mismatch","tuple",tt);let nt=new Writer$3,ot=new Writer$3,st=[];et.forEach((ct,lt)=>{let dt=rt[lt];if(ct.dynamic){let ft=ot.length;ct.encode(ot,dt);let ht=nt.writeUpdatableValue();st.push(pt=>{ht(pt+ft)})}else ct.encode(nt,dt)}),st.forEach(ct=>{ct(nt.length)});let at=_e.appendWriter(nt);return at+=_e.appendWriter(ot),at}function unpack(_e,et){let tt=[],rt=[],nt=_e.subReader(0);return et.forEach(ot=>{let st=null;if(ot.dynamic){let at=_e.readIndex(),ct=nt.subReader(at);try{st=ot.decode(ct)}catch(lt){if(isError(lt,"BUFFER_OVERRUN"))throw lt;st=lt,st.baseType=ot.name,st.name=ot.localName,st.type=ot.type}}else try{st=ot.decode(_e)}catch(at){if(isError(at,"BUFFER_OVERRUN"))throw at;st=at,st.baseType=ot.name,st.name=ot.localName,st.type=ot.type}if(st==null)throw new Error("investigate");tt.push(st),rt.push(ot.localName||null)}),Result.fromItems(tt,rt)}class ArrayCoder extends Coder{constructor(tt,rt,nt){const ot=tt.type+"["+(rt>=0?rt:"")+"]",st=rt===-1||tt.dynamic;super("array",ot,nt,st);Nt(this,"coder");Nt(this,"length");defineProperties(this,{coder:tt,length:rt})}defaultValue(){const tt=this.coder.defaultValue(),rt=[];for(let nt=0;nt<this.length;nt++)rt.push(tt);return rt}encode(tt,rt){const nt=Typed.dereference(rt,"array");Array.isArray(nt)||this._throwError("expected array value",nt);let ot=this.length;ot===-1&&(ot=nt.length,tt.writeValue(nt.length)),assertArgumentCount(nt.length,ot,"coder array"+(this.localName?" "+this.localName:""));let st=[];for(let at=0;at<nt.length;at++)st.push(this.coder);return pack(tt,st,nt)}decode(tt){let rt=this.length;rt===-1&&(rt=tt.readIndex(),assert$1(rt*WordSize<=tt.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:tt.bytes,offset:rt*WordSize,length:tt.dataLength}));let nt=[];for(let ot=0;ot<rt;ot++)nt.push(new AnonymousCoder(this.coder));return unpack(tt,nt)}}class BooleanCoder extends Coder{constructor(et){super("bool","bool",et,!1)}defaultValue(){return!1}encode(et,tt){const rt=Typed.dereference(tt,"bool");return et.writeValue(rt?1:0)}decode(et){return!!et.readValue()}}class DynamicBytesCoder extends Coder{constructor(et,tt){super(et,et,tt,!0)}defaultValue(){return"0x"}encode(et,tt){tt=getBytesCopy(tt);let rt=et.writeValue(tt.length);return rt+=et.writeBytes(tt),rt}decode(et){return et.readBytes(et.readIndex(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(et){super("bytes",et)}decode(et){return hexlify(super.decode(et))}}class FixedBytesCoder extends Coder{constructor(tt,rt){let nt="bytes"+String(tt);super(nt,nt,rt,!1);Nt(this,"size");defineProperties(this,{size:tt},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(tt,rt){let nt=getBytesCopy(Typed.dereference(rt,this.type));return nt.length!==this.size&&this._throwError("incorrect data length",rt),tt.writeBytes(nt)}decode(tt){return hexlify(tt.readBytes(this.size))}}const Empty=new Uint8Array([]);class NullCoder extends Coder{constructor(et){super("null","",et,!1)}defaultValue(){return null}encode(et,tt){return tt!=null&&this._throwError("not null",tt),et.writeBytes(Empty)}decode(et){return et.readBytes(0),null}}const BN_0$5=BigInt(0),BN_1$1=BigInt(1),BN_MAX_UINT256$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(tt,rt,nt){const ot=(rt?"int":"uint")+tt*8;super(ot,ot,nt,!1);Nt(this,"size");Nt(this,"signed");defineProperties(this,{size:tt,signed:rt},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(tt,rt){let nt=getBigInt(Typed.dereference(rt,this.type)),ot=mask(BN_MAX_UINT256$1,WordSize*8);if(this.signed){let st=mask(ot,this.size*8-1);(nt>st||nt<-(st+BN_1$1))&&this._throwError("value out-of-bounds",rt),nt=toTwos(nt,8*WordSize)}else(nt<BN_0$5||nt>mask(ot,this.size*8))&&this._throwError("value out-of-bounds",rt);return tt.writeValue(nt)}decode(tt){let rt=mask(tt.readValue(),this.size*8);return this.signed&&(rt=fromTwos(rt,this.size*8)),rt}}class StringCoder extends DynamicBytesCoder{constructor(et){super("string",et)}defaultValue(){return""}encode(et,tt){return super.encode(et,toUtf8Bytes(Typed.dereference(tt,"string")))}decode(et){return toUtf8String(super.decode(et))}}class TupleCoder extends Coder{constructor(tt,rt){let nt=!1;const ot=[];tt.forEach(at=>{at.dynamic&&(nt=!0),ot.push(at.type)});const st="tuple("+ot.join(",")+")";super("tuple",st,rt,nt);Nt(this,"coders");defineProperties(this,{coders:Object.freeze(tt.slice())})}defaultValue(){const tt=[];this.coders.forEach(nt=>{tt.push(nt.defaultValue())});const rt=this.coders.reduce((nt,ot)=>{const st=ot.localName;return st&&(nt[st]||(nt[st]=0),nt[st]++),nt},{});return this.coders.forEach((nt,ot)=>{let st=nt.localName;!st||rt[st]!==1||(st==="length"&&(st="_length"),tt[st]==null&&(tt[st]=tt[ot]))}),Object.freeze(tt)}encode(tt,rt){const nt=Typed.dereference(rt,"tuple");return pack(tt,this.coders,nt)}decode(tt){return unpack(tt,this.coders)}}function accessSetify(_e,et){return{address:getAddress(_e),storageKeys:et.map((tt,rt)=>(assertArgument(isHexString(tt,32),"invalid slot",`storageKeys[${rt}]`,tt),tt.toLowerCase()))}}function accessListify(_e){if(Array.isArray(_e))return _e.map((tt,rt)=>Array.isArray(tt)?(assertArgument(tt.length===2,"invalid slot set",`value[${rt}]`,tt),accessSetify(tt[0],tt[1])):(assertArgument(tt!=null&&typeof tt=="object","invalid address-slot set","value",_e),accessSetify(tt.address,tt.storageKeys)));assertArgument(_e!=null&&typeof _e=="object","invalid access list","value",_e);const et=Object.keys(_e).map(tt=>{const rt=_e[tt].reduce((nt,ot)=>(nt[ot]=!0,nt),{});return accessSetify(tt,Object.keys(rt).sort())});return et.sort((tt,rt)=>tt.address.localeCompare(rt.address)),et}function authorizationify(_e){return{address:getAddress(_e.address),nonce:getBigInt(_e.nonce!=null?_e.nonce:0),chainId:getBigInt(_e.chainId!=null?_e.chainId:0),signature:Signature$1.from(_e.signature)}}function computeAddress(_e){let et;return typeof _e=="string"?et=SigningKey.computePublicKey(_e,!1):et=_e.publicKey,getAddress(keccak256("0x"+et.substring(4)).substring(26))}function recoverAddress(_e,et){return computeAddress(SigningKey.recoverPublicKey(_e,et))}const BN_0$4=BigInt(0),BN_2$1=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),BN_MAX_UINT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BLOB_SIZE=4096*32;function getKzgLibrary(_e){return{blobToKzgCommitment:rt=>{if("computeBlobProof"in _e){if("blobToKzgCommitment"in _e&&typeof _e.blobToKzgCommitment=="function")return getBytes(_e.blobToKzgCommitment(hexlify(rt)))}else if("blobToKzgCommitment"in _e&&typeof _e.blobToKzgCommitment=="function")return getBytes(_e.blobToKzgCommitment(rt));if("blobToKZGCommitment"in _e&&typeof _e.blobToKZGCommitment=="function")return getBytes(_e.blobToKZGCommitment(hexlify(rt)));assertArgument(!1,"unsupported KZG library","kzg",_e)},computeBlobKzgProof:(rt,nt)=>{if("computeBlobProof"in _e&&typeof _e.computeBlobProof=="function")return getBytes(_e.computeBlobProof(hexlify(rt),hexlify(nt)));if("computeBlobKzgProof"in _e&&typeof _e.computeBlobKzgProof=="function")return _e.computeBlobKzgProof(rt,nt);if("computeBlobKZGProof"in _e&&typeof _e.computeBlobKZGProof=="function")return getBytes(_e.computeBlobKZGProof(hexlify(rt),hexlify(nt)));assertArgument(!1,"unsupported KZG library","kzg",_e)}}}function getVersionedHash(_e,et){let tt=_e.toString(16);for(;tt.length<2;)tt="0"+tt;return tt+=sha256$1(et).substring(4),"0x"+tt}function handleAddress(_e){return _e==="0x"?null:getAddress(_e)}function handleAccessList(_e,et){try{return accessListify(_e)}catch(tt){assertArgument(!1,tt.message,et,_e)}}function handleAuthorizationList(_e,et){try{if(!Array.isArray(_e))throw new Error("authorizationList: invalid array");const tt=[];for(let rt=0;rt<_e.length;rt++){const nt=_e[rt];if(!Array.isArray(nt))throw new Error(`authorization[${rt}]: invalid array`);if(nt.length!==6)throw new Error(`authorization[${rt}]: wrong length`);if(!nt[1])throw new Error(`authorization[${rt}]: null address`);tt.push({address:handleAddress(nt[1]),nonce:handleUint(nt[2],"nonce"),chainId:handleUint(nt[0],"chainId"),signature:Signature$1.from({yParity:handleNumber(nt[3],"yParity"),r:zeroPadValue(nt[4],32),s:zeroPadValue(nt[5],32)})})}return tt}catch(tt){assertArgument(!1,tt.message,et,_e)}}function handleNumber(_e,et){return _e==="0x"?0:getNumber(_e,et)}function handleUint(_e,et){if(_e==="0x")return BN_0$4;const tt=getBigInt(_e,et);return assertArgument(tt<=BN_MAX_UINT,"value exceeds uint size",et,tt),tt}function formatNumber(_e,et){const tt=getBigInt(_e,"value"),rt=toBeArray(tt);return assertArgument(rt.length<=32,"value too large",`tx.${et}`,tt),rt}function formatAccessList(_e){return accessListify(_e).map(et=>[et.address,et.storageKeys])}function formatAuthorizationList(_e){return _e.map(et=>[formatNumber(et.chainId,"chainId"),et.address,formatNumber(et.nonce,"nonce"),formatNumber(et.signature.yParity,"yParity"),toBeArray(et.signature.r),toBeArray(et.signature.s)])}function formatHashes(_e,et){assertArgument(Array.isArray(_e),`invalid ${et}`,"value",_e);for(let tt=0;tt<_e.length;tt++)assertArgument(isHexString(_e[tt],32),"invalid ${ param } hash",`value[${tt}]`,_e[tt]);return _e}function _parseLegacy(_e){const et=decodeRlp(_e);assertArgument(Array.isArray(et)&&(et.length===9||et.length===6),"invalid field count for legacy transaction","data",_e);const tt={type:0,nonce:handleNumber(et[0],"nonce"),gasPrice:handleUint(et[1],"gasPrice"),gasLimit:handleUint(et[2],"gasLimit"),to:handleAddress(et[3]),value:handleUint(et[4],"value"),data:hexlify(et[5]),chainId:BN_0$4};if(et.length===6)return tt;const rt=handleUint(et[6],"v"),nt=handleUint(et[7],"r"),ot=handleUint(et[8],"s");if(nt===BN_0$4&&ot===BN_0$4)tt.chainId=rt;else{let st=(rt-BN_35)/BN_2$1;st<BN_0$4&&(st=BN_0$4),tt.chainId=st,assertArgument(st!==BN_0$4||rt===BN_27||rt===BN_28,"non-canonical legacy v","v",et[6]),tt.signature=Signature$1.from({r:zeroPadValue(et[7],32),s:zeroPadValue(et[8],32),v:rt})}return tt}function _serializeLegacy(_e,et){const tt=[formatNumber(_e.nonce,"nonce"),formatNumber(_e.gasPrice||0,"gasPrice"),formatNumber(_e.gasLimit,"gasLimit"),_e.to||"0x",formatNumber(_e.value,"value"),_e.data];let rt=BN_0$4;if(_e.chainId!=BN_0$4)rt=getBigInt(_e.chainId,"tx.chainId"),assertArgument(!et||et.networkV==null||et.legacyChainId===rt,"tx.chainId/sig.v mismatch","sig",et);else if(_e.signature){const ot=_e.signature.legacyChainId;ot!=null&&(rt=ot)}if(!et)return rt!==BN_0$4&&(tt.push(toBeArray(rt)),tt.push("0x"),tt.push("0x")),encodeRlp(tt);let nt=BigInt(27+et.yParity);return rt!==BN_0$4?nt=Signature$1.getChainIdV(rt,et.v):BigInt(et.v)!==nt&&assertArgument(!1,"tx.chainId/sig.v mismatch","sig",et),tt.push(toBeArray(nt)),tt.push(toBeArray(et.r)),tt.push(toBeArray(et.s)),encodeRlp(tt)}function _parseEipSignature(_e,et){let tt;try{if(tt=handleNumber(et[0],"yParity"),tt!==0&&tt!==1)throw new Error("bad yParity")}catch{assertArgument(!1,"invalid yParity","yParity",et[0])}const rt=zeroPadValue(et[1],32),nt=zeroPadValue(et[2],32),ot=Signature$1.from({r:rt,s:nt,yParity:tt});_e.signature=ot}function _parseEip1559(_e){const et=decodeRlp(getBytes(_e).slice(1));assertArgument(Array.isArray(et)&&(et.length===9||et.length===12),"invalid field count for transaction type: 2","data",hexlify(_e));const tt={type:2,chainId:handleUint(et[0],"chainId"),nonce:handleNumber(et[1],"nonce"),maxPriorityFeePerGas:handleUint(et[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(et[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(et[4],"gasLimit"),to:handleAddress(et[5]),value:handleUint(et[6],"value"),data:hexlify(et[7]),accessList:handleAccessList(et[8],"accessList")};return et.length===9||_parseEipSignature(tt,et.slice(9)),tt}function _serializeEip1559(_e,et){const tt=[formatNumber(_e.chainId,"chainId"),formatNumber(_e.nonce,"nonce"),formatNumber(_e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(_e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(_e.gasLimit,"gasLimit"),_e.to||"0x",formatNumber(_e.value,"value"),_e.data,formatAccessList(_e.accessList||[])];return et&&(tt.push(formatNumber(et.yParity,"yParity")),tt.push(toBeArray(et.r)),tt.push(toBeArray(et.s))),concat$2(["0x02",encodeRlp(tt)])}function _parseEip2930(_e){const et=decodeRlp(getBytes(_e).slice(1));assertArgument(Array.isArray(et)&&(et.length===8||et.length===11),"invalid field count for transaction type: 1","data",hexlify(_e));const tt={type:1,chainId:handleUint(et[0],"chainId"),nonce:handleNumber(et[1],"nonce"),gasPrice:handleUint(et[2],"gasPrice"),gasLimit:handleUint(et[3],"gasLimit"),to:handleAddress(et[4]),value:handleUint(et[5],"value"),data:hexlify(et[6]),accessList:handleAccessList(et[7],"accessList")};return et.length===8||_parseEipSignature(tt,et.slice(8)),tt}function _serializeEip2930(_e,et){const tt=[formatNumber(_e.chainId,"chainId"),formatNumber(_e.nonce,"nonce"),formatNumber(_e.gasPrice||0,"gasPrice"),formatNumber(_e.gasLimit,"gasLimit"),_e.to||"0x",formatNumber(_e.value,"value"),_e.data,formatAccessList(_e.accessList||[])];return et&&(tt.push(formatNumber(et.yParity,"recoveryParam")),tt.push(toBeArray(et.r)),tt.push(toBeArray(et.s))),concat$2(["0x01",encodeRlp(tt)])}function _parseEip4844(_e){let et=decodeRlp(getBytes(_e).slice(1)),tt="3",rt=null;if(et.length===4&&Array.isArray(et[0])){tt="3 (network format)";const ot=et[1],st=et[2],at=et[3];assertArgument(Array.isArray(ot),"invalid network format: blobs not an array","fields[1]",ot),assertArgument(Array.isArray(st),"invalid network format: commitments not an array","fields[2]",st),assertArgument(Array.isArray(at),"invalid network format: proofs not an array","fields[3]",at),assertArgument(ot.length===st.length,"invalid network format: blobs/commitments length mismatch","fields",et),assertArgument(ot.length===at.length,"invalid network format: blobs/proofs length mismatch","fields",et),rt=[];for(let ct=0;ct<et[1].length;ct++)rt.push({data:ot[ct],commitment:st[ct],proof:at[ct]});et=et[0]}assertArgument(Array.isArray(et)&&(et.length===11||et.length===14),`invalid field count for transaction type: ${tt}`,"data",hexlify(_e));const nt={type:3,chainId:handleUint(et[0],"chainId"),nonce:handleNumber(et[1],"nonce"),maxPriorityFeePerGas:handleUint(et[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(et[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(et[4],"gasLimit"),to:handleAddress(et[5]),value:handleUint(et[6],"value"),data:hexlify(et[7]),accessList:handleAccessList(et[8],"accessList"),maxFeePerBlobGas:handleUint(et[9],"maxFeePerBlobGas"),blobVersionedHashes:et[10]};rt&&(nt.blobs=rt),assertArgument(nt.to!=null,`invalid address for transaction type: ${tt}`,"data",_e),assertArgument(Array.isArray(nt.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",_e);for(let ot=0;ot<nt.blobVersionedHashes.length;ot++)assertArgument(isHexString(nt.blobVersionedHashes[ot],32),`invalid blobVersionedHash at index ${ot}: must be length 32`,"data",_e);return et.length===11||_parseEipSignature(nt,et.slice(11)),nt}function _serializeEip4844(_e,et,tt){const rt=[formatNumber(_e.chainId,"chainId"),formatNumber(_e.nonce,"nonce"),formatNumber(_e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(_e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(_e.gasLimit,"gasLimit"),_e.to||ZeroAddress,formatNumber(_e.value,"value"),_e.data,formatAccessList(_e.accessList||[]),formatNumber(_e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(_e.blobVersionedHashes||[],"blobVersionedHashes")];return et&&(rt.push(formatNumber(et.yParity,"yParity")),rt.push(toBeArray(et.r)),rt.push(toBeArray(et.s)),tt)?concat$2(["0x03",encodeRlp([rt,tt.map(nt=>nt.data),tt.map(nt=>nt.commitment),tt.map(nt=>nt.proof)])]):concat$2(["0x03",encodeRlp(rt)])}function _parseEip7702(_e){const et=decodeRlp(getBytes(_e).slice(1));assertArgument(Array.isArray(et)&&(et.length===10||et.length===13),"invalid field count for transaction type: 4","data",hexlify(_e));const tt={type:4,chainId:handleUint(et[0],"chainId"),nonce:handleNumber(et[1],"nonce"),maxPriorityFeePerGas:handleUint(et[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(et[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(et[4],"gasLimit"),to:handleAddress(et[5]),value:handleUint(et[6],"value"),data:hexlify(et[7]),accessList:handleAccessList(et[8],"accessList"),authorizationList:handleAuthorizationList(et[9],"authorizationList")};return et.length===10||_parseEipSignature(tt,et.slice(10)),tt}function _serializeEip7702(_e,et){const tt=[formatNumber(_e.chainId,"chainId"),formatNumber(_e.nonce,"nonce"),formatNumber(_e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(_e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(_e.gasLimit,"gasLimit"),_e.to||"0x",formatNumber(_e.value,"value"),_e.data,formatAccessList(_e.accessList||[]),formatAuthorizationList(_e.authorizationList||[])];return et&&(tt.push(formatNumber(et.yParity,"yParity")),tt.push(toBeArray(et.r)),tt.push(toBeArray(et.s))),concat$2(["0x04",encodeRlp(tt)])}var Dr,xo,bo,wo,Eo,Ao,So,$o,ko,Po,To,Co,Gn,mn,zr,gn,No,_o,gs;const Mr=class Mr{constructor(){Ot(this,_o);Ot(this,Dr);Ot(this,xo);Ot(this,bo);Ot(this,wo);Ot(this,Eo);Ot(this,Ao);Ot(this,So);Ot(this,$o);Ot(this,ko);Ot(this,Po);Ot(this,To);Ot(this,Co);Ot(this,Gn);Ot(this,mn);Ot(this,zr);Ot(this,gn);Ot(this,No);Pt(this,Dr,null),Pt(this,xo,null),Pt(this,wo,0),Pt(this,Eo,BN_0$4),Pt(this,Ao,null),Pt(this,So,null),Pt(this,$o,null),Pt(this,bo,"0x"),Pt(this,ko,BN_0$4),Pt(this,Po,BN_0$4),Pt(this,To,null),Pt(this,Co,null),Pt(this,Gn,null),Pt(this,mn,null),Pt(this,zr,null),Pt(this,gn,null),Pt(this,No,null)}get type(){return Et(this,Dr)}set type(et){switch(et){case null:Pt(this,Dr,null);break;case 0:case"legacy":Pt(this,Dr,0);break;case 1:case"berlin":case"eip-2930":Pt(this,Dr,1);break;case 2:case"london":case"eip-1559":Pt(this,Dr,2);break;case 3:case"cancun":case"eip-4844":Pt(this,Dr,3);break;case 4:case"pectra":case"eip-7702":Pt(this,Dr,4);break;default:assertArgument(!1,"unsupported transaction type","type",et)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const et=Et(this,xo);return et==null&&this.type===3?ZeroAddress:et}set to(et){Pt(this,xo,et==null?null:getAddress(et))}get nonce(){return Et(this,wo)}set nonce(et){Pt(this,wo,getNumber(et,"value"))}get gasLimit(){return Et(this,Eo)}set gasLimit(et){Pt(this,Eo,getBigInt(et))}get gasPrice(){const et=Et(this,Ao);return et==null&&(this.type===0||this.type===1)?BN_0$4:et}set gasPrice(et){Pt(this,Ao,et==null?null:getBigInt(et,"gasPrice"))}get maxPriorityFeePerGas(){const et=Et(this,So);return et??(this.type===2||this.type===3?BN_0$4:null)}set maxPriorityFeePerGas(et){Pt(this,So,et==null?null:getBigInt(et,"maxPriorityFeePerGas"))}get maxFeePerGas(){const et=Et(this,$o);return et??(this.type===2||this.type===3?BN_0$4:null)}set maxFeePerGas(et){Pt(this,$o,et==null?null:getBigInt(et,"maxFeePerGas"))}get data(){return Et(this,bo)}set data(et){Pt(this,bo,hexlify(et))}get value(){return Et(this,ko)}set value(et){Pt(this,ko,getBigInt(et,"value"))}get chainId(){return Et(this,Po)}set chainId(et){Pt(this,Po,getBigInt(et))}get signature(){return Et(this,To)||null}set signature(et){Pt(this,To,et==null?null:Signature$1.from(et))}get accessList(){const et=Et(this,Co)||null;return et??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(et){Pt(this,Co,et==null?null:accessListify(et))}get authorizationList(){const et=Et(this,No)||null;return et==null&&this.type===4?[]:et}set authorizationList(et){Pt(this,No,et==null?null:et.map(tt=>authorizationify(tt)))}get maxFeePerBlobGas(){const et=Et(this,Gn);return et==null&&this.type===3?BN_0$4:et}set maxFeePerBlobGas(et){Pt(this,Gn,et==null?null:getBigInt(et,"maxFeePerBlobGas"))}get blobVersionedHashes(){let et=Et(this,mn);return et==null&&this.type===3?[]:et}set blobVersionedHashes(et){if(et!=null){assertArgument(Array.isArray(et),"blobVersionedHashes must be an Array","value",et),et=et.slice();for(let tt=0;tt<et.length;tt++)assertArgument(isHexString(et[tt],32),"invalid blobVersionedHash",`value[${tt}]`,et[tt])}Pt(this,mn,et)}get blobs(){return Et(this,gn)==null?null:Et(this,gn).map(et=>Object.assign({},et))}set blobs(et){if(et==null){Pt(this,gn,null);return}const tt=[],rt=[];for(let nt=0;nt<et.length;nt++){const ot=et[nt];if(isBytesLike(ot)){assert$1(Et(this,zr),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let st=getBytes(ot);if(assertArgument(st.length<=BLOB_SIZE,"blob is too large",`blobs[${nt}]`,ot),st.length!==BLOB_SIZE){const lt=new Uint8Array(BLOB_SIZE);lt.set(st),st=lt}const at=Et(this,zr).blobToKzgCommitment(st),ct=hexlify(Et(this,zr).computeBlobKzgProof(st,at));tt.push({data:hexlify(st),commitment:hexlify(at),proof:ct}),rt.push(getVersionedHash(1,at))}else{const st=hexlify(ot.commitment);tt.push({data:hexlify(ot.data),commitment:st,proof:hexlify(ot.proof)}),rt.push(getVersionedHash(1,st))}}Pt(this,gn,tt),Pt(this,mn,rt)}get kzg(){return Et(this,zr)}set kzg(et){et==null?Pt(this,zr,null):Pt(this,zr,getKzgLibrary(et))}get hash(){return this.signature==null?null:keccak256(Ut(this,_o,gs).call(this,!0,!1))}get unsignedHash(){return keccak256(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Ut(this,_o,gs).call(this,!0,!0)}get unsignedSerialized(){return Ut(this,_o,gs).call(this,!1,!1)}inferType(){const et=this.inferTypes();return et.indexOf(2)>=0?2:et.pop()}inferTypes(){const et=this.gasPrice!=null,tt=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,rt=this.accessList!=null,nt=Et(this,Gn)!=null||Et(this,mn);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert$1(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert$1(!tt||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert$1(this.type!==0||!rt,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const ot=[];return this.type!=null?ot.push(this.type):this.authorizationList&&this.authorizationList.length?ot.push(4):tt?ot.push(2):et?(ot.push(1),rt||ot.push(0)):rt?(ot.push(1),ot.push(2)):(nt&&this.to||(ot.push(0),ot.push(1),ot.push(2)),ot.push(3)),ot.sort(),ot}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Mr.from(this)}toJSON(){const et=tt=>tt==null?null:tt.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:et(this.gasLimit),gasPrice:et(this.gasPrice),maxPriorityFeePerGas:et(this.maxPriorityFeePerGas),maxFeePerGas:et(this.maxFeePerGas),value:et(this.value),chainId:et(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(et){if(et==null)return new Mr;if(typeof et=="string"){const rt=getBytes(et);if(rt[0]>=127)return Mr.from(_parseLegacy(rt));switch(rt[0]){case 1:return Mr.from(_parseEip2930(rt));case 2:return Mr.from(_parseEip1559(rt));case 3:return Mr.from(_parseEip4844(rt));case 4:return Mr.from(_parseEip7702(rt))}assert$1(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const tt=new Mr;return et.type!=null&&(tt.type=et.type),et.to!=null&&(tt.to=et.to),et.nonce!=null&&(tt.nonce=et.nonce),et.gasLimit!=null&&(tt.gasLimit=et.gasLimit),et.gasPrice!=null&&(tt.gasPrice=et.gasPrice),et.maxPriorityFeePerGas!=null&&(tt.maxPriorityFeePerGas=et.maxPriorityFeePerGas),et.maxFeePerGas!=null&&(tt.maxFeePerGas=et.maxFeePerGas),et.maxFeePerBlobGas!=null&&(tt.maxFeePerBlobGas=et.maxFeePerBlobGas),et.data!=null&&(tt.data=et.data),et.value!=null&&(tt.value=et.value),et.chainId!=null&&(tt.chainId=et.chainId),et.signature!=null&&(tt.signature=Signature$1.from(et.signature)),et.accessList!=null&&(tt.accessList=et.accessList),et.authorizationList!=null&&(tt.authorizationList=et.authorizationList),et.blobVersionedHashes!=null&&(tt.blobVersionedHashes=et.blobVersionedHashes),et.kzg!=null&&(tt.kzg=et.kzg),et.blobs!=null&&(tt.blobs=et.blobs),et.hash!=null&&(assertArgument(tt.isSigned(),"unsigned transaction cannot define '.hash'","tx",et),assertArgument(tt.hash===et.hash,"hash mismatch","tx",et)),et.from!=null&&(assertArgument(tt.isSigned(),"unsigned transaction cannot define '.from'","tx",et),assertArgument(tt.from.toLowerCase()===(et.from||"").toLowerCase(),"from mismatch","tx",et)),tt}};Dr=new WeakMap,xo=new WeakMap,bo=new WeakMap,wo=new WeakMap,Eo=new WeakMap,Ao=new WeakMap,So=new WeakMap,$o=new WeakMap,ko=new WeakMap,Po=new WeakMap,To=new WeakMap,Co=new WeakMap,Gn=new WeakMap,mn=new WeakMap,zr=new WeakMap,gn=new WeakMap,No=new WeakMap,_o=new WeakSet,gs=function(et,tt){assert$1(!et||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const rt=et?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy(this,rt);case 1:return _serializeEip2930(this,rt);case 2:return _serializeEip1559(this,rt);case 3:return _serializeEip4844(this,rt,tt?this.blobs:null);case 4:return _serializeEip7702(this,rt)}assert$1(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Transaction=Mr;function id(_e){return keccak256(toUtf8Bytes(_e))}var COMPRESSED$1="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const FENCED=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NSM_MAX=4;function decode_arithmetic(_e){let et=0;function tt(){return _e[et++]<<8|_e[et++]}let rt=tt(),nt=1,ot=[0,1];for(let At=1;At<rt;At++)ot.push(nt+=tt());let st=tt(),at=et;et+=st;let ct=0,lt=0;function dt(){return ct==0&&(lt=lt<<8|_e[et++],ct=8),lt>>--ct&1}const ft=31,ht=2**ft,pt=ht>>>1,gt=pt>>1,mt=ht-1;let vt=0;for(let At=0;At<ft;At++)vt=vt<<1|dt();let yt=[],bt=0,xt=ht;for(;;){let At=Math.floor(((vt-bt+1)*nt-1)/xt),St=0,$t=rt;for(;$t-St>1;){let _t=St+$t>>>1;At<ot[_t]?$t=_t:St=_t}if(St==0)break;yt.push(St);let kt=bt+Math.floor(xt*ot[St]/nt),Ct=bt+Math.floor(xt*ot[St+1]/nt)-1;for(;!((kt^Ct)&pt);)vt=vt<<1&mt|dt(),kt=kt<<1&mt,Ct=Ct<<1&mt|1;for(;kt&~Ct&gt;)vt=vt&pt|vt<<1&mt>>>1|dt(),kt=kt<<1^pt,Ct=(Ct^pt)<<1|pt|1;bt=kt,xt=1+Ct-kt}let wt=rt-4;return yt.map(At=>{switch(At-wt){case 3:return wt+65792+(_e[at++]<<16|_e[at++]<<8|_e[at++]);case 2:return wt+256+(_e[at++]<<8|_e[at++]);case 1:return wt+_e[at++];default:return At-1}})}function read_payload(_e){let et=0;return()=>_e[et++]}function read_compressed_payload(_e){return read_payload(decode_arithmetic(unsafe_atob(_e)))}function unsafe_atob(_e){let et=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((nt,ot)=>et[nt.charCodeAt(0)]=ot);let tt=_e.length,rt=new Uint8Array(6*tt>>3);for(let nt=0,ot=0,st=0,at=0;nt<tt;nt++)at=at<<6|et[_e.charCodeAt(nt)],st+=6,st>=8&&(rt[ot++]=at>>(st-=8));return rt}function signed(_e){return _e&1?~_e>>1:_e>>1}function read_deltas(_e,et){let tt=Array(_e);for(let rt=0,nt=0;rt<_e;rt++)tt[rt]=nt+=signed(et());return tt}function read_sorted(_e,et=0){let tt=[];for(;;){let rt=_e(),nt=_e();if(!nt)break;et+=rt;for(let ot=0;ot<nt;ot++)tt.push(et+ot);et+=nt+1}return tt}function read_sorted_arrays(_e){return read_array_while(()=>{let et=read_sorted(_e);if(et.length)return et})}function read_mapped(_e){let et=[];for(;;){let tt=_e();if(tt==0)break;et.push(read_linear_table(tt,_e))}for(;;){let tt=_e()-1;if(tt<0)break;et.push(read_replacement_table(tt,_e))}return et.flat()}function read_array_while(_e){let et=[];for(;;){let tt=_e(et.length);if(!tt)break;et.push(tt)}return et}function read_transposed(_e,et,tt){let rt=Array(_e).fill().map(()=>[]);for(let nt=0;nt<et;nt++)read_deltas(_e,tt).forEach((ot,st)=>rt[st].push(ot));return rt}function read_linear_table(_e,et){let tt=1+et(),rt=et(),nt=read_array_while(et);return read_transposed(nt.length,1+_e,et).flatMap((st,at)=>{let[ct,...lt]=st;return Array(nt[at]).fill().map((dt,ft)=>{let ht=ft*rt;return[ct+ft*tt,lt.map(pt=>pt+ht)]})})}function read_replacement_table(_e,et){let tt=1+et();return read_transposed(tt,1+_e,et).map(nt=>[nt[0],nt.slice(1)])}function read_trie(_e){let et=[],tt=read_sorted(_e);return nt(rt([]),[]),et;function rt(ot){let st=_e(),at=read_array_while(()=>{let ct=read_sorted(_e).map(lt=>tt[lt]);if(ct.length)return rt(ct)});return{S:st,B:at,Q:ot}}function nt({S:ot,B:st},at,ct){if(!(ot&4&&ct===at[at.length-1])){ot&2&&(ct=at[at.length-1]),ot&1&&et.push(at);for(let lt of st)for(let dt of lt.Q)nt(lt,[...at,dt],ct)}}}function hex_cp(_e){return _e.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(_e){return`{${hex_cp(_e)}}`}function explode_cp(_e){let et=[];for(let tt=0,rt=_e.length;tt<rt;){let nt=_e.codePointAt(tt);tt+=nt<65536?1:2,et.push(nt)}return et}function str_from_cps(_e){let tt=_e.length;if(tt<4096)return String.fromCodePoint(..._e);let rt=[];for(let nt=0;nt<tt;)rt.push(String.fromCodePoint(..._e.slice(nt,nt+=4096)));return rt.join("")}function compare_arrays(_e,et){let tt=_e.length,rt=tt-et.length;for(let nt=0;rt==0&&nt<tt;nt++)rt=_e[nt]-et[nt];return rt}var COMPRESSED="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S0=44032,L0=4352,V0=4449,T0=4519,L_COUNT=19,V_COUNT=21,T_COUNT=28,N_COUNT=V_COUNT*T_COUNT,S_COUNT=L_COUNT*N_COUNT,S1=S0+S_COUNT,L1=L0+L_COUNT,V1=V0+V_COUNT,T1=T0+T_COUNT;function unpack_cc(_e){return _e>>24&255}function unpack_cp(_e){return _e&16777215}let SHIFTED_RANK,EXCLUSIONS,DECOMP,RECOMP;function init$1(){let _e=read_compressed_payload(COMPRESSED);SHIFTED_RANK=new Map(read_sorted_arrays(_e).flatMap((et,tt)=>et.map(rt=>[rt,tt+1<<24]))),EXCLUSIONS=new Set(read_sorted(_e)),DECOMP=new Map,RECOMP=new Map;for(let[et,tt]of read_mapped(_e)){if(!EXCLUSIONS.has(et)&&tt.length==2){let[rt,nt]=tt,ot=RECOMP.get(rt);ot||(ot=new Map,RECOMP.set(rt,ot)),ot.set(nt,et)}DECOMP.set(et,tt.reverse())}}function is_hangul(_e){return _e>=S0&&_e<S1}function compose_pair(_e,et){if(_e>=L0&&_e<L1&&et>=V0&&et<V1)return S0+(_e-L0)*N_COUNT+(et-V0)*T_COUNT;if(is_hangul(_e)&&et>T0&&et<T1&&(_e-S0)%T_COUNT==0)return _e+(et-T0);{let tt=RECOMP.get(_e);return tt&&(tt=tt.get(et),tt)?tt:-1}}function decomposed(_e){SHIFTED_RANK||init$1();let et=[],tt=[],rt=!1;function nt(ot){let st=SHIFTED_RANK.get(ot);st&&(rt=!0,ot|=st),et.push(ot)}for(let ot of _e)for(;;){if(ot<128)et.push(ot);else if(is_hangul(ot)){let st=ot-S0,at=st/N_COUNT|0,ct=st%N_COUNT/T_COUNT|0,lt=st%T_COUNT;nt(L0+at),nt(V0+ct),lt>0&&nt(T0+lt)}else{let st=DECOMP.get(ot);st?tt.push(...st):nt(ot)}if(!tt.length)break;ot=tt.pop()}if(rt&&et.length>1){let ot=unpack_cc(et[0]);for(let st=1;st<et.length;st++){let at=unpack_cc(et[st]);if(at==0||ot<=at){ot=at;continue}let ct=st-1;for(;;){let lt=et[ct+1];if(et[ct+1]=et[ct],et[ct]=lt,!ct||(ot=unpack_cc(et[--ct]),ot<=at))break}ot=unpack_cc(et[st])}}return et}function composed_from_decomposed(_e){let et=[],tt=[],rt=-1,nt=0;for(let ot of _e){let st=unpack_cc(ot),at=unpack_cp(ot);if(rt==-1)st==0?rt=at:et.push(at);else if(nt>0&&nt>=st)st==0?(et.push(rt,...tt),tt.length=0,rt=at):tt.push(at),nt=st;else{let ct=compose_pair(rt,at);ct>=0?rt=ct:nt==0&&st==0?(et.push(rt),rt=at):(tt.push(at),nt=st)}}return rt>=0&&et.push(rt,...tt),et}function nfd(_e){return decomposed(_e).map(unpack_cp)}function nfc(_e){return composed_from_decomposed(decomposed(_e))}const HYPHEN=45,STOP_CH=".",FE0F=65039,UNIQUE_PH=1,Array_from=_e=>Array.from(_e);function group_has_cp(_e,et){return _e.P.has(et)||_e.Q.has(et)}class Emoji extends Array{get is_emoji(){return!0}}let MAPPED,IGNORED,CM,NSM,ESCAPE,GROUPS,WHOLE_VALID,WHOLE_MAP,VALID,EMOJI_LIST,EMOJI_ROOT;function init(){if(MAPPED)return;let _e=read_compressed_payload(COMPRESSED$1);const et=()=>read_sorted(_e),tt=()=>new Set(et()),rt=(dt,ft)=>ft.forEach(ht=>dt.add(ht));MAPPED=new Map(read_mapped(_e)),IGNORED=tt(),CM=et(),NSM=new Set(et().map(dt=>CM[dt])),CM=new Set(CM),ESCAPE=tt(),tt();let nt=read_sorted_arrays(_e),ot=_e();const st=()=>{let dt=new Set;return et().forEach(ft=>rt(dt,nt[ft])),rt(dt,et()),dt};GROUPS=read_array_while(dt=>{let ft=read_array_while(_e).map(ht=>ht+96);if(ft.length){let ht=dt>=ot;ft[0]-=32,ft=str_from_cps(ft),ht&&(ft=`Restricted[${ft}]`);let pt=st(),gt=st(),mt=!_e();return{N:ft,P:pt,Q:gt,M:mt,R:ht}}}),WHOLE_VALID=tt(),WHOLE_MAP=new Map;let at=et().concat(Array_from(WHOLE_VALID)).sort((dt,ft)=>dt-ft);at.forEach((dt,ft)=>{let ht=_e(),pt=at[ft]=ht?at[ft-ht]:{V:[],M:new Map};pt.V.push(dt),WHOLE_VALID.has(dt)||WHOLE_MAP.set(dt,pt)});for(let{V:dt,M:ft}of new Set(WHOLE_MAP.values())){let ht=[];for(let gt of dt){let mt=GROUPS.filter(yt=>group_has_cp(yt,gt)),vt=ht.find(({G:yt})=>mt.some(bt=>yt.has(bt)));vt||(vt={G:new Set,V:[]},ht.push(vt)),vt.V.push(gt),rt(vt.G,mt)}let pt=ht.flatMap(gt=>Array_from(gt.G));for(let{G:gt,V:mt}of ht){let vt=new Set(pt.filter(yt=>!gt.has(yt)));for(let yt of mt)ft.set(yt,vt)}}VALID=new Set;let ct=new Set;const lt=dt=>VALID.has(dt)?ct.add(dt):VALID.add(dt);for(let dt of GROUPS){for(let ft of dt.P)lt(ft);for(let ft of dt.Q)lt(ft)}for(let dt of VALID)!WHOLE_MAP.has(dt)&&!ct.has(dt)&&WHOLE_MAP.set(dt,UNIQUE_PH);rt(VALID,nfd(VALID)),EMOJI_LIST=read_trie(_e).map(dt=>Emoji.from(dt)).sort(compare_arrays),EMOJI_ROOT=new Map;for(let dt of EMOJI_LIST){let ft=[EMOJI_ROOT];for(let ht of dt){let pt=ft.map(gt=>{let mt=gt.get(ht);return mt||(mt=new Map,gt.set(ht,mt)),mt});ht===FE0F?ft.push(...pt):ft=pt}for(let ht of ft)ht.V=dt}}function quoted_cp(_e){return(should_escape(_e)?"":`${bidi_qq(safe_str_from_cps([_e]))} `)+quote_cp(_e)}function bidi_qq(_e){return`"${_e}"‎`}function check_label_extension(_e){if(_e.length>=4&&_e[2]==HYPHEN&&_e[3]==HYPHEN)throw new Error(`invalid label extension: "${str_from_cps(_e.slice(0,4))}"`)}function check_leading_underscore(_e){for(let tt=_e.lastIndexOf(95);tt>0;)if(_e[--tt]!==95)throw new Error("underscore allowed only at start")}function check_fenced(_e){let et=_e[0],tt=FENCED.get(et);if(tt)throw error_placement(`leading ${tt}`);let rt=_e.length,nt=-1;for(let ot=1;ot<rt;ot++){et=_e[ot];let st=FENCED.get(et);if(st){if(nt==ot)throw error_placement(`${tt} + ${st}`);nt=ot+1,tt=st}}if(nt==rt)throw error_placement(`trailing ${tt}`)}function safe_str_from_cps(_e,et=1/0,tt=quote_cp){let rt=[];is_combining_mark(_e[0])&&rt.push("◌"),_e.length>et&&(et>>=1,_e=[..._e.slice(0,et),8230,..._e.slice(-et)]);let nt=0,ot=_e.length;for(let st=0;st<ot;st++){let at=_e[st];should_escape(at)&&(rt.push(str_from_cps(_e.slice(nt,st))),rt.push(tt(at)),nt=st+1)}return rt.push(str_from_cps(_e.slice(nt,ot))),rt.join("")}function is_combining_mark(_e){return init(),CM.has(_e)}function should_escape(_e){return init(),ESCAPE.has(_e)}function ens_normalize(_e){return flatten$1(split(_e,nfc,filter_fe0f))}function split(_e,et,tt){if(!_e)return[];init();let rt=0;return _e.split(STOP_CH).map(nt=>{let ot=explode_cp(nt),st={input:ot,offset:rt};rt+=ot.length+1;try{let at=st.tokens=tokens_from_str(ot,et,tt),ct=at.length,lt;if(!ct)throw new Error("empty label");let dt=st.output=at.flat();if(check_leading_underscore(dt),!(st.emoji=ct>1||at[0].is_emoji)&&dt.every(ht=>ht<128))check_label_extension(dt),lt="ASCII";else{let ht=at.flatMap(pt=>pt.is_emoji?[]:pt);if(!ht.length)lt="Emoji";else{if(CM.has(dt[0]))throw error_placement("leading combining mark");for(let mt=1;mt<ct;mt++){let vt=at[mt];if(!vt.is_emoji&&CM.has(vt[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(at[mt-1])} + ${safe_str_from_cps([vt[0]])}"`)}check_fenced(dt);let pt=Array_from(new Set(ht)),[gt]=determine_group(pt);check_group(gt,ht),check_whole(gt,pt),lt=gt.N}}st.type=lt}catch(at){st.error=at}return st})}function check_whole(_e,et){let tt,rt=[];for(let nt of et){let ot=WHOLE_MAP.get(nt);if(ot===UNIQUE_PH)return;if(ot){let st=ot.M.get(nt);if(tt=tt?tt.filter(at=>st.has(at)):Array_from(st),!tt.length)return}else rt.push(nt)}if(tt){for(let nt of tt)if(rt.every(ot=>group_has_cp(nt,ot)))throw new Error(`whole-script confusable: ${_e.N}/${nt.N}`)}}function determine_group(_e){let et=GROUPS;for(let tt of _e){let rt=et.filter(nt=>group_has_cp(nt,tt));if(!rt.length)throw GROUPS.some(nt=>group_has_cp(nt,tt))?error_group_member(et[0],tt):error_disallowed(tt);if(et=rt,rt.length==1)break}return et}function flatten$1(_e){return _e.map(({input:et,error:tt,output:rt})=>{if(tt){let nt=tt.message;throw new Error(_e.length==1?nt:`Invalid label ${bidi_qq(safe_str_from_cps(et,63))}: ${nt}`)}return str_from_cps(rt)}).join(STOP_CH)}function error_disallowed(_e){return new Error(`disallowed character: ${quoted_cp(_e)}`)}function error_group_member(_e,et){let tt=quoted_cp(et),rt=GROUPS.find(nt=>nt.P.has(et));return rt&&(tt=`${rt.N} ${tt}`),new Error(`illegal mixture: ${_e.N} + ${tt}`)}function error_placement(_e){return new Error(`illegal placement: ${_e}`)}function check_group(_e,et){for(let tt of et)if(!group_has_cp(_e,tt))throw error_group_member(_e,tt);if(_e.M){let tt=nfd(et);for(let rt=1,nt=tt.length;rt<nt;rt++)if(NSM.has(tt[rt])){let ot=rt+1;for(let st;ot<nt&&NSM.has(st=tt[ot]);ot++)for(let at=rt;at<ot;at++)if(tt[at]==st)throw new Error(`duplicate non-spacing marks: ${quoted_cp(st)}`);if(ot-rt>NSM_MAX)throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(tt.slice(rt-1,ot)))} (${ot-rt}/${NSM_MAX})`);rt=ot}}}function tokens_from_str(_e,et,tt){let rt=[],nt=[];for(_e=_e.slice().reverse();_e.length;){let ot=consume_emoji_reversed(_e);if(ot)nt.length&&(rt.push(et(nt)),nt=[]),rt.push(tt(ot));else{let st=_e.pop();if(VALID.has(st))nt.push(st);else{let at=MAPPED.get(st);if(at)nt.push(...at);else if(!IGNORED.has(st))throw error_disallowed(st)}}}return nt.length&&rt.push(et(nt)),rt}function filter_fe0f(_e){return _e.filter(et=>et!=FE0F)}function consume_emoji_reversed(_e,et){let tt=EMOJI_ROOT,rt,nt=_e.length;for(;nt&&(tt=tt.get(_e[--nt]),!!tt);){let{V:ot}=tt;ot&&(rt=ot,_e.length=nt)}return rt}const Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent(_e){return assertArgument(_e.length!==0,"invalid ENS name; empty component","comp",_e),_e}function ensNameSplit(_e){const et=toUtf8Bytes(ensNormalize(_e)),tt=[];if(_e.length===0)return tt;let rt=0;for(let nt=0;nt<et.length;nt++)et[nt]===46&&(tt.push(checkComponent(et.slice(rt,nt))),rt=nt+1);return assertArgument(rt<et.length,"invalid ENS name; empty component","name",_e),tt.push(checkComponent(et.slice(rt))),tt}function ensNormalize(_e){try{if(_e.length===0)throw new Error("empty label");return ens_normalize(_e)}catch(et){assertArgument(!1,`invalid ENS name (${et.message})`,"name",_e)}}function namehash(_e){assertArgument(typeof _e=="string","invalid ENS name; not a string","name",_e),assertArgument(_e.length,"invalid ENS name (empty label)","name",_e);let et=Zeros;const tt=ensNameSplit(_e);for(;tt.length;)et=keccak256(concat$2([et,keccak256(tt.pop())]));return hexlify(et)}function dnsEncode(_e,et){const tt=et;return assertArgument(tt<=255,"DNS encoded label cannot exceed 255","length",tt),hexlify(concat$2(ensNameSplit(_e).map(rt=>{assertArgument(rt.length<=tt,`label ${JSON.stringify(_e)} exceeds ${tt} bytes`,"name",_e);const nt=new Uint8Array(rt.length+1);return nt.set(rt,1),nt[0]=nt.length-1,nt})))+"00"}const padding=new Uint8Array(32);padding.fill(0);const BN__1=BigInt(-1),BN_0$3=BigInt(0),BN_1=BigInt(1),BN_MAX_UINT256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(_e){const et=getBytes(_e),tt=et.length%32;return tt?concat$2([et,padding.slice(tt)]):hexlify(et)}const hexTrue=toBeHex(BN_1,32),hexFalse=toBeHex(BN_0$3,32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(_e){return function(et){return assertArgument(typeof et=="string",`invalid domain value for ${JSON.stringify(_e)}`,`domain.${_e}`,et),et}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(_e){const et=getBigInt(_e,"domain.chainId");return assertArgument(et>=0,"invalid chain ID","domain.chainId",_e),Number.isSafeInteger(et)?Number(et):toQuantity(et)},verifyingContract:function(_e){try{return getAddress(_e).toLowerCase()}catch{}assertArgument(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",_e)},salt:function(_e){const et=getBytes(_e,"domain.salt");return assertArgument(et.length===32,'invalid domain value "salt"',"domain.salt",_e),hexlify(et)}};function getBaseEncoder(_e){{const et=_e.match(/^(u?)int(\d+)$/);if(et){const tt=et[1]==="",rt=parseInt(et[2]);assertArgument(rt%8===0&&rt!==0&&rt<=256&&et[2]===String(rt),"invalid numeric width","type",_e);const nt=mask(BN_MAX_UINT256,tt?rt-1:rt),ot=tt?(nt+BN_1)*BN__1:BN_0$3;return function(st){const at=getBigInt(st,"value");return assertArgument(at>=ot&&at<=nt,`value out-of-bounds for ${_e}`,"value",at),toBeHex(tt?toTwos(at,256):at,32)}}}{const et=_e.match(/^bytes(\d+)$/);if(et){const tt=parseInt(et[1]);return assertArgument(tt!==0&&tt<=32&&et[1]===String(tt),"invalid bytes width","type",_e),function(rt){const nt=getBytes(rt);return assertArgument(nt.length===tt,`invalid length for ${_e}`,"value",rt),hexPadRight(rt)}}}switch(_e){case"address":return function(et){return zeroPadValue(getAddress(et),32)};case"bool":return function(et){return et?hexTrue:hexFalse};case"bytes":return function(et){return keccak256(et)};case"string":return function(et){return id(et)}}return null}function encodeType(_e,et){return`${_e}(${et.map(({name:tt,type:rt})=>rt+" "+tt).join(",")})`}function splitArray(_e){const et=_e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return et?{base:et[1],index:et[2]+et[4],array:{base:et[1],prefix:et[1]+et[2],count:et[5]?parseInt(et[5]):-1}}:{base:_e}}var os,rn,Ro,As,Xs;const kr=class kr{constructor(et){Ot(this,As);Nt(this,"primaryType");Ot(this,os);Ot(this,rn);Ot(this,Ro);Pt(this,rn,new Map),Pt(this,Ro,new Map);const tt=new Map,rt=new Map,nt=new Map,ot={};Object.keys(et).forEach(ct=>{ot[ct]=et[ct].map(({name:lt,type:dt})=>{let{base:ft,index:ht}=splitArray(dt);return ft==="int"&&!et.int&&(ft="int256"),ft==="uint"&&!et.uint&&(ft="uint256"),{name:lt,type:ft+(ht||"")}}),tt.set(ct,new Set),rt.set(ct,[]),nt.set(ct,new Set)}),Pt(this,os,JSON.stringify(ot));for(const ct in ot){const lt=new Set;for(const dt of ot[ct]){assertArgument(!lt.has(dt.name),`duplicate variable name ${JSON.stringify(dt.name)} in ${JSON.stringify(ct)}`,"types",et),lt.add(dt.name);const ft=splitArray(dt.type).base;assertArgument(ft!==ct,`circular type reference to ${JSON.stringify(ft)}`,"types",et),!getBaseEncoder(ft)&&(assertArgument(rt.has(ft),`unknown type ${JSON.stringify(ft)}`,"types",et),rt.get(ft).push(ct),tt.get(ct).add(ft))}}const st=Array.from(rt.keys()).filter(ct=>rt.get(ct).length===0);assertArgument(st.length!==0,"missing primary type","types",et),assertArgument(st.length===1,`ambiguous primary types or unused types: ${st.map(ct=>JSON.stringify(ct)).join(", ")}`,"types",et),defineProperties(this,{primaryType:st[0]});function at(ct,lt){assertArgument(!lt.has(ct),`circular type reference to ${JSON.stringify(ct)}`,"types",et),lt.add(ct);for(const dt of tt.get(ct))if(rt.has(dt)){at(dt,lt);for(const ft of lt)nt.get(ft).add(dt)}lt.delete(ct)}at(this.primaryType,new Set);for(const[ct,lt]of nt){const dt=Array.from(lt);dt.sort(),Et(this,rn).set(ct,encodeType(ct,ot[ct])+dt.map(ft=>encodeType(ft,ot[ft])).join(""))}}get types(){return JSON.parse(Et(this,os))}getEncoder(et){let tt=Et(this,Ro).get(et);return tt||(tt=Ut(this,As,Xs).call(this,et),Et(this,Ro).set(et,tt)),tt}encodeType(et){const tt=Et(this,rn).get(et);return assertArgument(tt,`unknown type: ${JSON.stringify(et)}`,"name",et),tt}encodeData(et,tt){return this.getEncoder(et)(tt)}hashStruct(et,tt){return keccak256(this.encodeData(et,tt))}encode(et){return this.encodeData(this.primaryType,et)}hash(et){return this.hashStruct(this.primaryType,et)}_visit(et,tt,rt){if(getBaseEncoder(et))return rt(et,tt);const nt=splitArray(et).array;if(nt)return assertArgument(nt.count===-1||nt.count===tt.length,`array length mismatch; expected length ${nt.count}`,"value",tt),tt.map(st=>this._visit(nt.prefix,st,rt));const ot=this.types[et];if(ot)return ot.reduce((st,{name:at,type:ct})=>(st[at]=this._visit(ct,tt[at],rt),st),{});assertArgument(!1,`unknown type: ${et}`,"type",et)}visit(et,tt){return this._visit(this.primaryType,et,tt)}static from(et){return new kr(et)}static getPrimaryType(et){return kr.from(et).primaryType}static hashStruct(et,tt,rt){return kr.from(tt).hashStruct(et,rt)}static hashDomain(et){const tt=[];for(const rt in et){if(et[rt]==null)continue;const nt=domainFieldTypes[rt];assertArgument(nt,`invalid typed-data domain key: ${JSON.stringify(rt)}`,"domain",et),tt.push({name:rt,type:nt})}return tt.sort((rt,nt)=>domainFieldNames.indexOf(rt.name)-domainFieldNames.indexOf(nt.name)),kr.hashStruct("EIP712Domain",{EIP712Domain:tt},et)}static encode(et,tt,rt){return concat$2(["0x1901",kr.hashDomain(et),kr.from(tt).hash(rt)])}static hash(et,tt,rt){return keccak256(kr.encode(et,tt,rt))}static async resolveNames(et,tt,rt,nt){et=Object.assign({},et);for(const at in et)et[at]==null&&delete et[at];const ot={};et.verifyingContract&&!isHexString(et.verifyingContract,20)&&(ot[et.verifyingContract]="0x");const st=kr.from(tt);st.visit(rt,(at,ct)=>(at==="address"&&!isHexString(ct,20)&&(ot[ct]="0x"),ct));for(const at in ot)ot[at]=await nt(at);return et.verifyingContract&&ot[et.verifyingContract]&&(et.verifyingContract=ot[et.verifyingContract]),rt=st.visit(rt,(at,ct)=>at==="address"&&ot[ct]?ot[ct]:ct),{domain:et,value:rt}}static getPayload(et,tt,rt){kr.hashDomain(et);const nt={},ot=[];domainFieldNames.forEach(ct=>{const lt=et[ct];lt!=null&&(nt[ct]=domainChecks[ct](lt),ot.push({name:ct,type:domainFieldTypes[ct]}))});const st=kr.from(tt);tt=st.types;const at=Object.assign({},tt);return assertArgument(at.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",tt),at.EIP712Domain=ot,st.encode(rt),{types:at,domain:nt,primaryType:st.primaryType,message:st.visit(rt,(ct,lt)=>{if(ct.match(/^bytes(\d*)/))return hexlify(getBytes(lt));if(ct.match(/^u?int/))return getBigInt(lt).toString();switch(ct){case"address":return lt.toLowerCase();case"bool":return!!lt;case"string":return assertArgument(typeof lt=="string","invalid string","value",lt),lt}assertArgument(!1,"unsupported type","type",ct)})}}};os=new WeakMap,rn=new WeakMap,Ro=new WeakMap,As=new WeakSet,Xs=function(et){{const nt=getBaseEncoder(et);if(nt)return nt}const tt=splitArray(et).array;if(tt){const nt=tt.prefix,ot=this.getEncoder(nt);return st=>{assertArgument(tt.count===-1||tt.count===st.length,`array length mismatch; expected length ${tt.count}`,"value",st);let at=st.map(ot);return Et(this,rn).has(nt)&&(at=at.map(keccak256)),keccak256(concat$2(at))}}const rt=this.types[et];if(rt){const nt=id(Et(this,rn).get(et));return ot=>{const st=rt.map(({name:at,type:ct})=>{const lt=this.getEncoder(ct)(ot[at]);return Et(this,rn).has(ct)?keccak256(lt):lt});return st.unshift(nt),concat$2(st)}}assertArgument(!1,`unknown type: ${et}`,"type",et)};let TypedDataEncoder=kr;function setify(_e){const et=new Set;return _e.forEach(tt=>et.add(tt)),Object.freeze(et)}const _kwVisibDeploy="external public payable override",KwVisibDeploy=setify(_kwVisibDeploy.split(" ")),_kwVisib="constant external internal payable private public pure view override",KwVisib=setify(_kwVisib.split(" ")),_kwTypes="constructor error event fallback function receive struct",KwTypes=setify(_kwTypes.split(" ")),_kwModifiers="calldata memory storage payable indexed",KwModifiers=setify(_kwModifiers.split(" ")),_kwOther="tuple returns",_keywords=[_kwTypes,_kwModifiers,_kwOther,_kwVisib].join(" "),Keywords=setify(_keywords.split(" ")),SimpleTokens={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix=new RegExp("^(\\s*)"),regexNumberPrefix=new RegExp("^([0-9]+)"),regexIdPrefix=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var dr,Br,ss,Is;const Ss=class Ss{constructor(et){Ot(this,ss);Ot(this,dr);Ot(this,Br);Pt(this,dr,0),Pt(this,Br,et.slice())}get offset(){return Et(this,dr)}get length(){return Et(this,Br).length-Et(this,dr)}clone(){return new Ss(Et(this,Br))}reset(){Pt(this,dr,0)}popKeyword(et){const tt=this.peek();if(tt.type!=="KEYWORD"||!et.has(tt.text))throw new Error(`expected keyword ${tt.text}`);return this.pop().text}popType(et){if(this.peek().type!==et){const tt=this.peek();throw new Error(`expected ${et}; got ${tt.type} ${JSON.stringify(tt.text)}`)}return this.pop().text}popParen(){const et=this.peek();if(et.type!=="OPEN_PAREN")throw new Error("bad start");const tt=Ut(this,ss,Is).call(this,Et(this,dr)+1,et.match+1);return Pt(this,dr,et.match+1),tt}popParams(){const et=this.peek();if(et.type!=="OPEN_PAREN")throw new Error("bad start");const tt=[];for(;Et(this,dr)<et.match-1;){const rt=this.peek().linkNext;tt.push(Ut(this,ss,Is).call(this,Et(this,dr)+1,rt)),Pt(this,dr,rt)}return Pt(this,dr,et.match+1),tt}peek(){if(Et(this,dr)>=Et(this,Br).length)throw new Error("out-of-bounds");return Et(this,Br)[Et(this,dr)]}peekKeyword(et){const tt=this.peekType("KEYWORD");return tt!=null&&et.has(tt)?tt:null}peekType(et){if(this.length===0)return null;const tt=this.peek();return tt.type===et?tt.text:null}pop(){const et=this.peek();return Yo(this,dr)._++,et}toString(){const et=[];for(let tt=Et(this,dr);tt<Et(this,Br).length;tt++){const rt=Et(this,Br)[tt];et.push(`${rt.type}:${rt.text}`)}return`<TokenString ${et.join(" ")}>`}};dr=new WeakMap,Br=new WeakMap,ss=new WeakSet,Is=function(et=0,tt=0){return new Ss(Et(this,Br).slice(et,tt).map(rt=>Object.freeze(Object.assign({},rt,{match:rt.match-et,linkBack:rt.linkBack-et,linkNext:rt.linkNext-et}))))};let TokenString=Ss;function lex(_e){const et=[],tt=st=>{const at=ot<_e.length?JSON.stringify(_e[ot]):"$EOI";throw new Error(`invalid token ${at} at ${ot}: ${st}`)};let rt=[],nt=[],ot=0;for(;ot<_e.length;){let st=_e.substring(ot),at=st.match(regexWhitespacePrefix);at&&(ot+=at[1].length,st=_e.substring(ot));const ct={depth:rt.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:ot,value:-1};et.push(ct);let lt=SimpleTokens[st[0]]||"";if(lt){if(ct.type=lt,ct.text=st[0],ot++,lt==="OPEN_PAREN")rt.push(et.length-1),nt.push(et.length-1);else if(lt=="CLOSE_PAREN")rt.length===0&&tt("no matching open bracket"),ct.match=rt.pop(),et[ct.match].match=et.length-1,ct.depth--,ct.linkBack=nt.pop(),et[ct.linkBack].linkNext=et.length-1;else if(lt==="COMMA")ct.linkBack=nt.pop(),et[ct.linkBack].linkNext=et.length-1,nt.push(et.length-1);else if(lt==="OPEN_BRACKET")ct.type="BRACKET";else if(lt==="CLOSE_BRACKET"){let dt=et.pop().text;if(et.length>0&&et[et.length-1].type==="NUMBER"){const ft=et.pop().text;dt=ft+dt,et[et.length-1].value=getNumber(ft)}if(et.length===0||et[et.length-1].type!=="BRACKET")throw new Error("missing opening bracket");et[et.length-1].text+=dt}continue}if(at=st.match(regexIdPrefix),at){if(ct.text=at[1],ot+=ct.text.length,Keywords.has(ct.text)){ct.type="KEYWORD";continue}if(ct.text.match(regexType)){ct.type="TYPE";continue}ct.type="ID";continue}if(at=st.match(regexNumberPrefix),at){ct.text=at[1],ct.type="NUMBER",ot+=ct.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(st[0])} at position ${ot}`)}return new TokenString(et.map(st=>Object.freeze(st)))}function allowSingle(_e,et){let tt=[];for(const rt in et.keys())_e.has(rt)&&tt.push(rt);if(tt.length>1)throw new Error(`conflicting types: ${tt.join(", ")}`)}function consumeName(_e,et){if(et.peekKeyword(KwTypes)){const tt=et.pop().text;if(tt!==_e)throw new Error(`expected ${_e}, got ${tt}`)}return et.popType("ID")}function consumeKeywords(_e,et){const tt=new Set;for(;;){const rt=_e.peekType("KEYWORD");if(rt==null||et&&!et.has(rt))break;if(_e.pop(),tt.has(rt))throw new Error(`duplicate keywords: ${JSON.stringify(rt)}`);tt.add(rt)}return Object.freeze(tt)}function consumeMutability(_e){let et=consumeKeywords(_e,KwVisib);return allowSingle(et,setify("constant payable nonpayable".split(" "))),allowSingle(et,setify("pure view payable nonpayable".split(" "))),et.has("view")?"view":et.has("pure")?"pure":et.has("payable")?"payable":et.has("nonpayable")?"nonpayable":et.has("constant")?"view":"nonpayable"}function consumeParams(_e,et){return _e.popParams().map(tt=>ParamType.from(tt,et))}function consumeGas(_e){if(_e.peekType("AT")){if(_e.pop(),_e.peekType("NUMBER"))return getBigInt(_e.pop().text);throw new Error("invalid gas")}return null}function consumeEoi(_e){if(_e.length)throw new Error(`unexpected tokens at offset ${_e.offset}: ${_e.toString()}`)}const regexArrayType=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(_e){const et=_e.match(regexType);if(assertArgument(et,"invalid type","type",_e),_e==="uint")return"uint256";if(_e==="int")return"int256";if(et[2]){const tt=parseInt(et[2]);assertArgument(tt!==0&&tt<=32,"invalid bytes length","type",_e)}else if(et[3]){const tt=parseInt(et[3]);assertArgument(tt!==0&&tt<=256&&tt%8===0,"invalid numeric width","type",_e)}return _e}const _guard={},internal$1=Symbol.for("_ethers_internal"),ParamTypeInternal="_ParamTypeInternal",ErrorFragmentInternal="_ErrorInternal",EventFragmentInternal="_EventInternal",ConstructorFragmentInternal="_ConstructorInternal",FallbackFragmentInternal="_FallbackInternal",FunctionFragmentInternal="_FunctionInternal",StructFragmentInternal="_StructInternal";var Oo,ys;const Pr=class Pr{constructor(et,tt,rt,nt,ot,st,at,ct){Ot(this,Oo);Nt(this,"name");Nt(this,"type");Nt(this,"baseType");Nt(this,"indexed");Nt(this,"components");Nt(this,"arrayLength");Nt(this,"arrayChildren");if(assertPrivate(et,_guard,"ParamType"),Object.defineProperty(this,internal$1,{value:ParamTypeInternal}),st&&(st=Object.freeze(st.slice())),nt==="array"){if(at==null||ct==null)throw new Error("")}else if(at!=null||ct!=null)throw new Error("");if(nt==="tuple"){if(st==null)throw new Error("")}else if(st!=null)throw new Error("");defineProperties(this,{name:tt,type:rt,baseType:nt,indexed:ot,components:st,arrayLength:at,arrayChildren:ct})}format(et){if(et==null&&(et="sighash"),et==="json"){const rt=this.name||"";if(this.isArray()){const ot=JSON.parse(this.arrayChildren.format("json"));return ot.name=rt,ot.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(ot)}const nt={type:this.baseType==="tuple"?"tuple":this.type,name:rt};return typeof this.indexed=="boolean"&&(nt.indexed=this.indexed),this.isTuple()&&(nt.components=this.components.map(ot=>JSON.parse(ot.format(et)))),JSON.stringify(nt)}let tt="";return this.isArray()?(tt+=this.arrayChildren.format(et),tt+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?tt+="("+this.components.map(rt=>rt.format(et)).join(et==="full"?", ":",")+")":tt+=this.type,et!=="sighash"&&(this.indexed===!0&&(tt+=" indexed"),et==="full"&&this.name&&(tt+=" "+this.name)),tt}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(et,tt){if(this.isArray()){if(!Array.isArray(et))throw new Error("invalid array value");if(this.arrayLength!==-1&&et.length!==this.arrayLength)throw new Error("array is wrong length");const rt=this;return et.map(nt=>rt.arrayChildren.walk(nt,tt))}if(this.isTuple()){if(!Array.isArray(et))throw new Error("invalid tuple value");if(et.length!==this.components.length)throw new Error("array is wrong length");const rt=this;return et.map((nt,ot)=>rt.components[ot].walk(nt,tt))}return tt(this.type,et)}async walkAsync(et,tt){const rt=[],nt=[et];return Ut(this,Oo,ys).call(this,rt,et,tt,ot=>{nt[0]=ot}),rt.length&&await Promise.all(rt),nt[0]}static from(et,tt){if(Pr.isParamType(et))return et;if(typeof et=="string")try{return Pr.from(lex(et),tt)}catch{assertArgument(!1,"invalid param type","obj",et)}else if(et instanceof TokenString){let at="",ct="",lt=null;consumeKeywords(et,setify(["tuple"])).has("tuple")||et.peekType("OPEN_PAREN")?(ct="tuple",lt=et.popParams().map(mt=>Pr.from(mt)),at=`tuple(${lt.map(mt=>mt.format()).join(",")})`):(at=verifyBasicType(et.popType("TYPE")),ct=at);let dt=null,ft=null;for(;et.length&&et.peekType("BRACKET");){const mt=et.pop();dt=new Pr(_guard,"",at,ct,null,lt,ft,dt),ft=mt.value,at+=mt.text,ct="array",lt=null}let ht=null;if(consumeKeywords(et,KwModifiers).has("indexed")){if(!tt)throw new Error("");ht=!0}const gt=et.peekType("ID")?et.pop().text:"";if(et.length)throw new Error("leftover tokens");return new Pr(_guard,gt,at,ct,ht,lt,ft,dt)}const rt=et.name;assertArgument(!rt||typeof rt=="string"&&rt.match(regexId),"invalid name","obj.name",rt);let nt=et.indexed;nt!=null&&(assertArgument(tt,"parameter cannot be indexed","obj.indexed",et.indexed),nt=!!nt);let ot=et.type,st=ot.match(regexArrayType);if(st){const at=parseInt(st[2]||"-1"),ct=Pr.from({type:st[1],components:et.components});return new Pr(_guard,rt||"",ot,"array",nt,null,at,ct)}if(ot==="tuple"||ot.startsWith("tuple(")||ot.startsWith("(")){const at=et.components!=null?et.components.map(lt=>Pr.from(lt)):null;return new Pr(_guard,rt||"",ot,"tuple",nt,at,null,null)}return ot=verifyBasicType(et.type),new Pr(_guard,rt||"",ot,ot,nt,null,null,null)}static isParamType(et){return et&&et[internal$1]===ParamTypeInternal}};Oo=new WeakSet,ys=function(et,tt,rt,nt){if(this.isArray()){if(!Array.isArray(tt))throw new Error("invalid array value");if(this.arrayLength!==-1&&tt.length!==this.arrayLength)throw new Error("array is wrong length");const st=this.arrayChildren,at=tt.slice();at.forEach((ct,lt)=>{var dt;Ut(dt=st,Oo,ys).call(dt,et,ct,rt,ft=>{at[lt]=ft})}),nt(at);return}if(this.isTuple()){const st=this.components;let at;if(Array.isArray(tt))at=tt.slice();else{if(tt==null||typeof tt!="object")throw new Error("invalid tuple value");at=st.map(ct=>{if(!ct.name)throw new Error("cannot use object value with unnamed components");if(!(ct.name in tt))throw new Error(`missing value for component ${ct.name}`);return tt[ct.name]})}if(at.length!==this.components.length)throw new Error("array is wrong length");at.forEach((ct,lt)=>{var dt;Ut(dt=st[lt],Oo,ys).call(dt,et,ct,rt,ft=>{at[lt]=ft})}),nt(at);return}const ot=rt(this.type,tt);ot.then?et.push(async function(){nt(await ot)}()):nt(ot)};let ParamType=Pr;class Fragment{constructor(et,tt,rt){Nt(this,"type");Nt(this,"inputs");assertPrivate(et,_guard,"Fragment"),rt=Object.freeze(rt.slice()),defineProperties(this,{type:tt,inputs:rt})}static from(et){if(typeof et=="string"){try{Fragment.from(JSON.parse(et))}catch{}return Fragment.from(lex(et))}if(et instanceof TokenString)switch(et.peekKeyword(KwTypes)){case"constructor":return ConstructorFragment.from(et);case"error":return ErrorFragment.from(et);case"event":return EventFragment.from(et);case"fallback":case"receive":return FallbackFragment.from(et);case"function":return FunctionFragment.from(et);case"struct":return StructFragment.from(et)}else if(typeof et=="object"){switch(et.type){case"constructor":return ConstructorFragment.from(et);case"error":return ErrorFragment.from(et);case"event":return EventFragment.from(et);case"fallback":case"receive":return FallbackFragment.from(et);case"function":return FunctionFragment.from(et);case"struct":return StructFragment.from(et)}assert$1(!1,`unsupported type: ${et.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}assertArgument(!1,"unsupported frgament object","obj",et)}static isConstructor(et){return ConstructorFragment.isFragment(et)}static isError(et){return ErrorFragment.isFragment(et)}static isEvent(et){return EventFragment.isFragment(et)}static isFunction(et){return FunctionFragment.isFragment(et)}static isStruct(et){return StructFragment.isFragment(et)}}class NamedFragment extends Fragment{constructor(tt,rt,nt,ot){super(tt,rt,ot);Nt(this,"name");assertArgument(typeof nt=="string"&&nt.match(regexId),"invalid identifier","name",nt),ot=Object.freeze(ot.slice()),defineProperties(this,{name:nt})}}function joinParams(_e,et){return"("+et.map(tt=>tt.format(_e)).join(_e==="full"?", ":",")+")"}class ErrorFragment extends NamedFragment{constructor(et,tt,rt){super(et,"error",tt,rt),Object.defineProperty(this,internal$1,{value:ErrorFragmentInternal})}get selector(){return id(this.format("sighash")).substring(0,10)}format(et){if(et==null&&(et="sighash"),et==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(et)))});const tt=[];return et!=="sighash"&&tt.push("error"),tt.push(this.name+joinParams(et,this.inputs)),tt.join(" ")}static from(et){if(ErrorFragment.isFragment(et))return et;if(typeof et=="string")return ErrorFragment.from(lex(et));if(et instanceof TokenString){const tt=consumeName("error",et),rt=consumeParams(et);return consumeEoi(et),new ErrorFragment(_guard,tt,rt)}return new ErrorFragment(_guard,et.name,et.inputs?et.inputs.map(ParamType.from):[])}static isFragment(et){return et&&et[internal$1]===ErrorFragmentInternal}}class EventFragment extends NamedFragment{constructor(tt,rt,nt,ot){super(tt,"event",rt,nt);Nt(this,"anonymous");Object.defineProperty(this,internal$1,{value:EventFragmentInternal}),defineProperties(this,{anonymous:ot})}get topicHash(){return id(this.format("sighash"))}format(tt){if(tt==null&&(tt="sighash"),tt==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(nt=>JSON.parse(nt.format(tt)))});const rt=[];return tt!=="sighash"&&rt.push("event"),rt.push(this.name+joinParams(tt,this.inputs)),tt!=="sighash"&&this.anonymous&&rt.push("anonymous"),rt.join(" ")}static getTopicHash(tt,rt){return rt=(rt||[]).map(ot=>ParamType.from(ot)),new EventFragment(_guard,tt,rt,!1).topicHash}static from(tt){if(EventFragment.isFragment(tt))return tt;if(typeof tt=="string")try{return EventFragment.from(lex(tt))}catch{assertArgument(!1,"invalid event fragment","obj",tt)}else if(tt instanceof TokenString){const rt=consumeName("event",tt),nt=consumeParams(tt,!0),ot=!!consumeKeywords(tt,setify(["anonymous"])).has("anonymous");return consumeEoi(tt),new EventFragment(_guard,rt,nt,ot)}return new EventFragment(_guard,tt.name,tt.inputs?tt.inputs.map(rt=>ParamType.from(rt,!0)):[],!!tt.anonymous)}static isFragment(tt){return tt&&tt[internal$1]===EventFragmentInternal}}class ConstructorFragment extends Fragment{constructor(tt,rt,nt,ot,st){super(tt,rt,nt);Nt(this,"payable");Nt(this,"gas");Object.defineProperty(this,internal$1,{value:ConstructorFragmentInternal}),defineProperties(this,{payable:ot,gas:st})}format(tt){if(assert$1(tt!=null&&tt!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),tt==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(nt=>JSON.parse(nt.format(tt)))});const rt=[`constructor${joinParams(tt,this.inputs)}`];return this.payable&&rt.push("payable"),this.gas!=null&&rt.push(`@${this.gas.toString()}`),rt.join(" ")}static from(tt){if(ConstructorFragment.isFragment(tt))return tt;if(typeof tt=="string")try{return ConstructorFragment.from(lex(tt))}catch{assertArgument(!1,"invalid constuctor fragment","obj",tt)}else if(tt instanceof TokenString){consumeKeywords(tt,setify(["constructor"]));const rt=consumeParams(tt),nt=!!consumeKeywords(tt,KwVisibDeploy).has("payable"),ot=consumeGas(tt);return consumeEoi(tt),new ConstructorFragment(_guard,"constructor",rt,nt,ot)}return new ConstructorFragment(_guard,"constructor",tt.inputs?tt.inputs.map(ParamType.from):[],!!tt.payable,tt.gas!=null?tt.gas:null)}static isFragment(tt){return tt&&tt[internal$1]===ConstructorFragmentInternal}}class FallbackFragment extends Fragment{constructor(tt,rt,nt){super(tt,"fallback",rt);Nt(this,"payable");Object.defineProperty(this,internal$1,{value:FallbackFragmentInternal}),defineProperties(this,{payable:nt})}format(tt){const rt=this.inputs.length===0?"receive":"fallback";if(tt==="json"){const nt=this.payable?"payable":"nonpayable";return JSON.stringify({type:rt,stateMutability:nt})}return`${rt}()${this.payable?" payable":""}`}static from(tt){if(FallbackFragment.isFragment(tt))return tt;if(typeof tt=="string")try{return FallbackFragment.from(lex(tt))}catch{assertArgument(!1,"invalid fallback fragment","obj",tt)}else if(tt instanceof TokenString){const rt=tt.toString(),nt=tt.peekKeyword(setify(["fallback","receive"]));if(assertArgument(nt,"type must be fallback or receive","obj",rt),tt.popKeyword(setify(["fallback","receive"]))==="receive"){const ct=consumeParams(tt);return assertArgument(ct.length===0,"receive cannot have arguments","obj.inputs",ct),consumeKeywords(tt,setify(["payable"])),consumeEoi(tt),new FallbackFragment(_guard,[],!0)}let st=consumeParams(tt);st.length?assertArgument(st.length===1&&st[0].type==="bytes","invalid fallback inputs","obj.inputs",st.map(ct=>ct.format("minimal")).join(", ")):st=[ParamType.from("bytes")];const at=consumeMutability(tt);if(assertArgument(at==="nonpayable"||at==="payable","fallback cannot be constants","obj.stateMutability",at),consumeKeywords(tt,setify(["returns"])).has("returns")){const ct=consumeParams(tt);assertArgument(ct.length===1&&ct[0].type==="bytes","invalid fallback outputs","obj.outputs",ct.map(lt=>lt.format("minimal")).join(", "))}return consumeEoi(tt),new FallbackFragment(_guard,st,at==="payable")}if(tt.type==="receive")return new FallbackFragment(_guard,[],!0);if(tt.type==="fallback"){const rt=[ParamType.from("bytes")],nt=tt.stateMutability==="payable";return new FallbackFragment(_guard,rt,nt)}assertArgument(!1,"invalid fallback description","obj",tt)}static isFragment(tt){return tt&&tt[internal$1]===FallbackFragmentInternal}}class FunctionFragment extends NamedFragment{constructor(tt,rt,nt,ot,st,at){super(tt,"function",rt,ot);Nt(this,"constant");Nt(this,"outputs");Nt(this,"stateMutability");Nt(this,"payable");Nt(this,"gas");Object.defineProperty(this,internal$1,{value:FunctionFragmentInternal}),st=Object.freeze(st.slice()),defineProperties(this,{constant:nt==="view"||nt==="pure",gas:at,outputs:st,payable:nt==="payable",stateMutability:nt})}get selector(){return id(this.format("sighash")).substring(0,10)}format(tt){if(tt==null&&(tt="sighash"),tt==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(nt=>JSON.parse(nt.format(tt))),outputs:this.outputs.map(nt=>JSON.parse(nt.format(tt)))});const rt=[];return tt!=="sighash"&&rt.push("function"),rt.push(this.name+joinParams(tt,this.inputs)),tt!=="sighash"&&(this.stateMutability!=="nonpayable"&&rt.push(this.stateMutability),this.outputs&&this.outputs.length&&(rt.push("returns"),rt.push(joinParams(tt,this.outputs))),this.gas!=null&&rt.push(`@${this.gas.toString()}`)),rt.join(" ")}static getSelector(tt,rt){return rt=(rt||[]).map(ot=>ParamType.from(ot)),new FunctionFragment(_guard,tt,"view",rt,[],null).selector}static from(tt){if(FunctionFragment.isFragment(tt))return tt;if(typeof tt=="string")try{return FunctionFragment.from(lex(tt))}catch{assertArgument(!1,"invalid function fragment","obj",tt)}else if(tt instanceof TokenString){const nt=consumeName("function",tt),ot=consumeParams(tt),st=consumeMutability(tt);let at=[];consumeKeywords(tt,setify(["returns"])).has("returns")&&(at=consumeParams(tt));const ct=consumeGas(tt);return consumeEoi(tt),new FunctionFragment(_guard,nt,st,ot,at,ct)}let rt=tt.stateMutability;return rt==null&&(rt="payable",typeof tt.constant=="boolean"?(rt="view",tt.constant||(rt="payable",typeof tt.payable=="boolean"&&!tt.payable&&(rt="nonpayable"))):typeof tt.payable=="boolean"&&!tt.payable&&(rt="nonpayable")),new FunctionFragment(_guard,tt.name,rt,tt.inputs?tt.inputs.map(ParamType.from):[],tt.outputs?tt.outputs.map(ParamType.from):[],tt.gas!=null?tt.gas:null)}static isFragment(tt){return tt&&tt[internal$1]===FunctionFragmentInternal}}class StructFragment extends NamedFragment{constructor(et,tt,rt){super(et,"struct",tt,rt),Object.defineProperty(this,internal$1,{value:StructFragmentInternal})}format(){throw new Error("@TODO")}static from(et){if(typeof et=="string")try{return StructFragment.from(lex(et))}catch{assertArgument(!1,"invalid struct fragment","obj",et)}else if(et instanceof TokenString){const tt=consumeName("struct",et),rt=consumeParams(et);return consumeEoi(et),new StructFragment(_guard,tt,rt)}return new StructFragment(_guard,et.name,et.inputs?et.inputs.map(ParamType.from):[])}static isFragment(et){return et&&et[internal$1]===StructFragmentInternal}}const PanicReasons$1=new Map;PanicReasons$1.set(0,"GENERIC_PANIC");PanicReasons$1.set(1,"ASSERT_FALSE");PanicReasons$1.set(17,"OVERFLOW");PanicReasons$1.set(18,"DIVIDE_BY_ZERO");PanicReasons$1.set(33,"ENUM_RANGE_ERROR");PanicReasons$1.set(34,"BAD_STORAGE_DATA");PanicReasons$1.set(49,"STACK_UNDERFLOW");PanicReasons$1.set(50,"ARRAY_RANGE_ERROR");PanicReasons$1.set(65,"OUT_OF_MEMORY");PanicReasons$1.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder=null,defaultMaxInflation=1024;function getBuiltinCallException(_e,et,tt,rt){let nt="missing revert data",ot=null;const st=null;let at=null;if(tt){nt="execution reverted";const lt=getBytes(tt);if(tt=hexlify(tt),lt.length===0)nt+=" (no data present; likely require(false) occurred",ot="require(false)";else if(lt.length%32!==4)nt+=" (could not decode reason; invalid data length)";else if(hexlify(lt.slice(0,4))==="0x08c379a0")try{ot=rt.decode(["string"],lt.slice(4))[0],at={signature:"Error(string)",name:"Error",args:[ot]},nt+=`: ${JSON.stringify(ot)}`}catch{nt+=" (could not decode reason; invalid string data)"}else if(hexlify(lt.slice(0,4))==="0x4e487b71")try{const dt=Number(rt.decode(["uint256"],lt.slice(4))[0]);at={signature:"Panic(uint256)",name:"Panic",args:[dt]},ot=`Panic due to ${PanicReasons$1.get(dt)||"UNKNOWN"}(${dt})`,nt+=`: ${ot}`}catch{nt+=" (could not decode panic code)"}else nt+=" (unknown custom error)"}const ct={to:et.to?getAddress(et.to):null,data:et.data||"0x"};return et.from&&(ct.from=getAddress(et.from)),makeError(nt,"CALL_EXCEPTION",{action:_e,data:tt,reason:ot,transaction:ct,invocation:st,revert:at})}var yn,ro;const $s=class $s{constructor(){Ot(this,yn)}getDefaultValue(et){const tt=et.map(nt=>Ut(this,yn,ro).call(this,ParamType.from(nt)));return new TupleCoder(tt,"_").defaultValue()}encode(et,tt){assertArgumentCount(tt.length,et.length,"types/values length mismatch");const rt=et.map(st=>Ut(this,yn,ro).call(this,ParamType.from(st))),nt=new TupleCoder(rt,"_"),ot=new Writer$3;return nt.encode(ot,tt),ot.data}decode(et,tt,rt){const nt=et.map(st=>Ut(this,yn,ro).call(this,ParamType.from(st)));return new TupleCoder(nt,"_").decode(new Reader$2(tt,rt,defaultMaxInflation))}static _setDefaultMaxInflation(et){assertArgument(typeof et=="number"&&Number.isInteger(et),"invalid defaultMaxInflation factor","value",et),defaultMaxInflation=et}static defaultAbiCoder(){return defaultCoder==null&&(defaultCoder=new $s),defaultCoder}static getBuiltinCallException(et,tt,rt){return getBuiltinCallException(et,tt,rt,$s.defaultAbiCoder())}};yn=new WeakSet,ro=function(et){if(et.isArray())return new ArrayCoder(Ut(this,yn,ro).call(this,et.arrayChildren),et.arrayLength,et.name);if(et.isTuple())return new TupleCoder(et.components.map(rt=>Ut(this,yn,ro).call(this,rt)),et.name);switch(et.baseType){case"address":return new AddressCoder(et.name);case"bool":return new BooleanCoder(et.name);case"string":return new StringCoder(et.name);case"bytes":return new BytesCoder(et.name);case"":return new NullCoder(et.name)}let tt=et.type.match(paramTypeNumber);if(tt){let rt=parseInt(tt[2]||"256");return assertArgument(rt!==0&&rt<=256&&rt%8===0,"invalid "+tt[1]+" bit length","param",et),new NumberCoder(rt/8,tt[1]==="int",et.name)}if(tt=et.type.match(paramTypeBytes),tt){let rt=parseInt(tt[1]);return assertArgument(rt!==0&&rt<=32,"invalid bytes length","param",et),new FixedBytesCoder(rt,et.name)}assertArgument(!1,"invalid type","type",et.type)};let AbiCoder=$s;function encodeBytes32String(_e){const et=toUtf8Bytes(_e);if(et.length>31)throw new Error("bytes32 string must be less than 32 bytes");return zeroPadBytes(et,32)}class LogDescription{constructor(et,tt,rt){Nt(this,"fragment");Nt(this,"name");Nt(this,"signature");Nt(this,"topic");Nt(this,"args");const nt=et.name,ot=et.format();defineProperties(this,{fragment:et,name:nt,signature:ot,topic:tt,args:rt})}}class TransactionDescription{constructor(et,tt,rt,nt){Nt(this,"fragment");Nt(this,"name");Nt(this,"args");Nt(this,"signature");Nt(this,"selector");Nt(this,"value");const ot=et.name,st=et.format();defineProperties(this,{fragment:et,name:ot,args:rt,signature:st,selector:tt,value:nt})}}class ErrorDescription{constructor(et,tt,rt){Nt(this,"fragment");Nt(this,"name");Nt(this,"args");Nt(this,"signature");Nt(this,"selector");const nt=et.name,ot=et.format();defineProperties(this,{fragment:et,name:nt,args:rt,signature:ot,selector:tt})}}let Indexed$1=class{constructor(et){Nt(this,"hash");Nt(this,"_isIndexed");defineProperties(this,{hash:et,_isIndexed:!0})}static isIndexed(et){return!!(et&&et._isIndexed)}};const PanicReasons={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:_e=>`reverted with reason string ${JSON.stringify(_e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:_e=>{let et="unknown panic code";return _e>=0&&_e<=255&&PanicReasons[_e.toString()]&&(et=PanicReasons[_e.toString()]),`reverted with panic code 0x${_e.toString(16)} (${et})`}}};var Hr,Wr,Vr,fr,Yr,vs,xs;const On=class On{constructor(et){Ot(this,Yr);Nt(this,"fragments");Nt(this,"deploy");Nt(this,"fallback");Nt(this,"receive");Ot(this,Hr);Ot(this,Wr);Ot(this,Vr);Ot(this,fr);let tt=[];typeof et=="string"?tt=JSON.parse(et):tt=et,Pt(this,Vr,new Map),Pt(this,Hr,new Map),Pt(this,Wr,new Map);const rt=[];for(const st of tt)try{rt.push(Fragment.from(st))}catch(at){console.log(`[Warning] Invalid Fragment ${JSON.stringify(st)}:`,at.message)}defineProperties(this,{fragments:Object.freeze(rt)});let nt=null,ot=!1;Pt(this,fr,this.getAbiCoder()),this.fragments.forEach((st,at)=>{let ct;switch(st.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}defineProperties(this,{deploy:st});return;case"fallback":st.inputs.length===0?ot=!0:(assertArgument(!nt||st.payable!==nt.payable,"conflicting fallback fragments",`fragments[${at}]`,st),nt=st,ot=nt.payable);return;case"function":ct=Et(this,Vr);break;case"event":ct=Et(this,Wr);break;case"error":ct=Et(this,Hr);break;default:return}const lt=st.format();ct.has(lt)||ct.set(lt,st)}),this.deploy||defineProperties(this,{deploy:ConstructorFragment.from("constructor()")}),defineProperties(this,{fallback:nt,receive:ot})}format(et){const tt=et?"minimal":"full";return this.fragments.map(nt=>nt.format(tt))}formatJson(){const et=this.fragments.map(tt=>tt.format("json"));return JSON.stringify(et.map(tt=>JSON.parse(tt)))}getAbiCoder(){return AbiCoder.defaultAbiCoder()}getFunctionName(et){const tt=Ut(this,Yr,vs).call(this,et,null,!1);return assertArgument(tt,"no matching function","key",et),tt.name}hasFunction(et){return!!Ut(this,Yr,vs).call(this,et,null,!1)}getFunction(et,tt){return Ut(this,Yr,vs).call(this,et,tt||null,!0)}forEachFunction(et){const tt=Array.from(Et(this,Vr).keys());tt.sort((rt,nt)=>rt.localeCompare(nt));for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];et(Et(this,Vr).get(nt),rt)}}getEventName(et){const tt=Ut(this,Yr,xs).call(this,et,null,!1);return assertArgument(tt,"no matching event","key",et),tt.name}hasEvent(et){return!!Ut(this,Yr,xs).call(this,et,null,!1)}getEvent(et,tt){return Ut(this,Yr,xs).call(this,et,tt||null,!0)}forEachEvent(et){const tt=Array.from(Et(this,Wr).keys());tt.sort((rt,nt)=>rt.localeCompare(nt));for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];et(Et(this,Wr).get(nt),rt)}}getError(et,tt){if(isHexString(et)){const nt=et.toLowerCase();if(BuiltinErrors[nt])return ErrorFragment.from(BuiltinErrors[nt].signature);for(const ot of Et(this,Hr).values())if(nt===ot.selector)return ot;return null}if(et.indexOf("(")===-1){const nt=[];for(const[ot,st]of Et(this,Hr))ot.split("(")[0]===et&&nt.push(st);if(nt.length===0)return et==="Error"?ErrorFragment.from("error Error(string)"):et==="Panic"?ErrorFragment.from("error Panic(uint256)"):null;if(nt.length>1){const ot=nt.map(st=>JSON.stringify(st.format())).join(", ");assertArgument(!1,`ambiguous error description (i.e. ${ot})`,"name",et)}return nt[0]}if(et=ErrorFragment.from(et).format(),et==="Error(string)")return ErrorFragment.from("error Error(string)");if(et==="Panic(uint256)")return ErrorFragment.from("error Panic(uint256)");const rt=Et(this,Hr).get(et);return rt||null}forEachError(et){const tt=Array.from(Et(this,Hr).keys());tt.sort((rt,nt)=>rt.localeCompare(nt));for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];et(Et(this,Hr).get(nt),rt)}}_decodeParams(et,tt){return Et(this,fr).decode(et,tt)}_encodeParams(et,tt){return Et(this,fr).encode(et,tt)}encodeDeploy(et){return this._encodeParams(this.deploy.inputs,et||[])}decodeErrorResult(et,tt){if(typeof et=="string"){const rt=this.getError(et);assertArgument(rt,"unknown error","fragment",et),et=rt}return assertArgument(dataSlice(tt,0,4)===et.selector,`data signature does not match error ${et.name}.`,"data",tt),this._decodeParams(et.inputs,dataSlice(tt,4))}encodeErrorResult(et,tt){if(typeof et=="string"){const rt=this.getError(et);assertArgument(rt,"unknown error","fragment",et),et=rt}return concat$2([et.selector,this._encodeParams(et.inputs,tt||[])])}decodeFunctionData(et,tt){if(typeof et=="string"){const rt=this.getFunction(et);assertArgument(rt,"unknown function","fragment",et),et=rt}return assertArgument(dataSlice(tt,0,4)===et.selector,`data signature does not match function ${et.name}.`,"data",tt),this._decodeParams(et.inputs,dataSlice(tt,4))}encodeFunctionData(et,tt){if(typeof et=="string"){const rt=this.getFunction(et);assertArgument(rt,"unknown function","fragment",et),et=rt}return concat$2([et.selector,this._encodeParams(et.inputs,tt||[])])}decodeFunctionResult(et,tt){if(typeof et=="string"){const ot=this.getFunction(et);assertArgument(ot,"unknown function","fragment",et),et=ot}let rt="invalid length for result data";const nt=getBytesCopy(tt);if(nt.length%32===0)try{return Et(this,fr).decode(et.outputs,nt)}catch{rt="could not decode result data"}assert$1(!1,rt,"BAD_DATA",{value:hexlify(nt),info:{method:et.name,signature:et.format()}})}makeError(et,tt){const rt=getBytes(et,"data"),nt=AbiCoder.getBuiltinCallException("call",tt,rt);if(nt.message.startsWith("execution reverted (unknown custom error)")){const at=hexlify(rt.slice(0,4)),ct=this.getError(at);if(ct)try{const lt=Et(this,fr).decode(ct.inputs,rt.slice(4));nt.revert={name:ct.name,signature:ct.format(),args:lt},nt.reason=nt.revert.signature,nt.message=`execution reverted: ${nt.reason}`}catch{nt.message="execution reverted (coult not decode custom error)"}}const st=this.parseTransaction(tt);return st&&(nt.invocation={method:st.name,signature:st.signature,args:st.args}),nt}encodeFunctionResult(et,tt){if(typeof et=="string"){const rt=this.getFunction(et);assertArgument(rt,"unknown function","fragment",et),et=rt}return hexlify(Et(this,fr).encode(et.outputs,tt||[]))}encodeFilterTopics(et,tt){if(typeof et=="string"){const ot=this.getEvent(et);assertArgument(ot,"unknown event","eventFragment",et),et=ot}assert$1(tt.length<=et.inputs.length,`too many arguments for ${et.format()}`,"UNEXPECTED_ARGUMENT",{count:tt.length,expectedCount:et.inputs.length});const rt=[];et.anonymous||rt.push(et.topicHash);const nt=(ot,st)=>ot.type==="string"?id(st):ot.type==="bytes"?keccak256(hexlify(st)):(ot.type==="bool"&&typeof st=="boolean"?st=st?"0x01":"0x00":ot.type.match(/^u?int/)?st=toBeHex(st):ot.type.match(/^bytes/)?st=zeroPadBytes(st,32):ot.type==="address"&&Et(this,fr).encode(["address"],[st]),zeroPadValue(hexlify(st),32));for(tt.forEach((ot,st)=>{const at=et.inputs[st];if(!at.indexed){assertArgument(ot==null,"cannot filter non-indexed parameters; must be null","contract."+at.name,ot);return}ot==null?rt.push(null):at.baseType==="array"||at.baseType==="tuple"?assertArgument(!1,"filtering with tuples or arrays not supported","contract."+at.name,ot):Array.isArray(ot)?rt.push(ot.map(ct=>nt(at,ct))):rt.push(nt(at,ot))});rt.length&&rt[rt.length-1]===null;)rt.pop();return rt}encodeEventLog(et,tt){if(typeof et=="string"){const st=this.getEvent(et);assertArgument(st,"unknown event","eventFragment",et),et=st}const rt=[],nt=[],ot=[];return et.anonymous||rt.push(et.topicHash),assertArgument(tt.length===et.inputs.length,"event arguments/values mismatch","values",tt),et.inputs.forEach((st,at)=>{const ct=tt[at];if(st.indexed)if(st.type==="string")rt.push(id(ct));else if(st.type==="bytes")rt.push(keccak256(ct));else{if(st.baseType==="tuple"||st.baseType==="array")throw new Error("not implemented");rt.push(Et(this,fr).encode([st.type],[ct]))}else nt.push(st),ot.push(ct)}),{data:Et(this,fr).encode(nt,ot),topics:rt}}decodeEventLog(et,tt,rt){if(typeof et=="string"){const pt=this.getEvent(et);assertArgument(pt,"unknown event","eventFragment",et),et=pt}if(rt!=null&&!et.anonymous){const pt=et.topicHash;assertArgument(isHexString(rt[0],32)&&rt[0].toLowerCase()===pt,"fragment/topic mismatch","topics[0]",rt[0]),rt=rt.slice(1)}const nt=[],ot=[],st=[];et.inputs.forEach((pt,gt)=>{pt.indexed?pt.type==="string"||pt.type==="bytes"||pt.baseType==="tuple"||pt.baseType==="array"?(nt.push(ParamType.from({type:"bytes32",name:pt.name})),st.push(!0)):(nt.push(pt),st.push(!1)):(ot.push(pt),st.push(!1))});const at=rt!=null?Et(this,fr).decode(nt,concat$2(rt)):null,ct=Et(this,fr).decode(ot,tt,!0),lt=[],dt=[];let ft=0,ht=0;return et.inputs.forEach((pt,gt)=>{let mt=null;if(pt.indexed)if(at==null)mt=new Indexed$1(null);else if(st[gt])mt=new Indexed$1(at[ht++]);else try{mt=at[ht++]}catch(vt){mt=vt}else try{mt=ct[ft++]}catch(vt){mt=vt}lt.push(mt),dt.push(pt.name||null)}),Result.fromItems(lt,dt)}parseTransaction(et){const tt=getBytes(et.data,"tx.data"),rt=getBigInt(et.value!=null?et.value:0,"tx.value"),nt=this.getFunction(hexlify(tt.slice(0,4)));if(!nt)return null;const ot=Et(this,fr).decode(nt.inputs,tt.slice(4));return new TransactionDescription(nt,nt.selector,ot,rt)}parseCallResult(et){throw new Error("@TODO")}parseLog(et){const tt=this.getEvent(et.topics[0]);return!tt||tt.anonymous?null:new LogDescription(tt,tt.topicHash,this.decodeEventLog(tt,et.data,et.topics))}parseError(et){const tt=hexlify(et),rt=this.getError(dataSlice(tt,0,4));if(!rt)return null;const nt=Et(this,fr).decode(rt.inputs,dataSlice(tt,4));return new ErrorDescription(rt,rt.selector,nt)}static from(et){return et instanceof On?et:typeof et=="string"?new On(JSON.parse(et)):typeof et.formatJson=="function"?new On(et.formatJson()):typeof et.format=="function"?new On(et.format("json")):new On(et)}};Hr=new WeakMap,Wr=new WeakMap,Vr=new WeakMap,fr=new WeakMap,Yr=new WeakSet,vs=function(et,tt,rt){if(isHexString(et)){const ot=et.toLowerCase();for(const st of Et(this,Vr).values())if(ot===st.selector)return st;return null}if(et.indexOf("(")===-1){const ot=[];for(const[st,at]of Et(this,Vr))st.split("(")[0]===et&&ot.push(at);if(tt){const st=tt.length>0?tt[tt.length-1]:null;let at=tt.length,ct=!0;Typed.isTyped(st)&&st.type==="overrides"&&(ct=!1,at--);for(let lt=ot.length-1;lt>=0;lt--){const dt=ot[lt].inputs.length;dt!==at&&(!ct||dt!==at-1)&&ot.splice(lt,1)}for(let lt=ot.length-1;lt>=0;lt--){const dt=ot[lt].inputs;for(let ft=0;ft<tt.length;ft++)if(Typed.isTyped(tt[ft])){if(ft>=dt.length){if(tt[ft].type==="overrides")continue;ot.splice(lt,1);break}if(tt[ft].type!==dt[ft].baseType){ot.splice(lt,1);break}}}}if(ot.length===1&&tt&&tt.length!==ot[0].inputs.length){const st=tt[tt.length-1];(st==null||Array.isArray(st)||typeof st!="object")&&ot.splice(0,1)}if(ot.length===0)return null;if(ot.length>1&&rt){const st=ot.map(at=>JSON.stringify(at.format())).join(", ");assertArgument(!1,`ambiguous function description (i.e. matches ${st})`,"key",et)}return ot[0]}const nt=Et(this,Vr).get(FunctionFragment.from(et).format());return nt||null},xs=function(et,tt,rt){if(isHexString(et)){const ot=et.toLowerCase();for(const st of Et(this,Wr).values())if(ot===st.topicHash)return st;return null}if(et.indexOf("(")===-1){const ot=[];for(const[st,at]of Et(this,Wr))st.split("(")[0]===et&&ot.push(at);if(tt){for(let st=ot.length-1;st>=0;st--)ot[st].inputs.length<tt.length&&ot.splice(st,1);for(let st=ot.length-1;st>=0;st--){const at=ot[st].inputs;for(let ct=0;ct<tt.length;ct++)if(Typed.isTyped(tt[ct])&&tt[ct].type!==at[ct].baseType){ot.splice(st,1);break}}}if(ot.length===0)return null;if(ot.length>1&&rt){const st=ot.map(at=>JSON.stringify(at.format())).join(", ");assertArgument(!1,`ambiguous event description (i.e. matches ${st})`,"key",et)}return ot[0]}const nt=Et(this,Wr).get(EventFragment.from(et).format());return nt||null};let Interface=On;const BN_0$2=BigInt(0);function getValue(_e){return _e??null}function toJson(_e){return _e==null?null:_e.toString()}class FeeData{constructor(et,tt,rt){Nt(this,"gasPrice");Nt(this,"maxFeePerGas");Nt(this,"maxPriorityFeePerGas");defineProperties(this,{gasPrice:getValue(et),maxFeePerGas:getValue(tt),maxPriorityFeePerGas:getValue(rt)})}toJSON(){const{gasPrice:et,maxFeePerGas:tt,maxPriorityFeePerGas:rt}=this;return{_type:"FeeData",gasPrice:toJson(et),maxFeePerGas:toJson(tt),maxPriorityFeePerGas:toJson(rt)}}}function copyRequest(_e){const et={};_e.to&&(et.to=_e.to),_e.from&&(et.from=_e.from),_e.data&&(et.data=hexlify(_e.data));const tt="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const nt of tt)!(nt in _e)||_e[nt]==null||(et[nt]=getBigInt(_e[nt],`request.${nt}`));const rt="type,nonce".split(/,/);for(const nt of rt)!(nt in _e)||_e[nt]==null||(et[nt]=getNumber(_e[nt],`request.${nt}`));return _e.accessList&&(et.accessList=accessListify(_e.accessList)),_e.authorizationList&&(et.authorizationList=_e.authorizationList.slice()),"blockTag"in _e&&(et.blockTag=_e.blockTag),"enableCcipRead"in _e&&(et.enableCcipRead=!!_e.enableCcipRead),"customData"in _e&&(et.customData=_e.customData),"blobVersionedHashes"in _e&&_e.blobVersionedHashes&&(et.blobVersionedHashes=_e.blobVersionedHashes.slice()),"kzg"in _e&&(et.kzg=_e.kzg),"blobs"in _e&&_e.blobs&&(et.blobs=_e.blobs.map(nt=>isBytesLike(nt)?hexlify(nt):Object.assign({},nt))),et}var nn;class Block{constructor(et,tt){Nt(this,"provider");Nt(this,"number");Nt(this,"hash");Nt(this,"timestamp");Nt(this,"parentHash");Nt(this,"parentBeaconBlockRoot");Nt(this,"nonce");Nt(this,"difficulty");Nt(this,"gasLimit");Nt(this,"gasUsed");Nt(this,"stateRoot");Nt(this,"receiptsRoot");Nt(this,"blobGasUsed");Nt(this,"excessBlobGas");Nt(this,"miner");Nt(this,"prevRandao");Nt(this,"extraData");Nt(this,"baseFeePerGas");Ot(this,nn);Pt(this,nn,et.transactions.map(rt=>typeof rt!="string"?new TransactionResponse(rt,tt):rt)),defineProperties(this,{provider:tt,hash:getValue(et.hash),number:et.number,timestamp:et.timestamp,parentHash:et.parentHash,parentBeaconBlockRoot:et.parentBeaconBlockRoot,nonce:et.nonce,difficulty:et.difficulty,gasLimit:et.gasLimit,gasUsed:et.gasUsed,blobGasUsed:et.blobGasUsed,excessBlobGas:et.excessBlobGas,miner:et.miner,prevRandao:getValue(et.prevRandao),extraData:et.extraData,baseFeePerGas:getValue(et.baseFeePerGas),stateRoot:et.stateRoot,receiptsRoot:et.receiptsRoot})}get transactions(){return Et(this,nn).map(et=>typeof et=="string"?et:et.hash)}get prefetchedTransactions(){const et=Et(this,nn).slice();return et.length===0?[]:(assert$1(typeof et[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),et)}toJSON(){const{baseFeePerGas:et,difficulty:tt,extraData:rt,gasLimit:nt,gasUsed:ot,hash:st,miner:at,prevRandao:ct,nonce:lt,number:dt,parentHash:ft,parentBeaconBlockRoot:ht,stateRoot:pt,receiptsRoot:gt,timestamp:mt,transactions:vt}=this;return{_type:"Block",baseFeePerGas:toJson(et),difficulty:toJson(tt),extraData:rt,gasLimit:toJson(nt),gasUsed:toJson(ot),blobGasUsed:toJson(this.blobGasUsed),excessBlobGas:toJson(this.excessBlobGas),hash:st,miner:at,prevRandao:ct,nonce:lt,number:dt,parentHash:ft,timestamp:mt,parentBeaconBlockRoot:ht,stateRoot:pt,receiptsRoot:gt,transactions:vt}}[Symbol.iterator](){let et=0;const tt=this.transactions;return{next:()=>et<this.length?{value:tt[et++],done:!1}:{value:void 0,done:!0}}}get length(){return Et(this,nn).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(et){let tt;if(typeof et=="number")tt=Et(this,nn)[et];else{const rt=et.toLowerCase();for(const nt of Et(this,nn))if(typeof nt=="string"){if(nt!==rt)continue;tt=nt;break}else{if(nt.hash!==rt)continue;tt=nt;break}}if(tt==null)throw new Error("no such tx");return typeof tt=="string"?await this.provider.getTransaction(tt):tt}getPrefetchedTransaction(et){const tt=this.prefetchedTransactions;if(typeof et=="number")return tt[et];et=et.toLowerCase();for(const rt of tt)if(rt.hash===et)return rt;assertArgument(!1,"no matching transaction","indexOrHash",et)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return createOrphanedBlockFilter(this)}}nn=new WeakMap;class Log{constructor(et,tt){Nt(this,"provider");Nt(this,"transactionHash");Nt(this,"blockHash");Nt(this,"blockNumber");Nt(this,"removed");Nt(this,"address");Nt(this,"data");Nt(this,"topics");Nt(this,"index");Nt(this,"transactionIndex");this.provider=tt;const rt=Object.freeze(et.topics.slice());defineProperties(this,{transactionHash:et.transactionHash,blockHash:et.blockHash,blockNumber:et.blockNumber,removed:et.removed,address:et.address,data:et.data,topics:rt,index:et.index,transactionIndex:et.transactionIndex})}toJSON(){const{address:et,blockHash:tt,blockNumber:rt,data:nt,index:ot,removed:st,topics:at,transactionHash:ct,transactionIndex:lt}=this;return{_type:"log",address:et,blockHash:tt,blockNumber:rt,data:nt,index:ot,removed:st,topics:at,transactionHash:ct,transactionIndex:lt}}async getBlock(){const et=await this.provider.getBlock(this.blockHash);return assert$1(!!et,"failed to find transaction","UNKNOWN_ERROR",{}),et}async getTransaction(){const et=await this.provider.getTransaction(this.transactionHash);return assert$1(!!et,"failed to find transaction","UNKNOWN_ERROR",{}),et}async getTransactionReceipt(){const et=await this.provider.getTransactionReceipt(this.transactionHash);return assert$1(!!et,"failed to find transaction receipt","UNKNOWN_ERROR",{}),et}removedEvent(){return createRemovedLogFilter(this)}}var as;class TransactionReceipt{constructor(et,tt){Nt(this,"provider");Nt(this,"to");Nt(this,"from");Nt(this,"contractAddress");Nt(this,"hash");Nt(this,"index");Nt(this,"blockHash");Nt(this,"blockNumber");Nt(this,"logsBloom");Nt(this,"gasUsed");Nt(this,"blobGasUsed");Nt(this,"cumulativeGasUsed");Nt(this,"gasPrice");Nt(this,"blobGasPrice");Nt(this,"type");Nt(this,"status");Nt(this,"root");Ot(this,as);Pt(this,as,Object.freeze(et.logs.map(nt=>new Log(nt,tt))));let rt=BN_0$2;et.effectiveGasPrice!=null?rt=et.effectiveGasPrice:et.gasPrice!=null&&(rt=et.gasPrice),defineProperties(this,{provider:tt,to:et.to,from:et.from,contractAddress:et.contractAddress,hash:et.hash,index:et.index,blockHash:et.blockHash,blockNumber:et.blockNumber,logsBloom:et.logsBloom,gasUsed:et.gasUsed,cumulativeGasUsed:et.cumulativeGasUsed,blobGasUsed:et.blobGasUsed,gasPrice:rt,blobGasPrice:et.blobGasPrice,type:et.type,status:et.status,root:et.root})}get logs(){return Et(this,as)}toJSON(){const{to:et,from:tt,contractAddress:rt,hash:nt,index:ot,blockHash:st,blockNumber:at,logsBloom:ct,logs:lt,status:dt,root:ft}=this;return{_type:"TransactionReceipt",blockHash:st,blockNumber:at,contractAddress:rt,cumulativeGasUsed:toJson(this.cumulativeGasUsed),from:tt,gasPrice:toJson(this.gasPrice),blobGasUsed:toJson(this.blobGasUsed),blobGasPrice:toJson(this.blobGasPrice),gasUsed:toJson(this.gasUsed),hash:nt,index:ot,logs:lt,logsBloom:ct,root:ft,status:dt,to:et}}get length(){return this.logs.length}[Symbol.iterator](){let et=0;return{next:()=>et<this.length?{value:this.logs[et++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const et=await this.provider.getBlock(this.blockHash);if(et==null)throw new Error("TODO");return et}async getTransaction(){const et=await this.provider.getTransaction(this.hash);if(et==null)throw new Error("TODO");return et}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter(this)}reorderedEvent(et){return assert$1(!et||et.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),createReorderedTransactionFilter(this,et)}}as=new WeakMap;var vn;const Hs=class Hs{constructor(et,tt){Nt(this,"provider");Nt(this,"blockNumber");Nt(this,"blockHash");Nt(this,"index");Nt(this,"hash");Nt(this,"type");Nt(this,"to");Nt(this,"from");Nt(this,"nonce");Nt(this,"gasLimit");Nt(this,"gasPrice");Nt(this,"maxPriorityFeePerGas");Nt(this,"maxFeePerGas");Nt(this,"maxFeePerBlobGas");Nt(this,"data");Nt(this,"value");Nt(this,"chainId");Nt(this,"signature");Nt(this,"accessList");Nt(this,"blobVersionedHashes");Nt(this,"authorizationList");Ot(this,vn);this.provider=tt,this.blockNumber=et.blockNumber!=null?et.blockNumber:null,this.blockHash=et.blockHash!=null?et.blockHash:null,this.hash=et.hash,this.index=et.index,this.type=et.type,this.from=et.from,this.to=et.to||null,this.gasLimit=et.gasLimit,this.nonce=et.nonce,this.data=et.data,this.value=et.value,this.gasPrice=et.gasPrice,this.maxPriorityFeePerGas=et.maxPriorityFeePerGas!=null?et.maxPriorityFeePerGas:null,this.maxFeePerGas=et.maxFeePerGas!=null?et.maxFeePerGas:null,this.maxFeePerBlobGas=et.maxFeePerBlobGas!=null?et.maxFeePerBlobGas:null,this.chainId=et.chainId,this.signature=et.signature,this.accessList=et.accessList!=null?et.accessList:null,this.blobVersionedHashes=et.blobVersionedHashes!=null?et.blobVersionedHashes:null,this.authorizationList=et.authorizationList!=null?et.authorizationList:null,Pt(this,vn,-1)}toJSON(){const{blockNumber:et,blockHash:tt,index:rt,hash:nt,type:ot,to:st,from:at,nonce:ct,data:lt,signature:dt,accessList:ft,blobVersionedHashes:ht}=this;return{_type:"TransactionResponse",accessList:ft,blockNumber:et,blockHash:tt,blobVersionedHashes:ht,chainId:toJson(this.chainId),data:lt,from:at,gasLimit:toJson(this.gasLimit),gasPrice:toJson(this.gasPrice),hash:nt,maxFeePerGas:toJson(this.maxFeePerGas),maxPriorityFeePerGas:toJson(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson(this.maxFeePerBlobGas),nonce:ct,signature:dt,to:st,index:rt,type:ot,value:toJson(this.value)}}async getBlock(){let et=this.blockNumber;if(et==null){const rt=await this.getTransaction();rt&&(et=rt.blockNumber)}if(et==null)return null;const tt=this.provider.getBlock(et);if(tt==null)throw new Error("TODO");return tt}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:tt,blockNumber:rt}=await resolveProperties({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return tt==null||tt.blockNumber==null?0:rt-tt.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(et,tt){const rt=et??1,nt=tt??0;let ot=Et(this,vn),st=-1,at=ot===-1;const ct=async()=>{if(at)return null;const{blockNumber:ht,nonce:pt}=await resolveProperties({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(pt<this.nonce){ot=ht;return}if(at)return null;const gt=await this.getTransaction();if(!(gt&&gt.blockNumber!=null))for(st===-1&&(st=ot-3,st<Et(this,vn)&&(st=Et(this,vn)));st<=ht;){if(at)return null;const mt=await this.provider.getBlock(st,!0);if(mt==null)return;for(const vt of mt)if(vt===this.hash)return;for(let vt=0;vt<mt.length;vt++){const yt=await mt.getTransaction(vt);if(yt.from===this.from&&yt.nonce===this.nonce){if(at)return null;const bt=await this.provider.getTransactionReceipt(yt.hash);if(bt==null||ht-bt.blockNumber+1<rt)return;let xt="replaced";yt.data===this.data&&yt.to===this.to&&yt.value===this.value?xt="repriced":yt.data==="0x"&&yt.from===yt.to&&yt.value===BN_0$2&&(xt="cancelled"),assert$1(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:xt==="replaced"||xt==="cancelled",reason:xt,replacement:yt.replaceableTransaction(ot),hash:yt.hash,receipt:bt})}}st++}},lt=ht=>{if(ht==null||ht.status!==0)return ht;assert$1(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:ht.to,from:ht.from,data:""},receipt:ht})},dt=await this.provider.getTransactionReceipt(this.hash);if(rt===0)return lt(dt);if(dt){if(rt===1||await dt.confirmations()>=rt)return lt(dt)}else if(await ct(),rt===0)return null;return await new Promise((ht,pt)=>{const gt=[],mt=()=>{gt.forEach(yt=>yt())};if(gt.push(()=>{at=!0}),nt>0){const yt=setTimeout(()=>{mt(),pt(makeError("wait for transaction timeout","TIMEOUT"))},nt);gt.push(()=>{clearTimeout(yt)})}const vt=async yt=>{if(await yt.confirmations()>=rt){mt();try{ht(lt(yt))}catch(bt){pt(bt)}}};if(gt.push(()=>{this.provider.off(this.hash,vt)}),this.provider.on(this.hash,vt),ot>=0){const yt=async()=>{try{await ct()}catch(bt){if(isError(bt,"TRANSACTION_REPLACED")){mt(),pt(bt);return}}at||this.provider.once("block",yt)};gt.push(()=>{this.provider.off("block",yt)}),this.provider.once("block",yt)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return assert$1(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createRemovedTransactionFilter(this)}reorderedEvent(et){return assert$1(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),assert$1(!et||et.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createReorderedTransactionFilter(this,et)}replaceableTransaction(et){assertArgument(Number.isInteger(et)&&et>=0,"invalid startBlock","startBlock",et);const tt=new Hs(this,this.provider);return Pt(tt,vn,et),tt}};vn=new WeakMap;let TransactionResponse=Hs;function createOrphanedBlockFilter(_e){return{orphan:"drop-block",hash:_e.hash,number:_e.number}}function createReorderedTransactionFilter(_e,et){return{orphan:"reorder-transaction",tx:_e,other:et}}function createRemovedTransactionFilter(_e){return{orphan:"drop-transaction",tx:_e}}function createRemovedLogFilter(_e){return{orphan:"drop-log",log:{transactionHash:_e.transactionHash,blockHash:_e.blockHash,blockNumber:_e.blockNumber,address:_e.address,data:_e.data,topics:Object.freeze(_e.topics.slice()),index:_e.index}}}class EventLog extends Log{constructor(tt,rt,nt){super(tt,tt.provider);Nt(this,"interface");Nt(this,"fragment");Nt(this,"args");const ot=rt.decodeEventLog(nt,tt.data,tt.topics);defineProperties(this,{args:ot,fragment:nt,interface:rt})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class UndecodedEventLog extends Log{constructor(tt,rt){super(tt,tt.provider);Nt(this,"error");defineProperties(this,{error:rt})}}var jo;class ContractTransactionReceipt extends TransactionReceipt{constructor(tt,rt,nt){super(nt,rt);Ot(this,jo);Pt(this,jo,tt)}get logs(){return super.logs.map(tt=>{const rt=tt.topics.length?Et(this,jo).getEvent(tt.topics[0]):null;if(rt)try{return new EventLog(tt,Et(this,jo),rt)}catch(nt){return new UndecodedEventLog(tt,nt)}return tt})}}jo=new WeakMap;var cs;class ContractTransactionResponse extends TransactionResponse{constructor(tt,rt,nt){super(nt,rt);Ot(this,cs);Pt(this,cs,tt)}async wait(tt,rt){const nt=await super.wait(tt,rt);return nt==null?null:new ContractTransactionReceipt(Et(this,cs),this.provider,nt)}}cs=new WeakMap;class ContractUnknownEventPayload extends EventPayload{constructor(tt,rt,nt,ot){super(tt,rt,nt);Nt(this,"log");defineProperties(this,{log:ot})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ContractEventPayload extends ContractUnknownEventPayload{constructor(et,tt,rt,nt,ot){super(et,tt,rt,new EventLog(ot,et.interface,nt));const st=et.interface.decodeEventLog(nt,this.log.data,this.log.topics);defineProperties(this,{args:st,fragment:nt})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const BN_0$1=BigInt(0);function canCall(_e){return _e&&typeof _e.call=="function"}function canEstimate(_e){return _e&&typeof _e.estimateGas=="function"}function canResolve(_e){return _e&&typeof _e.resolveName=="function"}function canSend(_e){return _e&&typeof _e.sendTransaction=="function"}function getResolver(_e){if(_e!=null){if(canResolve(_e))return _e;if(_e.provider)return _e.provider}}var ls;class PreparedTopicFilter{constructor(et,tt,rt){Ot(this,ls);Nt(this,"fragment");if(defineProperties(this,{fragment:tt}),tt.inputs.length<rt.length)throw new Error("too many arguments");const nt=getRunner(et.runner,"resolveName"),ot=canResolve(nt)?nt:null;Pt(this,ls,async function(){const st=await Promise.all(tt.inputs.map((at,ct)=>rt[ct]==null?null:at.walkAsync(rt[ct],(dt,ft)=>dt==="address"?Array.isArray(ft)?Promise.all(ft.map(ht=>resolveAddress(ht,ot))):resolveAddress(ft,ot):ft)));return et.interface.encodeFilterTopics(tt,st)}())}getTopicFilter(){return Et(this,ls)}}ls=new WeakMap;function getRunner(_e,et){return _e==null?null:typeof _e[et]=="function"?_e:_e.provider&&typeof _e.provider[et]=="function"?_e.provider:null}function getProvider(_e){return _e==null?null:_e.provider||null}async function copyOverrides(_e,et){const tt=Typed.dereference(_e,"overrides");assertArgument(typeof tt=="object","invalid overrides parameter","overrides",_e);const rt=copyRequest(tt);return assertArgument(rt.to==null||(et||[]).indexOf("to")>=0,"cannot override to","overrides.to",rt.to),assertArgument(rt.data==null||(et||[]).indexOf("data")>=0,"cannot override data","overrides.data",rt.data),rt.from&&(rt.from=rt.from),rt}async function resolveArgs(_e,et,tt){const rt=getRunner(_e,"resolveName"),nt=canResolve(rt)?rt:null;return await Promise.all(et.map((ot,st)=>ot.walkAsync(tt[st],(at,ct)=>(ct=Typed.dereference(ct,at),at==="address"?resolveAddress(ct,nt):ct))))}function buildWrappedFallback(_e){const et=async function(st){const at=await copyOverrides(st,["data"]);at.to=await _e.getAddress(),at.from&&(at.from=await resolveAddress(at.from,getResolver(_e.runner)));const ct=_e.interface,lt=getBigInt(at.value||BN_0$1,"overrides.value")===BN_0$1,dt=(at.data||"0x")==="0x";ct.fallback&&!ct.fallback.payable&&ct.receive&&!dt&&!lt&&assertArgument(!1,"cannot send data to receive or send value to non-payable fallback","overrides",st),assertArgument(ct.fallback||dt,"cannot send data to receive-only contract","overrides.data",at.data);const ft=ct.receive||ct.fallback&&ct.fallback.payable;return assertArgument(ft||lt,"cannot send value to non-payable fallback","overrides.value",at.value),assertArgument(ct.fallback||dt,"cannot send data to receive-only contract","overrides.data",at.data),at},tt=async function(st){const at=getRunner(_e.runner,"call");assert$1(canCall(at),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const ct=await et(st);try{return await at.call(ct)}catch(lt){throw isCallException(lt)&&lt.data?_e.interface.makeError(lt.data,ct):lt}},rt=async function(st){const at=_e.runner;assert$1(canSend(at),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const ct=await at.sendTransaction(await et(st)),lt=getProvider(_e.runner);return new ContractTransactionResponse(_e.interface,lt,ct)},nt=async function(st){const at=getRunner(_e.runner,"estimateGas");return assert$1(canEstimate(at),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await at.estimateGas(await et(st))},ot=async st=>await rt(st);return defineProperties(ot,{_contract:_e,estimateGas:nt,populateTransaction:et,send:rt,staticCall:tt}),ot}function buildWrappedMethod(_e,et){const tt=function(...lt){const dt=_e.interface.getFunction(et,lt);return assert$1(dt,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:et,args:lt}}),dt},rt=async function(...lt){const dt=tt(...lt);let ft={};if(dt.inputs.length+1===lt.length&&(ft=await copyOverrides(lt.pop()),ft.from&&(ft.from=await resolveAddress(ft.from,getResolver(_e.runner)))),dt.inputs.length!==lt.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const ht=await resolveArgs(_e.runner,dt.inputs,lt);return Object.assign({},ft,await resolveProperties({to:_e.getAddress(),data:_e.interface.encodeFunctionData(dt,ht)}))},nt=async function(...lt){const dt=await at(...lt);return dt.length===1?dt[0]:dt},ot=async function(...lt){const dt=_e.runner;assert$1(canSend(dt),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const ft=await dt.sendTransaction(await rt(...lt)),ht=getProvider(_e.runner);return new ContractTransactionResponse(_e.interface,ht,ft)},st=async function(...lt){const dt=getRunner(_e.runner,"estimateGas");return assert$1(canEstimate(dt),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await dt.estimateGas(await rt(...lt))},at=async function(...lt){const dt=getRunner(_e.runner,"call");assert$1(canCall(dt),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const ft=await rt(...lt);let ht="0x";try{ht=await dt.call(ft)}catch(gt){throw isCallException(gt)&&gt.data?_e.interface.makeError(gt.data,ft):gt}const pt=tt(...lt);return _e.interface.decodeFunctionResult(pt,ht)},ct=async(...lt)=>tt(...lt).constant?await nt(...lt):await ot(...lt);return defineProperties(ct,{name:_e.interface.getFunctionName(et),_contract:_e,_key:et,getFragment:tt,estimateGas:st,populateTransaction:rt,send:ot,staticCall:nt,staticCallResult:at}),Object.defineProperty(ct,"fragment",{configurable:!1,enumerable:!0,get:()=>{const lt=_e.interface.getFunction(et);return assert$1(lt,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:et}}),lt}}),ct}function buildWrappedEvent(_e,et){const tt=function(...nt){const ot=_e.interface.getEvent(et,nt);return assert$1(ot,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:et,args:nt}}),ot},rt=function(...nt){return new PreparedTopicFilter(_e,tt(...nt),nt)};return defineProperties(rt,{name:_e.interface.getEventName(et),_contract:_e,_key:et,getFragment:tt}),Object.defineProperty(rt,"fragment",{configurable:!1,enumerable:!0,get:()=>{const nt=_e.interface.getEvent(et);return assert$1(nt,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:et}}),nt}}),rt}const internal=Symbol.for("_ethersInternal_contract"),internalValues=new WeakMap;function setInternal(_e,et){internalValues.set(_e[internal],et)}function getInternal(_e){return internalValues.get(_e[internal])}function isDeferred(_e){return _e&&typeof _e=="object"&&"getTopicFilter"in _e&&typeof _e.getTopicFilter=="function"&&_e.fragment}async function getSubInfo(_e,et){let tt,rt=null;if(Array.isArray(et)){const ot=function(st){if(isHexString(st,32))return st;const at=_e.interface.getEvent(st);return assertArgument(at,"unknown fragment","name",st),at.topicHash};tt=et.map(st=>st==null?null:Array.isArray(st)?st.map(ot):ot(st))}else et==="*"?tt=[null]:typeof et=="string"?isHexString(et,32)?tt=[et]:(rt=_e.interface.getEvent(et),assertArgument(rt,"unknown fragment","event",et),tt=[rt.topicHash]):isDeferred(et)?tt=await et.getTopicFilter():"fragment"in et?(rt=et.fragment,tt=[rt.topicHash]):assertArgument(!1,"unknown event name","event",et);tt=tt.map(ot=>{if(ot==null)return null;if(Array.isArray(ot)){const st=Array.from(new Set(ot.map(at=>at.toLowerCase())).values());return st.length===1?st[0]:(st.sort(),st)}return ot.toLowerCase()});const nt=tt.map(ot=>ot==null?"null":Array.isArray(ot)?ot.join("|"):ot).join("&");return{fragment:rt,tag:nt,topics:tt}}async function hasSub(_e,et){const{subs:tt}=getInternal(_e);return tt.get((await getSubInfo(_e,et)).tag)||null}async function getSub(_e,et,tt){const rt=getProvider(_e.runner);assert$1(rt,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:et});const{fragment:nt,tag:ot,topics:st}=await getSubInfo(_e,tt),{addr:at,subs:ct}=getInternal(_e);let lt=ct.get(ot);if(!lt){const ft={address:at||_e,topics:st},ht=vt=>{let yt=nt;if(yt==null)try{yt=_e.interface.getEvent(vt.topics[0])}catch{}if(yt){const bt=yt,xt=nt?_e.interface.decodeEventLog(nt,vt.data,vt.topics):[];emit(_e,tt,xt,wt=>new ContractEventPayload(_e,wt,tt,bt,vt))}else emit(_e,tt,[],bt=>new ContractUnknownEventPayload(_e,bt,tt,vt))};let pt=[];lt={tag:ot,listeners:[],start:()=>{pt.length||pt.push(rt.on(ft,ht))},stop:async()=>{if(pt.length==0)return;let vt=pt;pt=[],await Promise.all(vt),rt.off(ft,ht)}},ct.set(ot,lt)}return lt}let lastEmit=Promise.resolve();async function _emit(_e,et,tt,rt){await lastEmit;const nt=await hasSub(_e,et);if(!nt)return!1;const ot=nt.listeners.length;return nt.listeners=nt.listeners.filter(({listener:st,once:at})=>{const ct=Array.from(tt);rt&&ct.push(rt(at?null:st));try{st.call(_e,...ct)}catch{}return!at}),nt.listeners.length===0&&(nt.stop(),getInternal(_e).subs.delete(nt.tag)),ot>0}async function emit(_e,et,tt,rt){try{await lastEmit}catch{}const nt=_emit(_e,et,tt,rt);return lastEmit=nt,await nt}const passProperties=["then"];var Ks;Ks=internal;const es=class es{constructor(et,tt,rt,nt){Nt(this,"target");Nt(this,"interface");Nt(this,"runner");Nt(this,"filters");Nt(this,Ks);Nt(this,"fallback");assertArgument(typeof et=="string"||isAddressable(et),"invalid value for Contract target","target",et),rt==null&&(rt=null);const ot=Interface.from(tt);defineProperties(this,{target:et,runner:rt,interface:ot}),Object.defineProperty(this,internal,{value:{}});let st,at=null,ct=null;if(nt){const ft=getProvider(rt);ct=new ContractTransactionResponse(this.interface,ft,nt)}let lt=new Map;if(typeof et=="string")if(isHexString(et))at=et,st=Promise.resolve(et);else{const ft=getRunner(rt,"resolveName");if(!canResolve(ft))throw makeError("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});st=ft.resolveName(et).then(ht=>{if(ht==null)throw makeError("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:et});return getInternal(this).addr=ht,ht})}else st=et.getAddress().then(ft=>{if(ft==null)throw new Error("TODO");return getInternal(this).addr=ft,ft});setInternal(this,{addrPromise:st,addr:at,deployTx:ct,subs:lt});const dt=new Proxy({},{get:(ft,ht,pt)=>{if(typeof ht=="symbol"||passProperties.indexOf(ht)>=0)return Reflect.get(ft,ht,pt);try{return this.getEvent(ht)}catch(gt){if(!isError(gt,"INVALID_ARGUMENT")||gt.argument!=="key")throw gt}},has:(ft,ht)=>passProperties.indexOf(ht)>=0?Reflect.has(ft,ht):Reflect.has(ft,ht)||this.interface.hasEvent(String(ht))});return defineProperties(this,{filters:dt}),defineProperties(this,{fallback:ot.receive||ot.fallback?buildWrappedFallback(this):null}),new Proxy(this,{get:(ft,ht,pt)=>{if(typeof ht=="symbol"||ht in ft||passProperties.indexOf(ht)>=0)return Reflect.get(ft,ht,pt);try{return ft.getFunction(ht)}catch(gt){if(!isError(gt,"INVALID_ARGUMENT")||gt.argument!=="key")throw gt}},has:(ft,ht)=>typeof ht=="symbol"||ht in ft||passProperties.indexOf(ht)>=0?Reflect.has(ft,ht):ft.interface.hasFunction(ht)})}connect(et){return new es(this.target,this.interface,et)}attach(et){return new es(et,this.interface,this.runner)}async getAddress(){return await getInternal(this).addrPromise}async getDeployedCode(){const et=getProvider(this.runner);assert$1(et,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const tt=await et.getCode(await this.getAddress());return tt==="0x"?null:tt}async waitForDeployment(){const et=this.deploymentTransaction();if(et)return await et.wait(),this;if(await this.getDeployedCode()!=null)return this;const rt=getProvider(this.runner);return assert$1(rt!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((nt,ot)=>{const st=async()=>{try{if(await this.getDeployedCode()!=null)return nt(this);rt.once("block",st)}catch(at){ot(at)}};st()})}deploymentTransaction(){return getInternal(this).deployTx}getFunction(et){return typeof et!="string"&&(et=et.format()),buildWrappedMethod(this,et)}getEvent(et){return typeof et!="string"&&(et=et.format()),buildWrappedEvent(this,et)}async queryTransaction(et){throw new Error("@TODO")}async queryFilter(et,tt,rt){tt==null&&(tt=0),rt==null&&(rt="latest");const{addr:nt,addrPromise:ot}=getInternal(this),st=nt||await ot,{fragment:at,topics:ct}=await getSubInfo(this,et),lt={address:st,topics:ct,fromBlock:tt,toBlock:rt},dt=getProvider(this.runner);return assert$1(dt,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await dt.getLogs(lt)).map(ft=>{let ht=at;if(ht==null)try{ht=this.interface.getEvent(ft.topics[0])}catch{}if(ht)try{return new EventLog(ft,this.interface,ht)}catch(pt){return new UndecodedEventLog(ft,pt)}return new Log(ft,dt)})}async on(et,tt){const rt=await getSub(this,"on",et);return rt.listeners.push({listener:tt,once:!1}),rt.start(),this}async once(et,tt){const rt=await getSub(this,"once",et);return rt.listeners.push({listener:tt,once:!0}),rt.start(),this}async emit(et,...tt){return await emit(this,et,tt,null)}async listenerCount(et){if(et){const nt=await hasSub(this,et);return nt?nt.listeners.length:0}const{subs:tt}=getInternal(this);let rt=0;for(const{listeners:nt}of tt.values())rt+=nt.length;return rt}async listeners(et){if(et){const nt=await hasSub(this,et);return nt?nt.listeners.map(({listener:ot})=>ot):[]}const{subs:tt}=getInternal(this);let rt=[];for(const{listeners:nt}of tt.values())rt=rt.concat(nt.map(({listener:ot})=>ot));return rt}async off(et,tt){const rt=await hasSub(this,et);if(!rt)return this;if(tt){const nt=rt.listeners.map(({listener:ot})=>ot).indexOf(tt);nt>=0&&rt.listeners.splice(nt,1)}return(tt==null||rt.listeners.length===0)&&(rt.stop(),getInternal(this).subs.delete(rt.tag)),this}async removeAllListeners(et){if(et){const tt=await hasSub(this,et);if(!tt)return this;tt.stop(),getInternal(this).subs.delete(tt.tag)}else{const{subs:tt}=getInternal(this);for(const{tag:rt,stop:nt}of tt.values())nt(),tt.delete(rt)}return this}async addListener(et,tt){return await this.on(et,tt)}async removeListener(et,tt){return await this.off(et,tt)}static buildClass(et){class tt extends es{constructor(nt,ot=null){super(nt,et,ot)}}return tt}static from(et,tt,rt){return rt==null&&(rt=null),new this(et,tt,rt)}};let BaseContract=es;function _ContractBase(){return BaseContract}class Contract extends _ContractBase(){}function getIpfsLink(_e){return _e.match(/^ipfs:\/\/ipfs\//i)?_e=_e.substring(12):_e.match(/^ipfs:\/\//i)?_e=_e.substring(7):assertArgument(!1,"unsupported IPFS format","link",_e),`https://gateway.ipfs.io/ipfs/${_e}`}class MulticoinProviderPlugin{constructor(et){Nt(this,"name");defineProperties(this,{name:et})}connect(et){return this}supportsCoinType(et){return!1}async encodeAddress(et,tt){throw new Error("unsupported coin")}async decodeAddress(et,tt){throw new Error("unsupported coin")}}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var xn,Kn,bn,no,ks,Js;const oo=class oo{constructor(et,tt,rt){Ot(this,bn);Nt(this,"provider");Nt(this,"address");Nt(this,"name");Ot(this,xn);Ot(this,Kn);defineProperties(this,{provider:et,address:tt,name:rt}),Pt(this,xn,null),Pt(this,Kn,new Contract(tt,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],et))}async supportsWildcard(){return Et(this,xn)==null&&Pt(this,xn,(async()=>{try{return await Et(this,Kn).supportsInterface("0x9061b923")}catch(et){if(isError(et,"CALL_EXCEPTION"))return!1;throw Pt(this,xn,null),et}})()),await Et(this,xn)}async getAddress(et){if(et==null&&(et=60),et===60)try{const ot=await Ut(this,bn,no).call(this,"addr(bytes32)");return ot==null||ot===ZeroAddress?null:ot}catch(ot){if(isError(ot,"CALL_EXCEPTION"))return null;throw ot}if(et>=0&&et<2147483648){let ot=et+2147483648;const st=await Ut(this,bn,no).call(this,"addr(bytes32,uint)",[ot]);if(isHexString(st,20))return getAddress(st)}let tt=null;for(const ot of this.provider.plugins)if(ot instanceof MulticoinProviderPlugin&&ot.supportsCoinType(et)){tt=ot;break}if(tt==null)return null;const rt=await Ut(this,bn,no).call(this,"addr(bytes32,uint)",[et]);if(rt==null||rt==="0x")return null;const nt=await tt.decodeAddress(et,rt);if(nt!=null)return nt;assert$1(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${et})`,info:{coinType:et,data:rt}})}async getText(et){const tt=await Ut(this,bn,no).call(this,"text(bytes32,string)",[et]);return tt==null||tt==="0x"?null:tt}async getContentHash(){const et=await Ut(this,bn,no).call(this,"contenthash(bytes32)");if(et==null||et==="0x")return null;const tt=et.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(tt){const nt=tt[1]==="e3010170"?"ipfs":"ipns",ot=parseInt(tt[4],16);if(tt[5].length===ot*2)return`${nt}://${encodeBase58("0x"+tt[2])}`}const rt=et.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(rt&&rt[1].length===64)return`bzz://${rt[1]}`;assert$1(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:et}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const et=[{type:"name",value:this.name}];try{const tt=await this.getText("avatar");if(tt==null)return et.push({type:"!avatar",value:""}),{url:null,linkage:et};et.push({type:"avatar",value:tt});for(let rt=0;rt<matchers.length;rt++){const nt=tt.match(matchers[rt]);if(nt==null)continue;const ot=nt[1].toLowerCase();switch(ot){case"https":case"data":return et.push({type:"url",value:tt}),{linkage:et,url:tt};case"ipfs":{const st=getIpfsLink(tt);return et.push({type:"ipfs",value:tt}),et.push({type:"url",value:st}),{linkage:et,url:st}}case"erc721":case"erc1155":{const st=ot==="erc721"?"tokenURI(uint256)":"uri(uint256)";et.push({type:ot,value:tt});const at=await this.getAddress();if(at==null)return et.push({type:"!owner",value:""}),{url:null,linkage:et};const ct=(nt[2]||"").split("/");if(ct.length!==2)return et.push({type:`!${ot}caip`,value:nt[2]||""}),{url:null,linkage:et};const lt=ct[1],dt=new Contract(ct[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(ot==="erc721"){const mt=await dt.ownerOf(lt);if(at!==mt)return et.push({type:"!owner",value:mt}),{url:null,linkage:et};et.push({type:"owner",value:mt})}else if(ot==="erc1155"){const mt=await dt.balanceOf(at,lt);if(!mt)return et.push({type:"!balance",value:"0"}),{url:null,linkage:et};et.push({type:"balance",value:mt.toString()})}let ft=await dt[st](lt);if(ft==null||ft==="0x")return et.push({type:"!metadata-url",value:""}),{url:null,linkage:et};et.push({type:"metadata-url-base",value:ft}),ot==="erc1155"&&(ft=ft.replace("{id}",toBeHex(lt,32).substring(2)),et.push({type:"metadata-url-expanded",value:ft})),ft.match(/^ipfs:/i)&&(ft=getIpfsLink(ft)),et.push({type:"metadata-url",value:ft});let ht={};const pt=await new FetchRequest(ft).send();pt.assertOk();try{ht=pt.bodyJson}catch{try{et.push({type:"!metadata",value:pt.bodyText})}catch{const yt=pt.body;return yt&&et.push({type:"!metadata",value:hexlify(yt)}),{url:null,linkage:et}}return{url:null,linkage:et}}if(!ht)return et.push({type:"!metadata",value:""}),{url:null,linkage:et};et.push({type:"metadata",value:JSON.stringify(ht)});let gt=ht.image;if(typeof gt!="string")return et.push({type:"!imageUrl",value:""}),{url:null,linkage:et};if(!gt.match(/^(https:\/\/|data:)/i)){if(gt.match(matcherIpfs)==null)return et.push({type:"!imageUrl-ipfs",value:gt}),{url:null,linkage:et};et.push({type:"imageUrl-ipfs",value:gt}),gt=getIpfsLink(gt)}return et.push({type:"url",value:gt}),{linkage:et,url:gt}}}}}catch{}return{linkage:et,url:null}}static async getEnsAddress(et){const tt=await et.getNetwork(),rt=tt.getPlugin("org.ethers.plugins.network.Ens");return assert$1(rt,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:tt}}),rt.address}static async fromName(et,tt){var nt;let rt=tt;for(;;){if(rt===""||rt==="."||tt!=="eth"&&rt==="eth")return null;const ot=await Ut(nt=oo,ks,Js).call(nt,et,rt);if(ot!=null){const st=new oo(et,ot,tt);return rt!==tt&&!await st.supportsWildcard()?null:st}rt=rt.split(".").slice(1).join(".")}}};xn=new WeakMap,Kn=new WeakMap,bn=new WeakSet,no=async function(et,tt){tt=(tt||[]).slice();const rt=Et(this,Kn).interface;tt.unshift(namehash(this.name));let nt=null;await this.supportsWildcard()&&(nt=rt.getFunction(et),assert$1(nt,"missing fragment","UNKNOWN_ERROR",{info:{funcName:et}}),tt=[dnsEncode(this.name,255),rt.encodeFunctionData(nt,tt)],et="resolve(bytes,bytes)"),tt.push({enableCcipRead:!0});try{const ot=await Et(this,Kn)[et](...tt);return nt?rt.decodeFunctionResult(nt,ot)[0]:ot}catch(ot){if(!isError(ot,"CALL_EXCEPTION"))throw ot}return null},ks=new WeakSet,Js=async function(et,tt){const rt=await oo.getEnsAddress(et);try{const ot=await new Contract(rt,["function resolver(bytes32) view returns (address)"],et).resolver(namehash(tt),{enableCcipRead:!0});return ot===ZeroAddress?null:ot}catch(nt){throw nt}return null},Ot(oo,ks);let EnsResolver=oo;const BN_0=BigInt(0);function allowNull(_e,et){return function(tt){return tt==null?et:_e(tt)}}function arrayOf(_e,et){return tt=>{if(et&&tt==null)return null;if(!Array.isArray(tt))throw new Error("not an array");return tt.map(rt=>_e(rt))}}function object$1(_e,et){return tt=>{const rt={};for(const nt in _e){let ot=nt;if(et&&nt in et&&!(ot in tt)){for(const st of et[nt])if(st in tt){ot=st;break}}try{const st=_e[nt](tt[ot]);st!==void 0&&(rt[nt]=st)}catch(st){const at=st instanceof Error?st.message:"not-an-error";assert$1(!1,`invalid value for value.${nt} (${at})`,"BAD_DATA",{value:tt})}}return rt}}function formatBoolean(_e){switch(_e){case!0:case"true":return!0;case!1:case"false":return!1}assertArgument(!1,`invalid boolean; ${JSON.stringify(_e)}`,"value",_e)}function formatData(_e){return assertArgument(isHexString(_e,!0),"invalid data","value",_e),_e}function formatHash(_e){return assertArgument(isHexString(_e,32),"invalid hash","value",_e),_e}const _formatLog=object$1({address:getAddress,blockHash:formatHash,blockNumber:getNumber,data:formatData,index:getNumber,removed:allowNull(formatBoolean,!1),topics:arrayOf(formatHash),transactionHash:formatHash,transactionIndex:getNumber},{index:["logIndex"]});function formatLog(_e){return _formatLog(_e)}const _formatBlock=object$1({hash:allowNull(formatHash),parentHash:formatHash,parentBeaconBlockRoot:allowNull(formatHash,null),number:getNumber,timestamp:getNumber,nonce:allowNull(formatData),difficulty:getBigInt,gasLimit:getBigInt,gasUsed:getBigInt,stateRoot:allowNull(formatHash,null),receiptsRoot:allowNull(formatHash,null),blobGasUsed:allowNull(getBigInt,null),excessBlobGas:allowNull(getBigInt,null),miner:allowNull(getAddress),prevRandao:allowNull(formatHash,null),extraData:formatData,baseFeePerGas:allowNull(getBigInt)},{prevRandao:["mixHash"]});function formatBlock(_e){const et=_formatBlock(_e);return et.transactions=_e.transactions.map(tt=>typeof tt=="string"?tt:formatTransactionResponse(tt)),et}const _formatReceiptLog=object$1({transactionIndex:getNumber,blockNumber:getNumber,transactionHash:formatHash,address:getAddress,topics:arrayOf(formatHash),data:formatData,index:getNumber,blockHash:formatHash},{index:["logIndex"]});function formatReceiptLog(_e){return _formatReceiptLog(_e)}const _formatTransactionReceipt=object$1({to:allowNull(getAddress,null),from:allowNull(getAddress,null),contractAddress:allowNull(getAddress,null),index:getNumber,root:allowNull(hexlify),gasUsed:getBigInt,blobGasUsed:allowNull(getBigInt,null),logsBloom:allowNull(formatData),blockHash:formatHash,hash:formatHash,logs:arrayOf(formatReceiptLog),blockNumber:getNumber,cumulativeGasUsed:getBigInt,effectiveGasPrice:allowNull(getBigInt),blobGasPrice:allowNull(getBigInt,null),status:allowNull(getNumber),type:allowNull(getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionReceipt(_e){return _formatTransactionReceipt(_e)}function formatTransactionResponse(_e){_e.to&&getBigInt(_e.to)===BN_0&&(_e.to="0x0000000000000000000000000000000000000000");const et=object$1({hash:formatHash,index:allowNull(getNumber,void 0),type:tt=>tt==="0x"||tt==null?0:getNumber(tt),accessList:allowNull(accessListify,null),blobVersionedHashes:allowNull(arrayOf(formatHash,!0),null),authorizationList:allowNull(arrayOf(tt=>{let rt;if(tt.signature)rt=tt.signature;else{let nt=tt.yParity;nt==="0x1b"?nt=0:nt==="0x1c"&&(nt=1),rt=Object.assign({},tt,{yParity:nt})}return{address:getAddress(tt.address),chainId:getBigInt(tt.chainId),nonce:getBigInt(tt.nonce),signature:Signature$1.from(rt)}},!1),null),blockHash:allowNull(formatHash,null),blockNumber:allowNull(getNumber,null),transactionIndex:allowNull(getNumber,null),from:getAddress,gasPrice:allowNull(getBigInt),maxPriorityFeePerGas:allowNull(getBigInt),maxFeePerGas:allowNull(getBigInt),maxFeePerBlobGas:allowNull(getBigInt,null),gasLimit:getBigInt,to:allowNull(getAddress,null),value:getBigInt,nonce:getNumber,data:formatData,creates:allowNull(getAddress,null),chainId:allowNull(getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(_e);if(et.to==null&&et.creates==null&&(et.creates=getCreateAddress(et)),(_e.type===1||_e.type===2)&&_e.accessList==null&&(et.accessList=[]),_e.signature?et.signature=Signature$1.from(_e.signature):et.signature=Signature$1.from(_e),et.chainId==null){const tt=et.signature.legacyChainId;tt!=null&&(et.chainId=tt)}return et.blockHash&&getBigInt(et.blockHash)===BN_0&&(et.blockHash=null),et}const EnsAddress="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class NetworkPlugin{constructor(et){Nt(this,"name");defineProperties(this,{name:et})}clone(){return new NetworkPlugin(this.name)}}class GasCostPlugin extends NetworkPlugin{constructor(tt,rt){tt==null&&(tt=0);super(`org.ethers.network.plugins.GasCost#${tt||0}`);Nt(this,"effectiveBlock");Nt(this,"txBase");Nt(this,"txCreate");Nt(this,"txDataZero");Nt(this,"txDataNonzero");Nt(this,"txAccessListStorageKey");Nt(this,"txAccessListAddress");const nt={effectiveBlock:tt};function ot(st,at){let ct=(rt||{})[st];ct==null&&(ct=at),assertArgument(typeof ct=="number",`invalud value for ${st}`,"costs",rt),nt[st]=ct}ot("txBase",21e3),ot("txCreate",32e3),ot("txDataZero",4),ot("txDataNonzero",16),ot("txAccessListStorageKey",1900),ot("txAccessListAddress",2400),defineProperties(this,nt)}clone(){return new GasCostPlugin(this.effectiveBlock,this)}}class EnsPlugin extends NetworkPlugin{constructor(tt,rt){super("org.ethers.plugins.network.Ens");Nt(this,"address");Nt(this,"targetNetwork");defineProperties(this,{address:tt||EnsAddress,targetNetwork:rt??1})}clone(){return new EnsPlugin(this.address,this.targetNetwork)}}var us,ds;class FetchUrlFeeDataNetworkPlugin extends NetworkPlugin{constructor(tt,rt){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Ot(this,us);Ot(this,ds);Pt(this,us,tt),Pt(this,ds,rt)}get url(){return Et(this,us)}get processFunc(){return Et(this,ds)}clone(){return this}}us=new WeakMap,ds=new WeakMap;const Networks=new Map;var Io,Do,wn;const so=class so{constructor(et,tt){Ot(this,Io);Ot(this,Do);Ot(this,wn);Pt(this,Io,et),Pt(this,Do,getBigInt(tt)),Pt(this,wn,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return Et(this,Io)}set name(et){Pt(this,Io,et)}get chainId(){return Et(this,Do)}set chainId(et){Pt(this,Do,getBigInt(et,"chainId"))}matches(et){if(et==null)return!1;if(typeof et=="string"){try{return this.chainId===getBigInt(et)}catch{}return this.name===et}if(typeof et=="number"||typeof et=="bigint"){try{return this.chainId===getBigInt(et)}catch{}return!1}if(typeof et=="object"){if(et.chainId!=null){try{return this.chainId===getBigInt(et.chainId)}catch{}return!1}return et.name!=null?this.name===et.name:!1}return!1}get plugins(){return Array.from(Et(this,wn).values())}attachPlugin(et){if(Et(this,wn).get(et.name))throw new Error(`cannot replace existing plugin: ${et.name} `);return Et(this,wn).set(et.name,et.clone()),this}getPlugin(et){return Et(this,wn).get(et)||null}getPlugins(et){return this.plugins.filter(tt=>tt.name.split("#")[0]===et)}clone(){const et=new so(this.name,this.chainId);return this.plugins.forEach(tt=>{et.attachPlugin(tt.clone())}),et}computeIntrinsicGas(et){const tt=this.getPlugin("org.ethers.plugins.network.GasCost")||new GasCostPlugin;let rt=tt.txBase;if(et.to==null&&(rt+=tt.txCreate),et.data)for(let nt=2;nt<et.data.length;nt+=2)et.data.substring(nt,nt+2)==="00"?rt+=tt.txDataZero:rt+=tt.txDataNonzero;if(et.accessList){const nt=accessListify(et.accessList);for(const ot in nt)rt+=tt.txAccessListAddress+tt.txAccessListStorageKey*nt[ot].storageKeys.length}return rt}static from(et){if(injectCommonNetworks(),et==null)return so.from("mainnet");if(typeof et=="number"&&(et=BigInt(et)),typeof et=="string"||typeof et=="bigint"){const tt=Networks.get(et);if(tt)return tt();if(typeof et=="bigint")return new so("unknown",et);assertArgument(!1,"unknown network","network",et)}if(typeof et.clone=="function")return et.clone();if(typeof et=="object"){assertArgument(typeof et.name=="string"&&typeof et.chainId=="number","invalid network object name or chainId","network",et);const tt=new so(et.name,et.chainId);return(et.ensAddress||et.ensNetwork!=null)&&tt.attachPlugin(new EnsPlugin(et.ensAddress,et.ensNetwork)),tt}assertArgument(!1,"invalid network","network",et)}static register(et,tt){typeof et=="number"&&(et=BigInt(et));const rt=Networks.get(et);rt&&assertArgument(!1,`conflicting network for ${JSON.stringify(rt.name)}`,"nameOrChainId",et),Networks.set(et,tt)}};Io=new WeakMap,Do=new WeakMap,wn=new WeakMap;let Network=so;function parseUnits(_e,et){const tt=String(_e);if(!tt.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${_e}`);const rt=tt.split(".");if(rt.length===1&&rt.push(""),rt.length!==2)throw new Error(`invalid gwei value: ${_e}`);for(;rt[1].length<et;)rt[1]+="0";if(rt[1].length>9){let nt=BigInt(rt[1].substring(0,9));rt[1].substring(9).match(/^0+$/)||nt++,rt[1]=nt.toString()}return BigInt(rt[0]+rt[1])}function getGasStationPlugin(_e){return new FetchUrlFeeDataNetworkPlugin(_e,async(et,tt,rt)=>{rt.setHeader("User-Agent","ethers");let nt;try{const[ot,st]=await Promise.all([rt.send(),et()]);nt=ot;const at=nt.bodyJson.standard;return{gasPrice:st.gasPrice,maxFeePerGas:parseUnits(at.maxFee,9),maxPriorityFeePerGas:parseUnits(at.maxPriorityFee,9)}}catch(ot){assert$1(!1,`error encountered with polygon gas station (${JSON.stringify(rt.url)})`,"SERVER_ERROR",{request:rt,response:nt,error:ot})}})}let injected=!1;function injectCommonNetworks(){if(injected)return;injected=!0;function _e(et,tt,rt){const nt=function(){const ot=new Network(et,tt);return rt.ensNetwork!=null&&ot.attachPlugin(new EnsPlugin(null,rt.ensNetwork)),ot.attachPlugin(new GasCostPlugin),(rt.plugins||[]).forEach(st=>{ot.attachPlugin(st)}),ot};Network.register(et,nt),Network.register(tt,nt),rt.altNames&&rt.altNames.forEach(ot=>{Network.register(ot,nt)})}_e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),_e("ropsten",3,{ensNetwork:3}),_e("rinkeby",4,{ensNetwork:4}),_e("goerli",5,{ensNetwork:5}),_e("kovan",42,{ensNetwork:42}),_e("sepolia",11155111,{ensNetwork:11155111}),_e("holesky",17e3,{ensNetwork:17e3}),_e("classic",61,{}),_e("classicKotti",6,{}),_e("arbitrum",42161,{ensNetwork:1}),_e("arbitrum-goerli",421613,{}),_e("arbitrum-sepolia",421614,{}),_e("base",8453,{ensNetwork:1}),_e("base-goerli",84531,{}),_e("base-sepolia",84532,{}),_e("bnb",56,{ensNetwork:1}),_e("bnbt",97,{}),_e("linea",59144,{ensNetwork:1}),_e("linea-goerli",59140,{}),_e("linea-sepolia",59141,{}),_e("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin("https://gasstation.polygon.technology/v2")]}),_e("matic-amoy",80002,{}),_e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin("https://gasstation-testnet.polygon.technology/v2")]}),_e("optimism",10,{ensNetwork:1,plugins:[]}),_e("optimism-goerli",420,{}),_e("optimism-sepolia",11155420,{}),_e("xdai",100,{ensNetwork:1})}function copy$4(_e){return JSON.parse(JSON.stringify(_e))}var on,Tr,En,Gr,Bo,bs;class PollingBlockSubscriber{constructor(et){Ot(this,Bo);Ot(this,on);Ot(this,Tr);Ot(this,En);Ot(this,Gr);Pt(this,on,et),Pt(this,Tr,null),Pt(this,En,4e3),Pt(this,Gr,-2)}get pollingInterval(){return Et(this,En)}set pollingInterval(et){Pt(this,En,et)}start(){Et(this,Tr)||(Pt(this,Tr,Et(this,on)._setTimeout(Ut(this,Bo,bs).bind(this),Et(this,En))),Ut(this,Bo,bs).call(this))}stop(){Et(this,Tr)&&(Et(this,on)._clearTimeout(Et(this,Tr)),Pt(this,Tr,null))}pause(et){this.stop(),et&&Pt(this,Gr,-2)}resume(){this.start()}}on=new WeakMap,Tr=new WeakMap,En=new WeakMap,Gr=new WeakMap,Bo=new WeakSet,bs=async function(){try{const et=await Et(this,on).getBlockNumber();if(Et(this,Gr)===-2){Pt(this,Gr,et);return}if(et!==Et(this,Gr)){for(let tt=Et(this,Gr)+1;tt<=et;tt++){if(Et(this,Tr)==null)return;await Et(this,on).emit("block",tt)}Pt(this,Gr,et)}}catch{}Et(this,Tr)!=null&&Pt(this,Tr,Et(this,on)._setTimeout(Ut(this,Bo,bs).bind(this),Et(this,En)))};var qn,Yn,An;class OnBlockSubscriber{constructor(et){Ot(this,qn);Ot(this,Yn);Ot(this,An);Pt(this,qn,et),Pt(this,An,!1),Pt(this,Yn,tt=>{this._poll(tt,Et(this,qn))})}async _poll(et,tt){throw new Error("sub-classes must override this")}start(){Et(this,An)||(Pt(this,An,!0),Et(this,Yn).call(this,-2),Et(this,qn).on("block",Et(this,Yn)))}stop(){Et(this,An)&&(Pt(this,An,!1),Et(this,qn).off("block",Et(this,Yn)))}pause(et){this.stop()}resume(){this.start()}}qn=new WeakMap,Yn=new WeakMap,An=new WeakMap;var Lo,sn;class PollingBlockTagSubscriber extends OnBlockSubscriber{constructor(tt,rt){super(tt);Ot(this,Lo);Ot(this,sn);Pt(this,Lo,rt),Pt(this,sn,-2)}pause(tt){tt&&Pt(this,sn,-2),super.pause(tt)}async _poll(tt,rt){const nt=await rt.getBlock(Et(this,Lo));nt!=null&&(Et(this,sn)===-2?Pt(this,sn,nt.number):nt.number>Et(this,sn)&&(rt.emit(Et(this,Lo),nt.number),Pt(this,sn,nt.number)))}}Lo=new WeakMap,sn=new WeakMap;var Ps;class PollingOrphanSubscriber extends OnBlockSubscriber{constructor(tt,rt){super(tt);Ot(this,Ps);Pt(this,Ps,copy$4(rt))}async _poll(tt,rt){throw new Error("@TODO")}}Ps=new WeakMap;var Mo;class PollingTransactionSubscriber extends OnBlockSubscriber{constructor(tt,rt){super(tt);Ot(this,Mo);Pt(this,Mo,rt)}async _poll(tt,rt){const nt=await rt.getTransactionReceipt(Et(this,Mo));nt&&rt.emit(Et(this,Mo),nt)}}Mo=new WeakMap;var an,Fo,Uo,Sn,Cr,Ts,Zs;class PollingEventSubscriber{constructor(et,tt){Ot(this,Ts);Ot(this,an);Ot(this,Fo);Ot(this,Uo);Ot(this,Sn);Ot(this,Cr);Pt(this,an,et),Pt(this,Fo,copy$4(tt)),Pt(this,Uo,Ut(this,Ts,Zs).bind(this)),Pt(this,Sn,!1),Pt(this,Cr,-2)}start(){Et(this,Sn)||(Pt(this,Sn,!0),Et(this,Cr)===-2&&Et(this,an).getBlockNumber().then(et=>{Pt(this,Cr,et)}),Et(this,an).on("block",Et(this,Uo)))}stop(){Et(this,Sn)&&(Pt(this,Sn,!1),Et(this,an).off("block",Et(this,Uo)))}pause(et){this.stop(),et&&Pt(this,Cr,-2)}resume(){this.start()}}an=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,Sn=new WeakMap,Cr=new WeakMap,Ts=new WeakSet,Zs=async function(et){if(Et(this,Cr)===-2)return;const tt=copy$4(Et(this,Fo));tt.fromBlock=Et(this,Cr)+1,tt.toBlock=et;const rt=await Et(this,an).getLogs(tt);if(rt.length===0){Et(this,Cr)<et-60&&Pt(this,Cr,et-60);return}for(const nt of rt)Et(this,an).emit(Et(this,Fo),nt),Pt(this,Cr,nt.blockNumber)};const BN_2=BigInt(2),MAX_CCIP_REDIRECTS=10;function isPromise(_e){return _e&&typeof _e.then=="function"}function getTag$1(_e,et){return _e+":"+JSON.stringify(et,(tt,rt)=>{if(rt==null)return"null";if(typeof rt=="bigint")return`bigint:${rt.toString()}`;if(typeof rt=="string")return rt.toLowerCase();if(typeof rt=="object"&&!Array.isArray(rt)){const nt=Object.keys(rt);return nt.sort(),nt.reduce((ot,st)=>(ot[st]=rt[st],ot),{})}return rt})}class UnmanagedSubscriber{constructor(et){Nt(this,"name");defineProperties(this,{name:et})}start(){}stop(){}pause(et){}resume(){}}function copy$3(_e){return JSON.parse(JSON.stringify(_e))}function concisify(_e){return _e=Array.from(new Set(_e).values()),_e.sort(),_e}async function getSubscription(_e,et){if(_e==null)throw new Error("invalid event");if(Array.isArray(_e)&&(_e={topics:_e}),typeof _e=="string")switch(_e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:_e,tag:_e}}if(isHexString(_e,32)){const tt=_e.toLowerCase();return{type:"transaction",tag:getTag$1("tx",{hash:tt}),hash:tt}}if(_e.orphan){const tt=_e;return{type:"orphan",tag:getTag$1("orphan",tt),filter:copy$3(tt)}}if(_e.address||_e.topics){const tt=_e,rt={topics:(tt.topics||[]).map(nt=>nt==null?null:Array.isArray(nt)?concisify(nt.map(ot=>ot.toLowerCase())):nt.toLowerCase())};if(tt.address){const nt=[],ot=[],st=at=>{isHexString(at)?nt.push(at):ot.push((async()=>{nt.push(await resolveAddress(at,et))})())};Array.isArray(tt.address)?tt.address.forEach(st):st(tt.address),ot.length&&await Promise.all(ot),rt.address=concisify(nt.map(at=>at.toLowerCase()))}return{filter:rt,tag:getTag$1("event",rt),type:"event"}}assertArgument(!1,"unknown ProviderEvent","event",_e)}function getTime(){return new Date().getTime()}const defaultOptions$1={cacheTimeout:250,pollingInterval:4e3};var hr,$n,pr,zo,$r,Qn,kn,cn,fs,Nr,Ho,Wo,Zt,wr,Ds,Bs,Xo,Ls,Jo,ws;class AbstractProvider{constructor(et,tt){Ot(this,Zt);Ot(this,hr);Ot(this,$n);Ot(this,pr);Ot(this,zo);Ot(this,$r);Ot(this,Qn);Ot(this,kn);Ot(this,cn);Ot(this,fs);Ot(this,Nr);Ot(this,Ho);Ot(this,Wo);if(Pt(this,Wo,Object.assign({},defaultOptions$1,tt||{})),et==="any")Pt(this,Qn,!0),Pt(this,$r,null);else if(et){const rt=Network.from(et);Pt(this,Qn,!1),Pt(this,$r,Promise.resolve(rt)),setTimeout(()=>{this.emit("network",rt,null)},0)}else Pt(this,Qn,!1),Pt(this,$r,null);Pt(this,cn,-1),Pt(this,kn,new Map),Pt(this,hr,new Map),Pt(this,$n,new Map),Pt(this,pr,null),Pt(this,zo,!1),Pt(this,fs,1),Pt(this,Nr,new Map),Pt(this,Ho,!1)}get pollingInterval(){return Et(this,Wo).pollingInterval}get provider(){return this}get plugins(){return Array.from(Et(this,$n).values())}attachPlugin(et){if(Et(this,$n).get(et.name))throw new Error(`cannot replace existing plugin: ${et.name} `);return Et(this,$n).set(et.name,et.connect(this)),this}getPlugin(et){return Et(this,$n).get(et)||null}get disableCcipRead(){return Et(this,Ho)}set disableCcipRead(et){Pt(this,Ho,!!et)}async ccipReadFetch(et,tt,rt){if(this.disableCcipRead||rt.length===0||et.to==null)return null;const nt=et.to.toLowerCase(),ot=tt.toLowerCase(),st=[];for(let at=0;at<rt.length;at++){const ct=rt[at],lt=ct.replace("{sender}",nt).replace("{data}",ot),dt=new FetchRequest(lt);ct.indexOf("{data}")===-1&&(dt.body={data:ot,sender:nt}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:dt,index:at,urls:rt});let ft="unknown error",ht;try{ht=await dt.send()}catch(pt){st.push(pt.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:dt,result:{error:pt}});continue}try{const pt=ht.bodyJson;if(pt.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:dt,result:pt}),pt.data;pt.message&&(ft=pt.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:dt,result:pt})}catch{}assert$1(ht.statusCode<400||ht.statusCode>=500,`response not found during CCIP fetch: ${ft}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:et,info:{url:ct,errorMessage:ft}}),st.push(ft)}assert$1(!1,`error encountered during CCIP fetch: ${st.map(at=>JSON.stringify(at)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:et,info:{urls:rt,errorMessages:st}})}_wrapBlock(et,tt){return new Block(formatBlock(et),this)}_wrapLog(et,tt){return new Log(formatLog(et),this)}_wrapTransactionReceipt(et,tt){return new TransactionReceipt(formatTransactionReceipt(et),this)}_wrapTransactionResponse(et,tt){return new TransactionResponse(formatTransactionResponse(et),this)}_detectNetwork(){assert$1(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(et){assert$1(!1,`unsupported method: ${et.method}`,"UNSUPPORTED_OPERATION",{operation:et.method,info:et})}async getBlockNumber(){const et=getNumber(await Ut(this,Zt,wr).call(this,{method:"getBlockNumber"}),"%response");return Et(this,cn)>=0&&Pt(this,cn,et),et}_getAddress(et){return resolveAddress(et,this)}_getBlockTag(et){if(et==null)return"latest";switch(et){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return et}if(isHexString(et))return isHexString(et,32)?et:toQuantity(et);if(typeof et=="bigint"&&(et=getNumber(et,"blockTag")),typeof et=="number")return et>=0?toQuantity(et):Et(this,cn)>=0?toQuantity(Et(this,cn)+et):this.getBlockNumber().then(tt=>toQuantity(tt+et));assertArgument(!1,"invalid blockTag","blockTag",et)}_getFilter(et){const tt=(et.topics||[]).map(ct=>ct==null?null:Array.isArray(ct)?concisify(ct.map(lt=>lt.toLowerCase())):ct.toLowerCase()),rt="blockHash"in et?et.blockHash:void 0,nt=(ct,lt,dt)=>{let ft;switch(ct.length){case 0:break;case 1:ft=ct[0];break;default:ct.sort(),ft=ct}if(rt&&(lt!=null||dt!=null))throw new Error("invalid filter");const ht={};return ft&&(ht.address=ft),tt.length&&(ht.topics=tt),lt&&(ht.fromBlock=lt),dt&&(ht.toBlock=dt),rt&&(ht.blockHash=rt),ht};let ot=[];if(et.address)if(Array.isArray(et.address))for(const ct of et.address)ot.push(this._getAddress(ct));else ot.push(this._getAddress(et.address));let st;"fromBlock"in et&&(st=this._getBlockTag(et.fromBlock));let at;return"toBlock"in et&&(at=this._getBlockTag(et.toBlock)),ot.filter(ct=>typeof ct!="string").length||st!=null&&typeof st!="string"||at!=null&&typeof at!="string"?Promise.all([Promise.all(ot),st,at]).then(ct=>nt(ct[0],ct[1],ct[2])):nt(ot,st,at)}_getTransactionRequest(et){const tt=copyRequest(et),rt=[];if(["to","from"].forEach(nt=>{if(tt[nt]==null)return;const ot=resolveAddress(tt[nt],this);isPromise(ot)?rt.push(async function(){tt[nt]=await ot}()):tt[nt]=ot}),tt.blockTag!=null){const nt=this._getBlockTag(tt.blockTag);isPromise(nt)?rt.push(async function(){tt.blockTag=await nt}()):tt.blockTag=nt}return rt.length?async function(){return await Promise.all(rt),tt}():tt}async getNetwork(){if(Et(this,$r)==null){const nt=(async()=>{try{const ot=await this._detectNetwork();return this.emit("network",ot,null),ot}catch(ot){throw Et(this,$r)===nt&&Pt(this,$r,null),ot}})();return Pt(this,$r,nt),(await nt).clone()}const et=Et(this,$r),[tt,rt]=await Promise.all([et,this._detectNetwork()]);return tt.chainId!==rt.chainId&&(Et(this,Qn)?(this.emit("network",rt,tt),Et(this,$r)===et&&Pt(this,$r,Promise.resolve(rt))):assert$1(!1,`network changed: ${tt.chainId} => ${rt.chainId} `,"NETWORK_ERROR",{event:"changed"})),tt.clone()}async getFeeData(){const et=await this.getNetwork(),tt=async()=>{const{_block:nt,gasPrice:ot,priorityFee:st}=await resolveProperties({_block:Ut(this,Zt,Ls).call(this,"latest",!1),gasPrice:(async()=>{try{const dt=await Ut(this,Zt,wr).call(this,{method:"getGasPrice"});return getBigInt(dt,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const dt=await Ut(this,Zt,wr).call(this,{method:"getPriorityFee"});return getBigInt(dt,"%response")}catch{}return null})()});let at=null,ct=null;const lt=this._wrapBlock(nt,et);return lt&&lt.baseFeePerGas&&(ct=st??BigInt("1000000000"),at=lt.baseFeePerGas*BN_2+ct),new FeeData(ot,at,ct)},rt=et.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(rt){const nt=new FetchRequest(rt.url),ot=await rt.processFunc(tt,this,nt);return new FeeData(ot.gasPrice,ot.maxFeePerGas,ot.maxPriorityFeePerGas)}return await tt()}async estimateGas(et){let tt=this._getTransactionRequest(et);return isPromise(tt)&&(tt=await tt),getBigInt(await Ut(this,Zt,wr).call(this,{method:"estimateGas",transaction:tt}),"%response")}async call(et){const{tx:tt,blockTag:rt}=await resolveProperties({tx:this._getTransactionRequest(et),blockTag:this._getBlockTag(et.blockTag)});return await Ut(this,Zt,Bs).call(this,Ut(this,Zt,Ds).call(this,tt,rt,et.enableCcipRead?0:-1))}async getBalance(et,tt){return getBigInt(await Ut(this,Zt,Xo).call(this,{method:"getBalance"},et,tt),"%response")}async getTransactionCount(et,tt){return getNumber(await Ut(this,Zt,Xo).call(this,{method:"getTransactionCount"},et,tt),"%response")}async getCode(et,tt){return hexlify(await Ut(this,Zt,Xo).call(this,{method:"getCode"},et,tt))}async getStorage(et,tt,rt){const nt=getBigInt(tt,"position");return hexlify(await Ut(this,Zt,Xo).call(this,{method:"getStorage",position:nt},et,rt))}async broadcastTransaction(et){const{blockNumber:tt,hash:rt,network:nt}=await resolveProperties({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:et}),network:this.getNetwork()}),ot=Transaction.from(et);if(ot.hash!==rt)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(ot,nt).replaceableTransaction(tt)}async getBlock(et,tt){const{network:rt,params:nt}=await resolveProperties({network:this.getNetwork(),params:Ut(this,Zt,Ls).call(this,et,!!tt)});return nt==null?null:this._wrapBlock(nt,rt)}async getTransaction(et){const{network:tt,params:rt}=await resolveProperties({network:this.getNetwork(),params:Ut(this,Zt,wr).call(this,{method:"getTransaction",hash:et})});return rt==null?null:this._wrapTransactionResponse(rt,tt)}async getTransactionReceipt(et){const{network:tt,params:rt}=await resolveProperties({network:this.getNetwork(),params:Ut(this,Zt,wr).call(this,{method:"getTransactionReceipt",hash:et})});if(rt==null)return null;if(rt.gasPrice==null&&rt.effectiveGasPrice==null){const nt=await Ut(this,Zt,wr).call(this,{method:"getTransaction",hash:et});if(nt==null)throw new Error("report this; could not find tx or effectiveGasPrice");rt.effectiveGasPrice=nt.gasPrice}return this._wrapTransactionReceipt(rt,tt)}async getTransactionResult(et){const{result:tt}=await resolveProperties({network:this.getNetwork(),result:Ut(this,Zt,wr).call(this,{method:"getTransactionResult",hash:et})});return tt==null?null:hexlify(tt)}async getLogs(et){let tt=this._getFilter(et);isPromise(tt)&&(tt=await tt);const{network:rt,params:nt}=await resolveProperties({network:this.getNetwork(),params:Ut(this,Zt,wr).call(this,{method:"getLogs",filter:tt})});return nt.map(ot=>this._wrapLog(ot,rt))}_getProvider(et){assert$1(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(et){return await EnsResolver.fromName(this,et)}async getAvatar(et){const tt=await this.getResolver(et);return tt?await tt.getAvatar():null}async resolveName(et){const tt=await this.getResolver(et);return tt?await tt.getAddress():null}async lookupAddress(et){et=getAddress(et);const tt=namehash(et.substring(2).toLowerCase()+".addr.reverse");try{const rt=await EnsResolver.getEnsAddress(this),ot=await new Contract(rt,["function resolver(bytes32) view returns (address)"],this).resolver(tt);if(ot==null||ot===ZeroAddress)return null;const at=await new Contract(ot,["function name(bytes32) view returns (string)"],this).name(tt);return await this.resolveName(at)!==et?null:at}catch(rt){if(isError(rt,"BAD_DATA")&&rt.value==="0x"||isError(rt,"CALL_EXCEPTION"))return null;throw rt}return null}async waitForTransaction(et,tt,rt){const nt=tt??1;return nt===0?this.getTransactionReceipt(et):new Promise(async(ot,st)=>{let at=null;const ct=async lt=>{try{const dt=await this.getTransactionReceipt(et);if(dt!=null&&lt-dt.blockNumber+1>=nt){ot(dt),at&&(clearTimeout(at),at=null);return}}catch(dt){console.log("EEE",dt)}this.once("block",ct)};rt!=null&&(at=setTimeout(()=>{at!=null&&(at=null,this.off("block",ct),st(makeError("timeout","TIMEOUT",{reason:"timeout"})))},rt)),ct(await this.getBlockNumber())})}async waitForBlock(et){assert$1(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(et){const tt=Et(this,Nr).get(et);tt&&(tt.timer&&clearTimeout(tt.timer),Et(this,Nr).delete(et))}_setTimeout(et,tt){tt==null&&(tt=0);const rt=Yo(this,fs)._++,nt=()=>{Et(this,Nr).delete(rt),et()};if(this.paused)Et(this,Nr).set(rt,{timer:null,func:nt,time:tt});else{const ot=setTimeout(nt,tt);Et(this,Nr).set(rt,{timer:ot,func:nt,time:getTime()})}return rt}_forEachSubscriber(et){for(const tt of Et(this,hr).values())et(tt.subscriber)}_getSubscriber(et){switch(et.type){case"debug":case"error":case"network":return new UnmanagedSubscriber(et.type);case"block":{const tt=new PollingBlockSubscriber(this);return tt.pollingInterval=this.pollingInterval,tt}case"safe":case"finalized":return new PollingBlockTagSubscriber(this,et.type);case"event":return new PollingEventSubscriber(this,et.filter);case"transaction":return new PollingTransactionSubscriber(this,et.hash);case"orphan":return new PollingOrphanSubscriber(this,et.filter)}throw new Error(`unsupported event: ${et.type}`)}_recoverSubscriber(et,tt){for(const rt of Et(this,hr).values())if(rt.subscriber===et){rt.started&&rt.subscriber.stop(),rt.subscriber=tt,rt.started&&tt.start(),Et(this,pr)!=null&&tt.pause(Et(this,pr));break}}async on(et,tt){const rt=await Ut(this,Zt,ws).call(this,et);return rt.listeners.push({listener:tt,once:!1}),rt.started||(rt.subscriber.start(),rt.started=!0,Et(this,pr)!=null&&rt.subscriber.pause(Et(this,pr))),this}async once(et,tt){const rt=await Ut(this,Zt,ws).call(this,et);return rt.listeners.push({listener:tt,once:!0}),rt.started||(rt.subscriber.start(),rt.started=!0,Et(this,pr)!=null&&rt.subscriber.pause(Et(this,pr))),this}async emit(et,...tt){const rt=await Ut(this,Zt,Jo).call(this,et,tt);if(!rt||rt.listeners.length===0)return!1;const nt=rt.listeners.length;return rt.listeners=rt.listeners.filter(({listener:ot,once:st})=>{const at=new EventPayload(this,st?null:ot,et);try{ot.call(this,...tt,at)}catch{}return!st}),rt.listeners.length===0&&(rt.started&&rt.subscriber.stop(),Et(this,hr).delete(rt.tag)),nt>0}async listenerCount(et){if(et){const rt=await Ut(this,Zt,Jo).call(this,et);return rt?rt.listeners.length:0}let tt=0;for(const{listeners:rt}of Et(this,hr).values())tt+=rt.length;return tt}async listeners(et){if(et){const rt=await Ut(this,Zt,Jo).call(this,et);return rt?rt.listeners.map(({listener:nt})=>nt):[]}let tt=[];for(const{listeners:rt}of Et(this,hr).values())tt=tt.concat(rt.map(({listener:nt})=>nt));return tt}async off(et,tt){const rt=await Ut(this,Zt,Jo).call(this,et);if(!rt)return this;if(tt){const nt=rt.listeners.map(({listener:ot})=>ot).indexOf(tt);nt>=0&&rt.listeners.splice(nt,1)}return(!tt||rt.listeners.length===0)&&(rt.started&&rt.subscriber.stop(),Et(this,hr).delete(rt.tag)),this}async removeAllListeners(et){if(et){const{tag:tt,started:rt,subscriber:nt}=await Ut(this,Zt,ws).call(this,et);rt&&nt.stop(),Et(this,hr).delete(tt)}else for(const[tt,{started:rt,subscriber:nt}]of Et(this,hr))rt&&nt.stop(),Et(this,hr).delete(tt);return this}async addListener(et,tt){return await this.on(et,tt)}async removeListener(et,tt){return this.off(et,tt)}get destroyed(){return Et(this,zo)}destroy(){this.removeAllListeners();for(const et of Et(this,Nr).keys())this._clearTimeout(et);Pt(this,zo,!0)}get paused(){return Et(this,pr)!=null}set paused(et){!!et!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(et){if(Pt(this,cn,-1),Et(this,pr)!=null){if(Et(this,pr)==!!et)return;assert$1(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(tt=>tt.pause(et)),Pt(this,pr,!!et);for(const tt of Et(this,Nr).values())tt.timer&&clearTimeout(tt.timer),tt.time=getTime()-tt.time}resume(){if(Et(this,pr)!=null){this._forEachSubscriber(et=>et.resume()),Pt(this,pr,null);for(const et of Et(this,Nr).values()){let tt=et.time;tt<0&&(tt=0),et.time=getTime(),setTimeout(et.func,tt)}}}}hr=new WeakMap,$n=new WeakMap,pr=new WeakMap,zo=new WeakMap,$r=new WeakMap,Qn=new WeakMap,kn=new WeakMap,cn=new WeakMap,fs=new WeakMap,Nr=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Zt=new WeakSet,wr=async function(et){const tt=Et(this,Wo).cacheTimeout;if(tt<0)return await this._perform(et);const rt=getTag$1(et.method,et);let nt=Et(this,kn).get(rt);return nt||(nt=this._perform(et),Et(this,kn).set(rt,nt),setTimeout(()=>{Et(this,kn).get(rt)===nt&&Et(this,kn).delete(rt)},tt)),await nt},Ds=async function(et,tt,rt){assert$1(rt<MAX_CCIP_REDIRECTS,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},et,{blockTag:tt,enableCcipRead:!0})});const nt=copyRequest(et);try{return hexlify(await this._perform({method:"call",transaction:nt,blockTag:tt}))}catch(ot){if(!this.disableCcipRead&&isCallException(ot)&&ot.data&&rt>=0&&tt==="latest"&&nt.to!=null&&dataSlice(ot.data,0,4)==="0x556f1830"){const st=ot.data,at=await resolveAddress(nt.to,this);let ct;try{ct=parseOffchainLookup(dataSlice(ot.data,4))}catch(ft){assert$1(!1,ft.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:nt,info:{data:st}})}assert$1(ct.sender.toLowerCase()===at.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:st,reason:"OffchainLookup",transaction:nt,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:ct.errorArgs}});const lt=await this.ccipReadFetch(nt,ct.calldata,ct.urls);assert$1(lt!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:nt,info:{data:ot.data,errorArgs:ct.errorArgs}});const dt={to:at,data:concat$2([ct.selector,encodeBytes$1([lt,ct.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:dt});try{const ft=await Ut(this,Zt,Ds).call(this,dt,tt,rt+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},dt),result:ft}),ft}catch(ft){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},dt),error:ft}),ft}}throw ot}},Bs=async function(et){const{value:tt}=await resolveProperties({network:this.getNetwork(),value:et});return tt},Xo=async function(et,tt,rt){let nt=this._getAddress(tt),ot=this._getBlockTag(rt);return(typeof nt!="string"||typeof ot!="string")&&([nt,ot]=await Promise.all([nt,ot])),await Ut(this,Zt,Bs).call(this,Ut(this,Zt,wr).call(this,Object.assign(et,{address:nt,blockTag:ot})))},Ls=async function(et,tt){if(isHexString(et,32))return await Ut(this,Zt,wr).call(this,{method:"getBlock",blockHash:et,includeTransactions:tt});let rt=this._getBlockTag(et);return typeof rt!="string"&&(rt=await rt),await Ut(this,Zt,wr).call(this,{method:"getBlock",blockTag:rt,includeTransactions:tt})},Jo=async function(et,tt){let rt=await getSubscription(et,this);return rt.type==="event"&&tt&&tt.length>0&&tt[0].removed===!0&&(rt=await getSubscription({orphan:"drop-log",log:tt[0]},this)),Et(this,hr).get(rt.tag)||null},ws=async function(et){const tt=await getSubscription(et,this),rt=tt.tag;let nt=Et(this,hr).get(rt);return nt||(nt={subscriber:this._getSubscriber(tt),tag:rt,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},Et(this,hr).set(rt,nt)),nt};function _parseString(_e,et){try{const tt=_parseBytes(_e,et);if(tt)return toUtf8String(tt)}catch{}return null}function _parseBytes(_e,et){if(_e==="0x")return null;try{const tt=getNumber(dataSlice(_e,et,et+32)),rt=getNumber(dataSlice(_e,tt,tt+32));return dataSlice(_e,tt+32,tt+32+rt)}catch{}return null}function numPad(_e){const et=toBeArray(_e);if(et.length>32)throw new Error("internal; should not happen");const tt=new Uint8Array(32);return tt.set(et,32-et.length),tt}function bytesPad(_e){if(_e.length%32===0)return _e;const et=new Uint8Array(Math.ceil(_e.length/32)*32);return et.set(_e),et}const empty$2=new Uint8Array([]);function encodeBytes$1(_e){const et=[];let tt=0;for(let rt=0;rt<_e.length;rt++)et.push(empty$2),tt+=32;for(let rt=0;rt<_e.length;rt++){const nt=getBytes(_e[rt]);et[rt]=numPad(tt),et.push(numPad(nt.length)),et.push(bytesPad(nt)),tt+=32+Math.ceil(nt.length/32)*32}return concat$2(et)}const zeros="0x0000000000000000000000000000000000000000000000000000000000000000";function parseOffchainLookup(_e){const et={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};assert$1(dataLength(_e)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const tt=dataSlice(_e,0,32);assert$1(dataSlice(tt,0,12)===dataSlice(zeros,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),et.sender=dataSlice(tt,12);try{const rt=[],nt=getNumber(dataSlice(_e,32,64)),ot=getNumber(dataSlice(_e,nt,nt+32)),st=dataSlice(_e,nt+32);for(let at=0;at<ot;at++){const ct=_parseString(st,at*32);if(ct==null)throw new Error("abort");rt.push(ct)}et.urls=rt}catch{assert$1(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const rt=_parseBytes(_e,64);if(rt==null)throw new Error("abort");et.calldata=rt}catch{assert$1(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}assert$1(dataSlice(_e,100,128)===dataSlice(zeros,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),et.selector=dataSlice(_e,96,100);try{const rt=_parseBytes(_e,128);if(rt==null)throw new Error("abort");et.extraData=rt}catch{assert$1(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return et.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(rt=>et[rt]),et}function checkProvider(_e,et){if(_e.provider)return _e.provider;assert$1(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:et})}async function populate(_e,et){let tt=copyRequest(et);if(tt.to!=null&&(tt.to=resolveAddress(tt.to,_e)),tt.from!=null){const rt=tt.from;tt.from=Promise.all([_e.getAddress(),resolveAddress(rt,_e)]).then(([nt,ot])=>(assertArgument(nt.toLowerCase()===ot.toLowerCase(),"transaction from mismatch","tx.from",ot),nt))}else tt.from=_e.getAddress();return await resolveProperties(tt)}class AbstractSigner{constructor(et){Nt(this,"provider");defineProperties(this,{provider:et||null})}async getNonce(et){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),et)}async populateCall(et){return await populate(this,et)}async populateTransaction(et){const tt=checkProvider(this,"populateTransaction"),rt=await populate(this,et);rt.nonce==null&&(rt.nonce=await this.getNonce("pending")),rt.gasLimit==null&&(rt.gasLimit=await this.estimateGas(rt));const nt=await this.provider.getNetwork();if(rt.chainId!=null){const st=getBigInt(rt.chainId);assertArgument(st===nt.chainId,"transaction chainId mismatch","tx.chainId",et.chainId)}else rt.chainId=nt.chainId;const ot=rt.maxFeePerGas!=null||rt.maxPriorityFeePerGas!=null;if(rt.gasPrice!=null&&(rt.type===2||ot)?assertArgument(!1,"eip-1559 transaction do not support gasPrice","tx",et):(rt.type===0||rt.type===1)&&ot&&assertArgument(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",et),(rt.type===2||rt.type==null)&&rt.maxFeePerGas!=null&&rt.maxPriorityFeePerGas!=null)rt.type=2;else if(rt.type===0||rt.type===1){const st=await tt.getFeeData();assert$1(st.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),rt.gasPrice==null&&(rt.gasPrice=st.gasPrice)}else{const st=await tt.getFeeData();if(rt.type==null)if(st.maxFeePerGas!=null&&st.maxPriorityFeePerGas!=null)if(rt.authorizationList&&rt.authorizationList.length?rt.type=4:rt.type=2,rt.gasPrice!=null){const at=rt.gasPrice;delete rt.gasPrice,rt.maxFeePerGas=at,rt.maxPriorityFeePerGas=at}else rt.maxFeePerGas==null&&(rt.maxFeePerGas=st.maxFeePerGas),rt.maxPriorityFeePerGas==null&&(rt.maxPriorityFeePerGas=st.maxPriorityFeePerGas);else st.gasPrice!=null?(assert$1(!ot,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),rt.gasPrice==null&&(rt.gasPrice=st.gasPrice),rt.type=0):assert$1(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(rt.type===2||rt.type===3||rt.type===4)&&(rt.maxFeePerGas==null&&(rt.maxFeePerGas=st.maxFeePerGas),rt.maxPriorityFeePerGas==null&&(rt.maxPriorityFeePerGas=st.maxPriorityFeePerGas))}return await resolveProperties(rt)}async populateAuthorization(et){const tt=Object.assign({},et);return tt.chainId==null&&(tt.chainId=(await checkProvider(this,"getNetwork").getNetwork()).chainId),tt.nonce==null&&(tt.nonce=await this.getNonce()),tt}async estimateGas(et){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(et))}async call(et){return checkProvider(this,"call").call(await this.populateCall(et))}async resolveName(et){return await checkProvider(this,"resolveName").resolveName(et)}async sendTransaction(et){const tt=checkProvider(this,"sendTransaction"),rt=await this.populateTransaction(et);delete rt.from;const nt=Transaction.from(rt);return await tt.broadcastTransaction(await this.signTransaction(nt))}authorize(et){assert$1(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function copy$2(_e){return JSON.parse(JSON.stringify(_e))}var gr,Kr,Xn,Pn,Jn,Vo,Cn,Ms,Fs;class FilterIdSubscriber{constructor(et){Ot(this,Cn);Ot(this,gr);Ot(this,Kr);Ot(this,Xn);Ot(this,Pn);Ot(this,Jn);Ot(this,Vo);Pt(this,gr,et),Pt(this,Kr,null),Pt(this,Xn,Ut(this,Cn,Ms).bind(this)),Pt(this,Pn,!1),Pt(this,Jn,null),Pt(this,Vo,!1)}_subscribe(et){throw new Error("subclasses must override this")}_emitResults(et,tt){throw new Error("subclasses must override this")}_recover(et){throw new Error("subclasses must override this")}start(){Et(this,Pn)||(Pt(this,Pn,!0),Ut(this,Cn,Ms).call(this,-2))}stop(){Et(this,Pn)&&(Pt(this,Pn,!1),Pt(this,Vo,!0),Ut(this,Cn,Fs).call(this),Et(this,gr).off("block",Et(this,Xn)))}pause(et){et&&Ut(this,Cn,Fs).call(this),Et(this,gr).off("block",Et(this,Xn))}resume(){this.start()}}gr=new WeakMap,Kr=new WeakMap,Xn=new WeakMap,Pn=new WeakMap,Jn=new WeakMap,Vo=new WeakMap,Cn=new WeakSet,Ms=async function(et){try{Et(this,Kr)==null&&Pt(this,Kr,this._subscribe(Et(this,gr)));let tt=null;try{tt=await Et(this,Kr)}catch(ot){if(!isError(ot,"UNSUPPORTED_OPERATION")||ot.operation!=="eth_newFilter")throw ot}if(tt==null){Pt(this,Kr,null),Et(this,gr)._recoverSubscriber(this,this._recover(Et(this,gr)));return}const rt=await Et(this,gr).getNetwork();if(Et(this,Jn)||Pt(this,Jn,rt),Et(this,Jn).chainId!==rt.chainId)throw new Error("chaid changed");if(Et(this,Vo))return;const nt=await Et(this,gr).send("eth_getFilterChanges",[tt]);await this._emitResults(Et(this,gr),nt)}catch(tt){console.log("@TODO",tt)}Et(this,gr).once("block",Et(this,Xn))},Fs=function(){const et=Et(this,Kr);et&&(Pt(this,Kr,null),et.then(tt=>{Et(this,gr).destroyed||Et(this,gr).send("eth_uninstallFilter",[tt])}))};var Zn;class FilterIdEventSubscriber extends FilterIdSubscriber{constructor(tt,rt){super(tt);Ot(this,Zn);Pt(this,Zn,copy$2(rt))}_recover(tt){return new PollingEventSubscriber(tt,Et(this,Zn))}async _subscribe(tt){return await tt.send("eth_newFilter",[Et(this,Zn)])}async _emitResults(tt,rt){for(const nt of rt)tt.emit(Et(this,Zn),tt._wrapLog(nt,tt._network))}}Zn=new WeakMap;class FilterIdPendingSubscriber extends FilterIdSubscriber{async _subscribe(et){return await et.send("eth_newPendingTransactionFilter",[])}async _emitResults(et,tt){for(const rt of tt)et.emit("pending",rt)}}const Primitive="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy(_e){if(_e==null||Primitive.indexOf(typeof _e)>=0||typeof _e.getAddress=="function")return _e;if(Array.isArray(_e))return _e.map(deepCopy);if(typeof _e=="object")return Object.keys(_e).reduce((et,tt)=>(et[tt]=_e[tt],et),{});throw new Error(`should not happen: ${_e} (${typeof _e})`)}function stall(_e){return new Promise(et=>{setTimeout(et,_e)})}function getLowerCase(_e){return _e&&_e.toLowerCase()}function isPollable(_e){return _e&&typeof _e.pollingInterval=="number"}const defaultOptions={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class JsonRpcSigner extends AbstractSigner{constructor(tt,rt){super(tt);Nt(this,"address");rt=getAddress(rt),defineProperties(this,{address:rt})}connect(tt){assert$1(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(tt){return await this.populateCall(tt)}async sendUncheckedTransaction(tt){const rt=deepCopy(tt),nt=[];if(rt.from){const st=rt.from;nt.push((async()=>{const at=await resolveAddress(st,this.provider);assertArgument(at!=null&&at.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",tt),rt.from=at})())}else rt.from=this.address;if(rt.gasLimit==null&&nt.push((async()=>{rt.gasLimit=await this.provider.estimateGas({...rt,from:this.address})})()),rt.to!=null){const st=rt.to;nt.push((async()=>{rt.to=await resolveAddress(st,this.provider)})())}nt.length&&await Promise.all(nt);const ot=this.provider.getRpcTransaction(rt);return this.provider.send("eth_sendTransaction",[ot])}async sendTransaction(tt){const rt=await this.provider.getBlockNumber(),nt=await this.sendUncheckedTransaction(tt);return await new Promise((ot,st)=>{const at=[1e3,100];let ct=0;const lt=async()=>{try{const dt=await this.provider.getTransaction(nt);if(dt!=null){ot(dt.replaceableTransaction(rt));return}}catch(dt){if(isError(dt,"CANCELLED")||isError(dt,"BAD_DATA")||isError(dt,"NETWORK_ERROR")||isError(dt,"UNSUPPORTED_OPERATION")){dt.info==null&&(dt.info={}),dt.info.sendTransactionHash=nt,st(dt);return}if(isError(dt,"INVALID_ARGUMENT")&&(ct++,dt.info==null&&(dt.info={}),dt.info.sendTransactionHash=nt,ct>10)){st(dt);return}this.provider.emit("error",makeError("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:dt}))}this.provider._setTimeout(()=>{lt()},at.pop()||4e3)};lt()})}async signTransaction(tt){const rt=deepCopy(tt);if(rt.from){const ot=await resolveAddress(rt.from,this.provider);assertArgument(ot!=null&&ot.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",tt),rt.from=ot}else rt.from=this.address;const nt=this.provider.getRpcTransaction(rt);return await this.provider.send("eth_signTransaction",[nt])}async signMessage(tt){const rt=typeof tt=="string"?toUtf8Bytes(tt):tt;return await this.provider.send("personal_sign",[hexlify(rt),this.address.toLowerCase()])}async signTypedData(tt,rt,nt){const ot=deepCopy(nt),st=await TypedDataEncoder.resolveNames(tt,rt,ot,async at=>{const ct=await resolveAddress(at);return assertArgument(ct!=null,"TypedData does not support null address","value",at),ct});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(st.domain,rt,st.value))])}async unlock(tt){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),tt,null])}async _legacySignMessage(tt){const rt=typeof tt=="string"?toUtf8Bytes(tt):tt;return await this.provider.send("eth_sign",[this.address.toLowerCase(),hexlify(rt)])}}var _i,Go,un,qr,Lr,_r,vr,hs,Us;class JsonRpcApiProvider extends AbstractProvider{constructor(tt,rt){super(tt,rt);Ot(this,hs);Ot(this,_i);Ot(this,Go);Ot(this,un);Ot(this,qr);Ot(this,Lr);Ot(this,_r);Ot(this,vr);Pt(this,Go,1),Pt(this,_i,Object.assign({},defaultOptions,rt||{})),Pt(this,un,[]),Pt(this,qr,null),Pt(this,_r,null),Pt(this,vr,null);{let ot=null;const st=new Promise(at=>{ot=at});Pt(this,Lr,{promise:st,resolve:ot})}const nt=this._getOption("staticNetwork");typeof nt=="boolean"?(assertArgument(!nt||tt!=="any","staticNetwork cannot be used on special network 'any'","options",rt),nt&&tt!=null&&Pt(this,_r,Network.from(tt))):nt&&(assertArgument(tt==null||nt.matches(tt),"staticNetwork MUST match network object","options",rt),Pt(this,_r,nt))}_getOption(tt){return Et(this,_i)[tt]}get _network(){return assert$1(Et(this,_r),"network is not available yet","NETWORK_ERROR"),Et(this,_r)}async _perform(tt){if(tt.method==="call"||tt.method==="estimateGas"){let nt=tt.transaction;if(nt&&nt.type!=null&&getBigInt(nt.type)&&nt.maxFeePerGas==null&&nt.maxPriorityFeePerGas==null){const ot=await this.getFeeData();ot.maxFeePerGas==null&&ot.maxPriorityFeePerGas==null&&(tt=Object.assign({},tt,{transaction:Object.assign({},nt,{type:void 0})}))}}const rt=this.getRpcRequest(tt);return rt!=null?await this.send(rt.method,rt.args):super._perform(tt)}async _detectNetwork(){const tt=this._getOption("staticNetwork");if(tt)if(tt===!0){if(Et(this,_r))return Et(this,_r)}else return tt;return Et(this,vr)?await Et(this,vr):this.ready?(Pt(this,vr,(async()=>{try{const rt=Network.from(getBigInt(await this.send("eth_chainId",[])));return Pt(this,vr,null),rt}catch(rt){throw Pt(this,vr,null),rt}})()),await Et(this,vr)):(Pt(this,vr,(async()=>{const rt={id:Yo(this,Go)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:rt});let nt;try{nt=(await this._send(rt))[0],Pt(this,vr,null)}catch(ot){throw Pt(this,vr,null),this.emit("debug",{action:"receiveRpcError",error:ot}),ot}if(this.emit("debug",{action:"receiveRpcResult",result:nt}),"result"in nt)return Network.from(getBigInt(nt.result));throw this.getRpcError(rt,nt)})()),await Et(this,vr))}_start(){Et(this,Lr)==null||Et(this,Lr).resolve==null||(Et(this,Lr).resolve(),Pt(this,Lr,null),(async()=>{for(;Et(this,_r)==null&&!this.destroyed;)try{Pt(this,_r,await this._detectNetwork())}catch(tt){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",makeError("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:tt}})),await stall(1e3)}Ut(this,hs,Us).call(this)})())}async _waitUntilReady(){if(Et(this,Lr)!=null)return await Et(this,Lr).promise}_getSubscriber(tt){return tt.type==="pending"?new FilterIdPendingSubscriber(this):tt.type==="event"?this._getOption("polling")?new PollingEventSubscriber(this,tt.filter):new FilterIdEventSubscriber(this,tt.filter):tt.type==="orphan"&&tt.filter.orphan==="drop-log"?new UnmanagedSubscriber("orphan"):super._getSubscriber(tt)}get ready(){return Et(this,Lr)==null}getRpcTransaction(tt){const rt={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(nt=>{if(tt[nt]==null)return;let ot=nt;nt==="gasLimit"&&(ot="gas"),rt[ot]=toQuantity(getBigInt(tt[nt],`tx.${nt}`))}),["from","to","data"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=hexlify(tt[nt]))}),tt.accessList&&(rt.accessList=accessListify(tt.accessList)),tt.blobVersionedHashes&&(rt.blobVersionedHashes=tt.blobVersionedHashes.map(nt=>nt.toLowerCase())),tt.authorizationList&&(rt.authorizationList=tt.authorizationList.map(nt=>{const ot=authorizationify(nt);return{address:ot.address,nonce:toQuantity(ot.nonce),chainId:toQuantity(ot.chainId),yParity:toQuantity(ot.signature.yParity),r:toQuantity(ot.signature.r),s:toQuantity(ot.signature.s)}})),rt}getRpcRequest(tt){switch(tt.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase(tt.address),tt.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase(tt.address),tt.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase(tt.address),tt.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase(tt.address),"0x"+tt.position.toString(16),tt.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[tt.signedTransaction]};case"getBlock":if("blockTag"in tt)return{method:"eth_getBlockByNumber",args:[tt.blockTag,!!tt.includeTransactions]};if("blockHash"in tt)return{method:"eth_getBlockByHash",args:[tt.blockHash,!!tt.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[tt.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[tt.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(tt.transaction),tt.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(tt.transaction)]};case"getLogs":return tt.filter&&tt.filter.address!=null&&(Array.isArray(tt.filter.address)?tt.filter.address=tt.filter.address.map(getLowerCase):tt.filter.address=getLowerCase(tt.filter.address)),{method:"eth_getLogs",args:[tt.filter]}}return null}getRpcError(tt,rt){const{method:nt}=tt,{error:ot}=rt;if(nt==="eth_estimateGas"&&ot.message){const ct=ot.message;if(!ct.match(/revert/i)&&ct.match(/insufficient funds/i))return makeError("insufficient funds","INSUFFICIENT_FUNDS",{transaction:tt.params[0],info:{payload:tt,error:ot}});if(ct.match(/nonce/i)&&ct.match(/too low/i))return makeError("nonce has already been used","NONCE_EXPIRED",{transaction:tt.params[0],info:{payload:tt,error:ot}})}if(nt==="eth_call"||nt==="eth_estimateGas"){const ct=spelunkData(ot),lt=AbiCoder.getBuiltinCallException(nt==="eth_call"?"call":"estimateGas",tt.params[0],ct?ct.data:null);return lt.info={error:ot,payload:tt},lt}const st=JSON.stringify(spelunkMessage(ot));if(typeof ot.message=="string"&&ot.message.match(/user denied|ethers-user-denied/i))return makeError("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[nt]||"unknown",reason:"rejected",info:{payload:tt,error:ot}});if(nt==="eth_sendRawTransaction"||nt==="eth_sendTransaction"){const ct=tt.params[0];if(st.match(/insufficient funds|base fee exceeds gas limit/i))return makeError("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:ct,info:{error:ot}});if(st.match(/nonce/i)&&st.match(/too low/i))return makeError("nonce has already been used","NONCE_EXPIRED",{transaction:ct,info:{error:ot}});if(st.match(/replacement transaction/i)&&st.match(/underpriced/i))return makeError("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:ct,info:{error:ot}});if(st.match(/only replay-protected/i))return makeError("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:nt,info:{transaction:ct,info:{error:ot}}})}let at=!!st.match(/the method .* does not exist/i);return at||ot&&ot.details&&ot.details.startsWith("Unauthorized method:")&&(at=!0),at?makeError("unsupported operation","UNSUPPORTED_OPERATION",{operation:tt.method,info:{error:ot,payload:tt}}):makeError("could not coalesce error","UNKNOWN_ERROR",{error:ot,payload:tt})}send(tt,rt){if(this.destroyed)return Promise.reject(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:tt}));const nt=Yo(this,Go)._++,ot=new Promise((st,at)=>{Et(this,un).push({resolve:st,reject:at,payload:{method:tt,params:rt,id:nt,jsonrpc:"2.0"}})});return Ut(this,hs,Us).call(this),ot}async getSigner(tt){tt==null&&(tt=0);const rt=this.send("eth_accounts",[]);if(typeof tt=="number"){const ot=await rt;if(tt>=ot.length)throw new Error("no such account");return new JsonRpcSigner(this,ot[tt])}const{accounts:nt}=await resolveProperties({network:this.getNetwork(),accounts:rt});tt=getAddress(tt);for(const ot of nt)if(getAddress(ot)===tt)return new JsonRpcSigner(this,tt);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(rt=>new JsonRpcSigner(this,rt))}destroy(){Et(this,qr)&&(clearTimeout(Et(this,qr)),Pt(this,qr,null));for(const{payload:tt,reject:rt}of Et(this,un))rt(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:tt.method}));Pt(this,un,[]),super.destroy()}}_i=new WeakMap,Go=new WeakMap,un=new WeakMap,qr=new WeakMap,Lr=new WeakMap,_r=new WeakMap,vr=new WeakMap,hs=new WeakSet,Us=function(){if(Et(this,qr))return;const tt=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Pt(this,qr,setTimeout(()=>{Pt(this,qr,null);const rt=Et(this,un);for(Pt(this,un,[]);rt.length;){const nt=[rt.shift()];for(;rt.length&&nt.length!==Et(this,_i).batchMaxCount;)if(nt.push(rt.shift()),JSON.stringify(nt.map(st=>st.payload)).length>Et(this,_i).batchMaxSize){rt.unshift(nt.pop());break}(async()=>{const ot=nt.length===1?nt[0].payload:nt.map(st=>st.payload);this.emit("debug",{action:"sendRpcPayload",payload:ot});try{const st=await this._send(ot);this.emit("debug",{action:"receiveRpcResult",result:st});for(const{resolve:at,reject:ct,payload:lt}of nt){if(this.destroyed){ct(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:lt.method}));continue}const dt=st.filter(ft=>ft.id===lt.id)[0];if(dt==null){const ft=makeError("missing response for request","BAD_DATA",{value:st,info:{payload:lt}});this.emit("error",ft),ct(ft);continue}if("error"in dt){ct(this.getRpcError(lt,dt));continue}at(dt.result)}}catch(st){this.emit("debug",{action:"receiveRpcError",error:st});for(const{reject:at}of nt)at(st)}})()}},tt))};var Tn;class JsonRpcApiPollingProvider extends JsonRpcApiProvider{constructor(tt,rt){super(tt,rt);Ot(this,Tn);let nt=this._getOption("pollingInterval");nt==null&&(nt=defaultOptions.pollingInterval),Pt(this,Tn,nt)}_getSubscriber(tt){const rt=super._getSubscriber(tt);return isPollable(rt)&&(rt.pollingInterval=Et(this,Tn)),rt}get pollingInterval(){return Et(this,Tn)}set pollingInterval(tt){if(!Number.isInteger(tt)||tt<0)throw new Error("invalid interval");Pt(this,Tn,tt),this._forEachSubscriber(rt=>{isPollable(rt)&&(rt.pollingInterval=Et(this,Tn))})}}Tn=new WeakMap;function spelunkData(_e){if(_e==null)return null;if(typeof _e.message=="string"&&_e.message.match(/revert/i)&&isHexString(_e.data))return{message:_e.message,data:_e.data};if(typeof _e=="object"){for(const et in _e){const tt=spelunkData(_e[et]);if(tt)return tt}return null}if(typeof _e=="string")try{return spelunkData(JSON.parse(_e))}catch{}return null}function _spelunkMessage(_e,et){if(_e!=null){if(typeof _e.message=="string"&&et.push(_e.message),typeof _e=="object")for(const tt in _e)_spelunkMessage(_e[tt],et);if(typeof _e=="string")try{return _spelunkMessage(JSON.parse(_e),et)}catch{}}}function spelunkMessage(_e){const et=[];return _spelunkMessage(_e,et),et}var Ko,qo;const jn=class jn extends JsonRpcApiPollingProvider{constructor(tt,rt,nt){const ot=Object.assign({},nt??{},{batchMaxCount:1});assertArgument(tt&&tt.request,"invalid EIP-1193 provider","ethereum",tt);super(rt,ot);Ot(this,Ko);Ot(this,qo);Pt(this,qo,null),nt&&nt.providerInfo&&Pt(this,qo,nt.providerInfo),Pt(this,Ko,async(st,at)=>{const ct={method:st,params:at};this.emit("debug",{action:"sendEip1193Request",payload:ct});try{const lt=await tt.request(ct);return this.emit("debug",{action:"receiveEip1193Result",result:lt}),lt}catch(lt){const dt=new Error(lt.message);throw dt.code=lt.code,dt.data=lt.data,dt.payload=ct,this.emit("debug",{action:"receiveEip1193Error",error:dt}),dt}})}get providerInfo(){return Et(this,qo)}async send(tt,rt){return await this._start(),await super.send(tt,rt)}async _send(tt){assertArgument(!Array.isArray(tt),"EIP-1193 does not support batch request","payload",tt);try{const rt=await Et(this,Ko).call(this,tt.method,tt.params||[]);return[{id:tt.id,result:rt}]}catch(rt){return[{id:tt.id,error:{code:rt.code,data:rt.data,message:rt.message}}]}}getRpcError(tt,rt){switch(rt=JSON.parse(JSON.stringify(rt)),rt.error.code||-1){case 4001:rt.error.message=`ethers-user-denied: ${rt.error.message}`;break;case 4200:rt.error.message=`ethers-unsupported: ${rt.error.message}`;break}return super.getRpcError(tt,rt)}async hasSigner(tt){tt==null&&(tt=0);const rt=await this.send("eth_accounts",[]);return typeof tt=="number"?rt.length>tt:(tt=tt.toLowerCase(),rt.filter(nt=>nt.toLowerCase()===tt).length!==0)}async getSigner(tt){if(tt==null&&(tt=0),!await this.hasSigner(tt))try{await Et(this,Ko).call(this,"eth_requestAccounts",[])}catch(rt){const nt=rt.payload;throw this.getRpcError(nt,{id:nt.id,error:rt})}return await super.getSigner(tt)}static async discover(tt){if(tt==null&&(tt={}),tt.provider)return new jn(tt.provider);const rt=tt.window?tt.window:typeof window<"u"?window:null;if(rt==null)return null;const nt=tt.anyProvider;if(nt&&rt.ethereum)return new jn(rt.ethereum);if(!("addEventListener"in rt&&"dispatchEvent"in rt&&"removeEventListener"in rt))return null;const ot=tt.timeout?tt.timeout:300;return ot===0?null:await new Promise((st,at)=>{let ct=[];const lt=ht=>{ct.push(ht.detail),nt&&dt()},dt=()=>{if(clearTimeout(ft),ct.length)if(tt&&tt.filter){const ht=tt.filter(ct.map(pt=>Object.assign({},pt.info)));if(ht==null)st(null);else if(ht instanceof jn)st(ht);else{let pt=null;if(ht.uuid&&(pt=ct.filter(mt=>ht.uuid===mt.info.uuid)[0]),pt){const{provider:gt,info:mt}=pt;st(new jn(gt,void 0,{providerInfo:mt}))}else at(makeError("filter returned unknown info","UNSUPPORTED_OPERATION",{value:ht}))}}else{const{provider:ht,info:pt}=ct[0];st(new jn(ht,void 0,{providerInfo:pt}))}else st(null);rt.removeEventListener("eip6963:announceProvider",lt)},ft=setTimeout(()=>{dt()},ot);rt.addEventListener("eip6963:announceProvider",lt),rt.dispatchEvent(new Event("eip6963:requestProvider"))})}};Ko=new WeakMap,qo=new WeakMap;let BrowserProvider=jn,e={data:""},t=_e=>{if(typeof window=="object"){let et=(_e?_e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return et.nonce=window.__nonce__,et.parentNode||(_e||document.head).appendChild(et),et.firstChild}return _e||e},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(_e,et)=>{let tt="",rt="",nt="";for(let ot in _e){let st=_e[ot];ot[0]=="@"?ot[1]=="i"?tt=ot+" "+st+";":rt+=ot[1]=="f"?o(st,ot):ot+"{"+o(st,ot[1]=="k"?"":et)+"}":typeof st=="object"?rt+=o(st,et?et.replace(/([^,])+/g,at=>ot.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,ct=>/&/.test(ct)?ct.replace(/&/g,at):at?at+" "+ct:ct)):ot):st!=null&&(ot=/^--/.test(ot)?ot:ot.replace(/[A-Z]/g,"-$&").toLowerCase(),nt+=o.p?o.p(ot,st):ot+":"+st+";")}return tt+(et&&nt?et+"{"+nt+"}":nt)+rt},c={},s=_e=>{if(typeof _e=="object"){let et="";for(let tt in _e)et+=tt+s(_e[tt]);return et}return _e},i=(_e,et,tt,rt,nt)=>{let ot=s(_e),st=c[ot]||(c[ot]=(ct=>{let lt=0,dt=11;for(;lt<ct.length;)dt=101*dt+ct.charCodeAt(lt++)>>>0;return"go"+dt})(ot));if(!c[st]){let ct=ot!==_e?_e:(lt=>{let dt,ft,ht=[{}];for(;dt=l.exec(lt.replace(a,""));)dt[4]?ht.shift():dt[3]?(ft=dt[3].replace(n$1," ").trim(),ht.unshift(ht[0][ft]=ht[0][ft]||{})):ht[0][dt[1]]=dt[2].replace(n$1," ").trim();return ht[0]})(_e);c[st]=o(nt?{["@keyframes "+st]:ct}:ct,tt?"":"."+st)}let at=tt&&c.g?c.g:null;return tt&&(c.g=c[st]),((ct,lt,dt,ft)=>{ft?lt.data=lt.data.replace(ft,ct):lt.data.indexOf(ct)===-1&&(lt.data=dt?ct+lt.data:lt.data+ct)})(c[st],et,rt,at),st},p=(_e,et,tt)=>_e.reduce((rt,nt,ot)=>{let st=et[ot];if(st&&st.call){let at=st(tt),ct=at&&at.props&&at.props.className||/^go/.test(at)&&at;st=ct?"."+ct:at&&typeof at=="object"?at.props?"":o(at,""):at===!1?"":at}return rt+nt+(st??"")},"");function u(_e){let et=this||{},tt=_e.call?_e(et.p):_e;return i(tt.unshift?tt.raw?p(tt,[].slice.call(arguments,1),et.p):tt.reduce((rt,nt)=>Object.assign(rt,nt&&nt.call?nt(et.p):nt),{}):tt,t(et.target),et.g,et.o,et.k)}let d,f$1,g;u.bind({g:1});let h$1=u.bind({k:1});function m(_e,et,tt,rt){o.p=et,d=_e,f$1=tt,g=rt}function w$1(_e,et){let tt=this||{};return function(){let rt=arguments;function nt(ot,st){let at=Object.assign({},ot),ct=at.className||nt.className;tt.p=Object.assign({theme:f$1&&f$1()},at),tt.o=/ *go\d+/.test(ct),at.className=u.apply(tt,rt)+(ct?" "+ct:"");let lt=_e;return _e[0]&&(lt=at.as||_e,delete at.as),g&&lt[0]&&g(at),d(lt,at)}return nt}}var Z=_e=>typeof _e=="function",h=(_e,et)=>Z(_e)?_e(et):_e,W=(()=>{let _e=0;return()=>(++_e).toString()})(),E=(()=>{let _e;return()=>{if(_e===void 0&&typeof window<"u"){let et=matchMedia("(prefers-reduced-motion: reduce)");_e=!et||et.matches}return _e}})(),re$1=20,k="default",H=(_e,et)=>{let{toastLimit:tt}=_e.settings;switch(et.type){case 0:return{..._e,toasts:[et.toast,..._e.toasts].slice(0,tt)};case 1:return{..._e,toasts:_e.toasts.map(st=>st.id===et.toast.id?{...st,...et.toast}:st)};case 2:let{toast:rt}=et;return H(_e,{type:_e.toasts.find(st=>st.id===rt.id)?1:0,toast:rt});case 3:let{toastId:nt}=et;return{..._e,toasts:_e.toasts.map(st=>st.id===nt||nt===void 0?{...st,dismissed:!0,visible:!1}:st)};case 4:return et.toastId===void 0?{..._e,toasts:[]}:{..._e,toasts:_e.toasts.filter(st=>st.id!==et.toastId)};case 5:return{..._e,pausedAt:et.time};case 6:let ot=et.time-(_e.pausedAt||0);return{..._e,pausedAt:void 0,toasts:_e.toasts.map(st=>({...st,pauseDuration:st.pauseDuration+ot}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re$1}},f={},Y=(_e,et=k)=>{f[et]=H(f[et]||j,_e),v.forEach(([tt,rt])=>{tt===et&&rt(f[et])})},_=_e=>Object.keys(f).forEach(et=>Y(_e,et)),Q=_e=>Object.keys(f).find(et=>f[et].toasts.some(tt=>tt.id===_e)),S=(_e=k)=>et=>{Y(et,_e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(_e={},et=k)=>{let[tt,rt]=reactExports.useState(f[et]||j),nt=reactExports.useRef(f[et]);reactExports.useEffect(()=>(nt.current!==f[et]&&rt(f[et]),v.push([et,rt]),()=>{let st=v.findIndex(([at])=>at===et);st>-1&&v.splice(st,1)}),[et]);let ot=tt.toasts.map(st=>{var at,ct,lt;return{..._e,..._e[st.type],...st,removeDelay:st.removeDelay||((at=_e[st.type])==null?void 0:at.removeDelay)||(_e==null?void 0:_e.removeDelay),duration:st.duration||((ct=_e[st.type])==null?void 0:ct.duration)||(_e==null?void 0:_e.duration)||se[st.type],style:{..._e.style,...(lt=_e[st.type])==null?void 0:lt.style,...st.style}}});return{...tt,toasts:ot}},ie=(_e,et="blank",tt)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:et,ariaProps:{role:"status","aria-live":"polite"},message:_e,pauseDuration:0,...tt,id:(tt==null?void 0:tt.id)||W()}),P$1=_e=>(et,tt)=>{let rt=ie(et,_e,tt);return S(rt.toasterId||Q(rt.id))({type:2,toast:rt}),rt.id},n=(_e,et)=>P$1("blank")(_e,et);n.error=P$1("error");n.success=P$1("success");n.loading=P$1("loading");n.custom=P$1("custom");n.dismiss=(_e,et)=>{let tt={type:3,toastId:_e};et?S(et)(tt):_(tt)};n.dismissAll=_e=>n.dismiss(void 0,_e);n.remove=(_e,et)=>{let tt={type:4,toastId:_e};et?S(et)(tt):_(tt)};n.removeAll=_e=>n.remove(void 0,_e);n.promise=(_e,et,tt)=>{let rt=n.loading(et.loading,{...tt,...tt==null?void 0:tt.loading});return typeof _e=="function"&&(_e=_e()),_e.then(nt=>{let ot=et.success?h(et.success,nt):void 0;return ot?n.success(ot,{id:rt,...tt,...tt==null?void 0:tt.success}):n.dismiss(rt),nt}).catch(nt=>{let ot=et.error?h(et.error,nt):void 0;ot?n.error(ot,{id:rt,...tt,...tt==null?void 0:tt.error}):n.dismiss(rt)}),_e};var ce=1e3,w=(_e,et="default")=>{let{toasts:tt,pausedAt:rt}=V(_e,et),nt=reactExports.useRef(new Map).current,ot=reactExports.useCallback((ft,ht=ce)=>{if(nt.has(ft))return;let pt=setTimeout(()=>{nt.delete(ft),st({type:4,toastId:ft})},ht);nt.set(ft,pt)},[]);reactExports.useEffect(()=>{if(rt)return;let ft=Date.now(),ht=tt.map(pt=>{if(pt.duration===1/0)return;let gt=(pt.duration||0)+pt.pauseDuration-(ft-pt.createdAt);if(gt<0){pt.visible&&n.dismiss(pt.id);return}return setTimeout(()=>n.dismiss(pt.id,et),gt)});return()=>{ht.forEach(pt=>pt&&clearTimeout(pt))}},[tt,rt,et]);let st=reactExports.useCallback(S(et),[et]),at=reactExports.useCallback(()=>{st({type:5,time:Date.now()})},[st]),ct=reactExports.useCallback((ft,ht)=>{st({type:1,toast:{id:ft,height:ht}})},[st]),lt=reactExports.useCallback(()=>{rt&&st({type:6,time:Date.now()})},[rt,st]),dt=reactExports.useCallback((ft,ht)=>{let{reverseOrder:pt=!1,gutter:gt=8,defaultPosition:mt}=ht||{},vt=tt.filter(xt=>(xt.position||mt)===(ft.position||mt)&&xt.height),yt=vt.findIndex(xt=>xt.id===ft.id),bt=vt.filter((xt,wt)=>wt<yt&&xt.visible).length;return vt.filter(xt=>xt.visible).slice(...pt?[bt+1]:[0,bt]).reduce((xt,wt)=>xt+(wt.height||0)+gt,0)},[tt]);return reactExports.useEffect(()=>{tt.forEach(ft=>{if(ft.dismissed)ot(ft.id,ft.removeDelay);else{let ht=nt.get(ft.id);ht&&(clearTimeout(ht),nt.delete(ft.id))}})},[tt,ot]),{toasts:tt,handlers:{updateHeight:ct,startPause:at,endPause:lt,calculateOffset:dt}}},de=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_e=>_e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${_e=>_e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${_e=>_e.secondary||"#e0e0e0"};
  border-right-color: ${_e=>_e.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_e=>_e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${_e=>_e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$1("div")`
  position: absolute;
`,Se=w$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$=({toast:_e})=>{let{icon:et,type:tt,iconTheme:rt}=_e;return et!==void 0?typeof et=="string"?reactExports.createElement(Pe,null,et):et:tt==="blank"?null:reactExports.createElement(Se,null,reactExports.createElement(F,{...rt}),tt!=="loading"&&reactExports.createElement(be,null,tt==="error"?reactExports.createElement(C,{...rt}):reactExports.createElement(L,{...rt})))},Re=_e=>`
0% {transform: translate3d(0,${_e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=_e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${_e*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie=w$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(_e,et)=>{let tt=_e.includes("top")?1:-1,[rt,nt]=E()?[ve,De]:[Re(tt),Ee(tt)];return{animation:et?`${h$1(rt)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(nt)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=reactExports.memo(({toast:_e,position:et,style:tt,children:rt})=>{let nt=_e.height?ke(_e.position||et||"top-center",_e.visible):{opacity:0},ot=reactExports.createElement($,{toast:_e}),st=reactExports.createElement(Ie,{..._e.ariaProps},h(_e.message,_e));return reactExports.createElement(Oe,{className:_e.className,style:{...nt,...tt,..._e.style}},typeof rt=="function"?rt({icon:ot,message:st}):reactExports.createElement(reactExports.Fragment,null,ot,st))});m(reactExports.createElement);var we=({id:_e,className:et,style:tt,onHeightUpdate:rt,children:nt})=>{let ot=reactExports.useCallback(st=>{if(st){let at=()=>{let ct=st.getBoundingClientRect().height;rt(_e,ct)};at(),new MutationObserver(at).observe(st,{subtree:!0,childList:!0,characterData:!0})}},[_e,rt]);return reactExports.createElement("div",{ref:ot,className:et,style:tt},nt)},Me=(_e,et)=>{let tt=_e.includes("top"),rt=tt?{top:0}:{bottom:0},nt=_e.includes("center")?{justifyContent:"center"}:_e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${et*(tt?1:-1)}px)`,...rt,...nt}},Ce=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D=16,Fe=({reverseOrder:_e,position:et="top-center",toastOptions:tt,gutter:rt,children:nt,toasterId:ot,containerStyle:st,containerClassName:at})=>{let{toasts:ct,handlers:lt}=w(tt,ot);return reactExports.createElement("div",{"data-rht-toaster":ot||"",style:{position:"fixed",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:"none",...st},className:at,onMouseEnter:lt.startPause,onMouseLeave:lt.endPause},ct.map(dt=>{let ft=dt.position||et,ht=lt.calculateOffset(dt,{reverseOrder:_e,gutter:rt,defaultPosition:et}),pt=Me(ft,ht);return reactExports.createElement(we,{id:dt.id,key:dt.id,onHeightUpdate:lt.updateHeight,className:dt.visible?Ce:"",style:pt},dt.type==="custom"?h(dt.message,dt):nt?nt(dt):reactExports.createElement(N,{toast:dt,position:ft}))}))},zt=n;const MOONBASE_PARAMS$1={chainId:"0x507",chainName:"Moonbase Alpha",nativeCurrency:{name:"Dev",symbol:"DEV",decimals:18},rpcUrls:["https://rpc.api.moonbase.moonbeam.network"],blockExplorerUrls:["https://moonbase.moonscan.io"]};function getInjectedProvider$1(){const _e=window.ethereum;return _e?Array.isArray(_e.providers)?_e.providers.find(tt=>tt&&tt.isMetaMask)??_e.providers[0]:_e:null}const WalletConnect=reactExports.forwardRef(({address:_e,setAddress:et},tt)=>{const rt=async()=>{const ot=getInjectedProvider$1();if(!ot){zt.error("No injected wallet found. Please install MetaMask.");return}try{if(await ot.request({method:"eth_chainId"})!==MOONBASE_PARAMS$1.chainId)try{await ot.request({method:"wallet_switchEthereumChain",params:[{chainId:MOONBASE_PARAMS$1.chainId}]})}catch(dt){if((dt==null?void 0:dt.code)===4902)await ot.request({method:"wallet_addEthereumChain",params:[MOONBASE_PARAMS$1]});else throw dt}await ot.request({method:"eth_requestAccounts"});const lt=await(await new BrowserProvider(ot).getSigner()).getAddress();et(lt),zt.success("Wallet connected")}catch(st){console.error(st),zt.error((st==null?void 0:st.message)??"Failed to connect wallet")}};reactExports.useImperativeHandle(tt,()=>({connect:rt}),[]);const nt=()=>{et(""),zt("Disconnected",{icon:"👋"})};return jsxRuntimeExports.jsx("div",{children:_e?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-emerald-800 dark:text-emerald-200",children:[_e.slice(0,6),"...",_e.slice(-4)]}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full","aria-label":"Connected"})]}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"btn btn-secondary text-xs","aria-label":"Disconnect Wallet",children:"Disconnect"})]}):jsxRuntimeExports.jsx("button",{onClick:rt,className:"btn btn-primary hover:scale-105 transition-transform duration-200 shadow-lg hover:shadow-green-500/30","aria-label":"Connect Wallet",children:"🔗 Connect Wallet"})})}),TOKEN_ADDRESS="0x158837b65aC6888e6E422b8Ed50C1A91ef21Eb90",VERIFIER_ADDRESS="0xa9BB014daEf12772A1E2d494381c5620ba476fF7",POOL_ADDRESS="0xa04bD70B50C9485D8388B5E58f3a146b405606C8",USE_V2=!0,tokenAbi=["function balanceOf(address) view returns (uint256)","function approve(address spender, uint256 value) returns (bool)"],verifierAbi=["function submitAction(string description, string proofCid)","function submitActionV2(string description, string proofCid, uint8 creditType, bytes32 methodologyId, bytes32 projectId, bytes32 baselineId, uint256 quantity, uint256 uncertaintyBps, uint256 durabilityYears, string metadataCid)","function setAttestation(uint256 actionId, bytes32 uid)","function verifyAction(uint256 actionId, uint256 reward)","function finalizeAction(uint256 actionId)","function challengeAction(uint256 actionId, string evidenceCid)","function resolveChallenge(uint256 actionId, uint256 challengeIdx, bool upheld, address loserSlashTo)","function attachOracleReport(uint256 actionId, string cid)","function depositStake() payable","function withdrawStake(uint256 amount)","function getActionCount() view returns (uint256)","function actions(uint256) view returns (address user, string description, string proofCid, uint256 reward, bool verified, uint256 timestamp, uint8 creditType, bytes32 methodologyId, bytes32 projectId, bytes32 baselineId, uint256 quantity, uint256 uncertaintyBps, uint256 durabilityYears, string metadataCid, bytes32 attestationUID, uint8 status, uint256 verifiedAt, uint256 rewardPending)","function getChallenges(uint256 actionId) view returns (tuple(address challenger, string evidenceCid, uint256 timestamp, bool resolved, bool upheld)[])","function getOracleReports(uint256 actionId) view returns (string[])","function verifierOfAction(uint256) view returns (address)","function stakeBalance(address) view returns (uint256)","function challengeWindowSecs() view returns (uint256)","function submitStakeWei() view returns (uint256)","function verifyStakeWei() view returns (uint256)","function challengeStakeWei() view returns (uint256)","function owner() view returns (address)"],poolAbi=["function donateTo(address ngo, uint256 amount)","function isNGO(address ngo) view returns (bool)"];async function getContracts(_e,et=!1){const tt=et?await _e.getSigner():null,rt=new Contract(TOKEN_ADDRESS,tokenAbi,_e),nt=new Contract(VERIFIER_ADDRESS,verifierAbi,_e),ot=new Contract(POOL_ADDRESS,poolAbi,_e),st=null,at=null,ct=null,lt=null,dt=null,ft=tt?rt.connect(tt):rt,ht=tt?nt.connect(tt):nt,pt=tt&&ot?ot.connect(tt):ot,gt=tt&&st?st.connect(tt):st,mt=tt&&at?at.connect(tt):at,vt=tt&&ct?ct.connect(tt):ct,yt=tt&&lt?lt.connect(tt):lt,bt=tt&&dt?dt.connect(tt):dt;return{token:rt,verifier:nt,pool:ot,methodologyRegistry:st,baselineRegistry:at,retirementRegistry:ct,verifierBadgeSBT:lt,matchingPool:dt,tokenWithSigner:ft,verifierWithSigner:ht,poolWithSigner:pt,methodologyRegistryWithSigner:gt,baselineRegistryWithSigner:mt,retirementRegistryWithSigner:vt,verifierBadgeSBTWithSigner:yt,matchingPoolWithSigner:bt}}function r(_e){var et,tt,rt="";if(typeof _e=="string"||typeof _e=="number")rt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var nt=_e.length;for(et=0;et<nt;et++)_e[et]&&(tt=r(_e[et]))&&(rt&&(rt+=" "),rt+=tt)}else for(tt in _e)_e[tt]&&(rt&&(rt+=" "),rt+=tt);return rt}function clsx(){for(var _e,et,tt=0,rt="",nt=arguments.length;tt<nt;tt++)(_e=arguments[tt])&&(et=r(_e))&&(rt&&(rt+=" "),rt+=et);return rt}var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(_e){if(typeof _e!="string")return!1;var et=EventKeys;return et.includes(_e)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(_e){if(typeof _e!="string")return!1;var et=SVGElementPropKeys;return et.includes(_e)}function isDataAttribute(_e){return typeof _e=="string"&&_e.startsWith("data-")}function svgPropertiesNoEvents(_e){var et=Object.entries(_e).filter(tt=>{var[rt]=tt;return isSvgElementPropKey(rt)||isDataAttribute(rt)});return Object.fromEntries(et)}function svgPropertiesNoEventsFromUnknown(_e){if(_e==null)return null;if(reactExports.isValidElement(_e)&&typeof _e.props=="object"&&_e.props!==null){var et=_e.props;return svgPropertiesNoEvents(et)}return typeof _e=="object"&&!Array.isArray(_e)?svgPropertiesNoEvents(_e):null}function svgPropertiesAndEvents(_e){var et=Object.entries(_e).filter(tt=>{var[rt]=tt;return isSvgElementPropKey(rt)||isDataAttribute(rt)||isEventKey(rt)});return Object.fromEntries(et)}function svgPropertiesAndEventsFromUnknown(_e){return _e==null?null:reactExports.isValidElement(_e)?svgPropertiesAndEvents(_e.props):typeof _e=="object"&&!Array.isArray(_e)?svgPropertiesAndEvents(_e):null}var _excluded$f=["children","width","height","viewBox","className","style","title","desc"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$k.apply(null,arguments)}function _objectWithoutProperties$f(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$f(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$f(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var Surface=reactExports.forwardRef((_e,et)=>{var{children:tt,width:rt,height:nt,viewBox:ot,className:st,style:at,title:ct,desc:lt}=_e,dt=_objectWithoutProperties$f(_e,_excluded$f),ft=ot||{width:rt,height:nt,x:0,y:0},ht=clsx("recharts-surface",st);return reactExports.createElement("svg",_extends$k({},svgPropertiesAndEvents(dt),{className:ht,width:rt,height:nt,style:at,viewBox:"".concat(ft.x," ").concat(ft.y," ").concat(ft.width," ").concat(ft.height),ref:et}),reactExports.createElement("title",null,ct),reactExports.createElement("desc",null,lt),tt)}),_excluded$e=["children","className"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$j.apply(null,arguments)}function _objectWithoutProperties$e(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$e(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$e(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var Layer=reactExports.forwardRef((_e,et)=>{var{children:tt,className:rt}=_e,nt=_objectWithoutProperties$e(_e,_excluded$e),ot=clsx("recharts-layer",rt);return reactExports.createElement("g",_extends$j({className:ot},svgPropertiesAndEvents(nt),{ref:et}),tt)}),LegendPortalContext=reactExports.createContext(null);function constant$1(_e){return function(){return _e}}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let et=1,tt=_e.length;et<tt;++et)this._+=arguments[et]+_e[et]}function appendRound(_e){let et=Math.floor(_e);if(!(et>=0))throw new Error(`invalid digits: ${_e}`);if(et>15)return append;const tt=10**et;return function(rt){this._+=rt[0];for(let nt=1,ot=rt.length;nt<ot;++nt)this._+=Math.round(arguments[nt]*tt)/tt+rt[nt]}}class Path{constructor(et){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=et==null?append:appendRound(et)}moveTo(et,tt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+tt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(et,tt){this._append`L${this._x1=+et},${this._y1=+tt}`}quadraticCurveTo(et,tt,rt,nt){this._append`Q${+et},${+tt},${this._x1=+rt},${this._y1=+nt}`}bezierCurveTo(et,tt,rt,nt,ot,st){this._append`C${+et},${+tt},${+rt},${+nt},${this._x1=+ot},${this._y1=+st}`}arcTo(et,tt,rt,nt,ot){if(et=+et,tt=+tt,rt=+rt,nt=+nt,ot=+ot,ot<0)throw new Error(`negative radius: ${ot}`);let st=this._x1,at=this._y1,ct=rt-et,lt=nt-tt,dt=st-et,ft=at-tt,ht=dt*dt+ft*ft;if(this._x1===null)this._append`M${this._x1=et},${this._y1=tt}`;else if(ht>epsilon)if(!(Math.abs(ft*ct-lt*dt)>epsilon)||!ot)this._append`L${this._x1=et},${this._y1=tt}`;else{let pt=rt-st,gt=nt-at,mt=ct*ct+lt*lt,vt=pt*pt+gt*gt,yt=Math.sqrt(mt),bt=Math.sqrt(ht),xt=ot*Math.tan((pi-Math.acos((mt+ht-vt)/(2*yt*bt)))/2),wt=xt/bt,At=xt/yt;Math.abs(wt-1)>epsilon&&this._append`L${et+wt*dt},${tt+wt*ft}`,this._append`A${ot},${ot},0,0,${+(ft*pt>dt*gt)},${this._x1=et+At*ct},${this._y1=tt+At*lt}`}}arc(et,tt,rt,nt,ot,st){if(et=+et,tt=+tt,rt=+rt,st=!!st,rt<0)throw new Error(`negative radius: ${rt}`);let at=rt*Math.cos(nt),ct=rt*Math.sin(nt),lt=et+at,dt=tt+ct,ft=1^st,ht=st?nt-ot:ot-nt;this._x1===null?this._append`M${lt},${dt}`:(Math.abs(this._x1-lt)>epsilon||Math.abs(this._y1-dt)>epsilon)&&this._append`L${lt},${dt}`,rt&&(ht<0&&(ht=ht%tau+tau),ht>tauEpsilon?this._append`A${rt},${rt},0,1,${ft},${et-at},${tt-ct}A${rt},${rt},0,1,${ft},${this._x1=lt},${this._y1=dt}`:ht>epsilon&&this._append`A${rt},${rt},0,${+(ht>=pi)},${ft},${this._x1=et+rt*Math.cos(ot)},${this._y1=tt+rt*Math.sin(ot)}`)}rect(et,tt,rt,nt){this._append`M${this._x0=this._x1=+et},${this._y0=this._y1=+tt}h${rt=+rt}v${+nt}h${-rt}Z`}toString(){return this._}}function withPath(_e){let et=3;return _e.digits=function(tt){if(!arguments.length)return et;if(tt==null)et=null;else{const rt=Math.floor(tt);if(!(rt>=0))throw new RangeError(`invalid digits: ${tt}`);et=rt}return _e},()=>new Path(et)}function array$1(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:this._context.lineTo(_e,et);break}}};function curveLinear(_e){return new Linear(_e)}function x(_e){return _e[0]}function y(_e){return _e[1]}function shapeLine(_e,et){var tt=constant$1(!0),rt=null,nt=curveLinear,ot=null,st=withPath(at);_e=typeof _e=="function"?_e:_e===void 0?x:constant$1(_e),et=typeof et=="function"?et:et===void 0?y:constant$1(et);function at(ct){var lt,dt=(ct=array$1(ct)).length,ft,ht=!1,pt;for(rt==null&&(ot=nt(pt=st())),lt=0;lt<=dt;++lt)!(lt<dt&&tt(ft=ct[lt],lt,ct))===ht&&((ht=!ht)?ot.lineStart():ot.lineEnd()),ht&&ot.point(+_e(ft,lt,ct),+et(ft,lt,ct));if(pt)return ot=null,pt+""||null}return at.x=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant$1(+ct),at):_e},at.y=function(ct){return arguments.length?(et=typeof ct=="function"?ct:constant$1(+ct),at):et},at.defined=function(ct){return arguments.length?(tt=typeof ct=="function"?ct:constant$1(!!ct),at):tt},at.curve=function(ct){return arguments.length?(nt=ct,rt!=null&&(ot=nt(rt)),at):nt},at.context=function(ct){return arguments.length?(ct==null?rt=ot=null:ot=nt(rt=ct),at):rt},at}function shapeArea(_e,et,tt){var rt=null,nt=constant$1(!0),ot=null,st=curveLinear,at=null,ct=withPath(lt);_e=typeof _e=="function"?_e:_e===void 0?x:constant$1(+_e),et=typeof et=="function"?et:constant$1(et===void 0?0:+et),tt=typeof tt=="function"?tt:tt===void 0?y:constant$1(+tt);function lt(ft){var ht,pt,gt,mt=(ft=array$1(ft)).length,vt,yt=!1,bt,xt=new Array(mt),wt=new Array(mt);for(ot==null&&(at=st(bt=ct())),ht=0;ht<=mt;++ht){if(!(ht<mt&&nt(vt=ft[ht],ht,ft))===yt)if(yt=!yt)pt=ht,at.areaStart(),at.lineStart();else{for(at.lineEnd(),at.lineStart(),gt=ht-1;gt>=pt;--gt)at.point(xt[gt],wt[gt]);at.lineEnd(),at.areaEnd()}yt&&(xt[ht]=+_e(vt,ht,ft),wt[ht]=+et(vt,ht,ft),at.point(rt?+rt(vt,ht,ft):xt[ht],tt?+tt(vt,ht,ft):wt[ht]))}if(bt)return at=null,bt+""||null}function dt(){return shapeLine().defined(nt).curve(st).context(ot)}return lt.x=function(ft){return arguments.length?(_e=typeof ft=="function"?ft:constant$1(+ft),rt=null,lt):_e},lt.x0=function(ft){return arguments.length?(_e=typeof ft=="function"?ft:constant$1(+ft),lt):_e},lt.x1=function(ft){return arguments.length?(rt=ft==null?null:typeof ft=="function"?ft:constant$1(+ft),lt):rt},lt.y=function(ft){return arguments.length?(et=typeof ft=="function"?ft:constant$1(+ft),tt=null,lt):et},lt.y0=function(ft){return arguments.length?(et=typeof ft=="function"?ft:constant$1(+ft),lt):et},lt.y1=function(ft){return arguments.length?(tt=ft==null?null:typeof ft=="function"?ft:constant$1(+ft),lt):tt},lt.lineX0=lt.lineY0=function(){return dt().x(_e).y(et)},lt.lineY1=function(){return dt().x(_e).y(tt)},lt.lineX1=function(){return dt().x(rt).y(et)},lt.defined=function(ft){return arguments.length?(nt=typeof ft=="function"?ft:constant$1(!!ft),lt):nt},lt.curve=function(ft){return arguments.length?(st=ft,ot!=null&&(at=st(ot)),lt):st},lt.context=function(ft){return arguments.length?(ft==null?ot=at=null:at=st(ot=ft),lt):ot},lt}class Bump{constructor(et,tt){this._context=et,this._x=tt}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(et,tt){switch(et=+et,tt=+tt,this._point){case 0:{this._point=1,this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+et)/2,this._y0,this._x0,tt,et,tt):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+tt)/2,et,this._y0,et,tt);break}}this._x0=et,this._y0=tt}}function bumpX(_e){return new Bump(_e,!0)}function bumpY(_e){return new Bump(_e,!1)}function noop$7(){}function point$2(_e,et,tt){_e._context.bezierCurveTo((2*_e._x0+_e._x1)/3,(2*_e._y0+_e._y1)/3,(_e._x0+2*_e._x1)/3,(_e._y0+2*_e._y1)/3,(_e._x0+4*_e._x1+et)/6,(_e._y0+4*_e._y1+tt)/6)}function Basis(_e){this._context=_e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasis(_e){return new Basis(_e)}function BasisClosed(_e){this._context=_e}BasisClosed.prototype={areaStart:noop$7,areaEnd:noop$7,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._x2=_e,this._y2=et;break;case 1:this._point=2,this._x3=_e,this._y3=et;break;case 2:this._point=3,this._x4=_e,this._y4=et,this._context.moveTo((this._x0+4*this._x1+_e)/6,(this._y0+4*this._y1+et)/6);break;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasisClosed(_e){return new BasisClosed(_e)}function BasisOpen(_e){this._context=_e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var tt=(this._x0+4*this._x1+_e)/6,rt=(this._y0+4*this._y1+et)/6;this._line?this._context.lineTo(tt,rt):this._context.moveTo(tt,rt);break;case 3:this._point=4;default:point$2(this,_e,et);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et}};function curveBasisOpen(_e){return new BasisOpen(_e)}function LinearClosed(_e){this._context=_e}LinearClosed.prototype={areaStart:noop$7,areaEnd:noop$7,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_e,et){_e=+_e,et=+et,this._point?this._context.lineTo(_e,et):(this._point=1,this._context.moveTo(_e,et))}};function curveLinearClosed(_e){return new LinearClosed(_e)}function sign(_e){return _e<0?-1:1}function slope3(_e,et,tt){var rt=_e._x1-_e._x0,nt=et-_e._x1,ot=(_e._y1-_e._y0)/(rt||nt<0&&-0),st=(tt-_e._y1)/(nt||rt<0&&-0),at=(ot*nt+st*rt)/(rt+nt);return(sign(ot)+sign(st))*Math.min(Math.abs(ot),Math.abs(st),.5*Math.abs(at))||0}function slope2(_e,et){var tt=_e._x1-_e._x0;return tt?(3*(_e._y1-_e._y0)/tt-et)/2:et}function point$1(_e,et,tt){var rt=_e._x0,nt=_e._y0,ot=_e._x1,st=_e._y1,at=(ot-rt)/3;_e._context.bezierCurveTo(rt+at,nt+at*et,ot-at,st-at*tt,ot,st)}function MonotoneX(_e){this._context=_e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,et){var tt=NaN;if(_e=+_e,et=+et,!(_e===this._x1&&et===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,tt=slope3(this,_e,et)),tt);break;default:point$1(this,this._t0,tt=slope3(this,_e,et));break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=et,this._t0=tt}}};function MonotoneY(_e){this._context=new ReflectContext(_e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_e,et){MonotoneX.prototype.point.call(this,et,_e)};function ReflectContext(_e){this._context=_e}ReflectContext.prototype={moveTo:function(_e,et){this._context.moveTo(et,_e)},closePath:function(){this._context.closePath()},lineTo:function(_e,et){this._context.lineTo(et,_e)},bezierCurveTo:function(_e,et,tt,rt,nt,ot){this._context.bezierCurveTo(et,_e,rt,tt,ot,nt)}};function monotoneX(_e){return new MonotoneX(_e)}function monotoneY(_e){return new MonotoneY(_e)}function Natural(_e){this._context=_e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _e=this._x,et=this._y,tt=_e.length;if(tt)if(this._line?this._context.lineTo(_e[0],et[0]):this._context.moveTo(_e[0],et[0]),tt===2)this._context.lineTo(_e[1],et[1]);else for(var rt=controlPoints(_e),nt=controlPoints(et),ot=0,st=1;st<tt;++ot,++st)this._context.bezierCurveTo(rt[0][ot],nt[0][ot],rt[1][ot],nt[1][ot],_e[st],et[st]);(this._line||this._line!==0&&tt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_e,et){this._x.push(+_e),this._y.push(+et)}};function controlPoints(_e){var et,tt=_e.length-1,rt,nt=new Array(tt),ot=new Array(tt),st=new Array(tt);for(nt[0]=0,ot[0]=2,st[0]=_e[0]+2*_e[1],et=1;et<tt-1;++et)nt[et]=1,ot[et]=4,st[et]=4*_e[et]+2*_e[et+1];for(nt[tt-1]=2,ot[tt-1]=7,st[tt-1]=8*_e[tt-1]+_e[tt],et=1;et<tt;++et)rt=nt[et]/ot[et-1],ot[et]-=rt,st[et]-=rt*st[et-1];for(nt[tt-1]=st[tt-1]/ot[tt-1],et=tt-2;et>=0;--et)nt[et]=(st[et]-nt[et+1])/ot[et];for(ot[tt-1]=(_e[tt]+nt[tt-1])/2,et=0;et<tt-1;++et)ot[et]=2*_e[et+1]-nt[et+1];return[nt,ot]}function curveNatural(_e){return new Natural(_e)}function Step(_e,et){this._context=_e,this._t=et}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_e,et){switch(_e=+_e,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,et),this._context.lineTo(_e,et);else{var tt=this._x*(1-this._t)+_e*this._t;this._context.lineTo(tt,this._y),this._context.lineTo(tt,et)}break}}this._x=_e,this._y=et}};function curveStep(_e){return new Step(_e,.5)}function stepBefore(_e){return new Step(_e,0)}function stepAfter(_e){return new Step(_e,1)}function stackOffsetNone(_e,et){if((st=_e.length)>1)for(var tt=1,rt,nt,ot=_e[et[0]],st,at=ot.length;tt<st;++tt)for(nt=ot,ot=_e[et[tt]],rt=0;rt<at;++rt)ot[rt][1]+=ot[rt][0]=isNaN(nt[rt][1])?nt[rt][0]:nt[rt][1]}function stackOrderNone(_e){for(var et=_e.length,tt=new Array(et);--et>=0;)tt[et]=et;return tt}function stackValue(_e,et){return _e[et]}function stackSeries(_e){const et=[];return et.key=_e,et}function shapeStack(){var _e=constant$1([]),et=stackOrderNone,tt=stackOffsetNone,rt=stackValue;function nt(ot){var st=Array.from(_e.apply(this,arguments),stackSeries),at,ct=st.length,lt=-1,dt;for(const ft of ot)for(at=0,++lt;at<ct;++at)(st[at][lt]=[0,+rt(ft,st[at].key,lt,ot)]).data=ft;for(at=0,dt=array$1(et(st));at<ct;++at)st[dt[at]].index=at;return tt(st,dt),st}return nt.keys=function(ot){return arguments.length?(_e=typeof ot=="function"?ot:constant$1(Array.from(ot)),nt):_e},nt.value=function(ot){return arguments.length?(rt=typeof ot=="function"?ot:constant$1(+ot),nt):rt},nt.order=function(ot){return arguments.length?(et=ot==null?stackOrderNone:typeof ot=="function"?ot:constant$1(Array.from(ot)),nt):et},nt.offset=function(ot){return arguments.length?(tt=ot??stackOffsetNone,nt):tt},nt}function stackOffsetExpand(_e,et){if((rt=_e.length)>0){for(var tt,rt,nt=0,ot=_e[0].length,st;nt<ot;++nt){for(st=tt=0;tt<rt;++tt)st+=_e[tt][nt][1]||0;if(st)for(tt=0;tt<rt;++tt)_e[tt][nt][1]/=st}stackOffsetNone(_e,et)}}function stackOffsetSilhouette(_e,et){if((nt=_e.length)>0){for(var tt=0,rt=_e[et[0]],nt,ot=rt.length;tt<ot;++tt){for(var st=0,at=0;st<nt;++st)at+=_e[st][tt][1]||0;rt[tt][1]+=rt[tt][0]=-at/2}stackOffsetNone(_e,et)}}function stackOffsetWiggle(_e,et){if(!(!((st=_e.length)>0)||!((ot=(nt=_e[et[0]]).length)>0))){for(var tt=0,rt=1,nt,ot,st;rt<ot;++rt){for(var at=0,ct=0,lt=0;at<st;++at){for(var dt=_e[et[at]],ft=dt[rt][1]||0,ht=dt[rt-1][1]||0,pt=(ft-ht)/2,gt=0;gt<at;++gt){var mt=_e[et[gt]],vt=mt[rt][1]||0,yt=mt[rt-1][1]||0;pt+=vt-yt}ct+=ft,lt+=pt*ft}nt[rt-1][1]+=nt[rt-1][0]=tt,ct&&(tt-=lt/ct)}nt[rt-1][1]+=nt[rt-1][0]=tt,stackOffsetNone(_e,et)}}var get$b={},isUnsafeProperty={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return tt==="__proto__"}_e.isUnsafeProperty=et})(isUnsafeProperty);var isDeepKey={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){switch(typeof tt){case"number":case"symbol":return!1;case"string":return tt.includes(".")||tt.includes("[")||tt.includes("]")}}_e.isDeepKey=et})(isDeepKey);var toKey={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){var rt;return typeof tt=="string"||typeof tt=="symbol"?tt:Object.is((rt=tt==null?void 0:tt.valueOf)==null?void 0:rt.call(tt),-0)?"-0":String(tt)}_e.toKey=et})(toKey);var toPath={},toString$4={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){if(tt==null)return"";if(typeof tt=="string")return tt;if(Array.isArray(tt))return tt.map(et).join(",");const rt=String(tt);return rt==="0"&&Object.is(Number(tt),-0)?"-0":rt}_e.toString=et})(toString$4);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=toString$4,tt=toKey;function rt(nt){if(Array.isArray(nt))return nt.map(tt.toKey);if(typeof nt=="symbol")return[nt];nt=et.toString(nt);const ot=[],st=nt.length;if(st===0)return ot;let at=0,ct="",lt="",dt=!1;for(nt.charCodeAt(0)===46&&(ot.push(""),at++);at<st;){const ft=nt[at];lt?ft==="\\"&&at+1<st?(at++,ct+=nt[at]):ft===lt?lt="":ct+=ft:dt?ft==='"'||ft==="'"?lt=ft:ft==="]"?(dt=!1,ot.push(ct),ct=""):ct+=ft:ft==="["?(dt=!0,ct&&(ot.push(ct),ct="")):ft==="."?ct&&(ot.push(ct),ct=""):ct+=ft,at++}return ct&&ot.push(ct),ot}_e.toPath=rt})(toPath);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isUnsafeProperty,tt=isDeepKey,rt=toKey,nt=toPath;function ot(at,ct,lt){if(at==null)return lt;switch(typeof ct){case"string":{if(et.isUnsafeProperty(ct))return lt;const dt=at[ct];return dt===void 0?tt.isDeepKey(ct)?ot(at,nt.toPath(ct),lt):lt:dt}case"number":case"symbol":{typeof ct=="number"&&(ct=rt.toKey(ct));const dt=at[ct];return dt===void 0?lt:dt}default:{if(Array.isArray(ct))return st(at,ct,lt);if(Object.is(ct==null?void 0:ct.valueOf(),-0)?ct="-0":ct=String(ct),et.isUnsafeProperty(ct))return lt;const dt=at[ct];return dt===void 0?lt:dt}}}function st(at,ct,lt){if(ct.length===0)return lt;let dt=at;for(let ft=0;ft<ct.length;ft++){if(dt==null||et.isUnsafeProperty(ct[ft]))return lt;dt=dt[ct[ft]]}return dt===void 0?lt:dt}_e.get=ot})(get$b);var get$9=get$b.get;const get$a=getDefaultExportFromCjs(get$9);var mathSign=_e=>_e===0?0:_e>0?1:-1,isNan=_e=>typeof _e=="number"&&_e!=+_e,isPercent=_e=>typeof _e=="string"&&_e.indexOf("%")===_e.length-1,isNumber=_e=>(typeof _e=="number"||_e instanceof Number)&&!isNan(_e),isNumOrStr=_e=>isNumber(_e)||typeof _e=="string",idCounter=0,uniqueId=_e=>{var et=++idCounter;return"".concat(_e||"").concat(et)},getPercentValue=function(et,tt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(et)&&typeof et!="string")return rt;var ot;if(isPercent(et)){if(tt==null)return rt;var st=et.indexOf("%");ot=tt*parseFloat(et.slice(0,st))/100}else ot=+et;return isNan(ot)&&(ot=rt),nt&&tt!=null&&ot>tt&&(ot=tt),ot},hasDuplicate=_e=>{if(!Array.isArray(_e))return!1;for(var et=_e.length,tt={},rt=0;rt<et;rt++)if(!tt[_e[rt]])tt[_e[rt]]=!0;else return!0;return!1};function interpolate$1(_e,et,tt){return isNumber(_e)&&isNumber(et)?_e+tt*(et-_e):et}function findEntryInArray(_e,et,tt){if(!(!_e||!_e.length))return _e.find(rt=>rt&&(typeof et=="function"?et(rt):get$a(rt,et))===tt)}var isNullish=_e=>_e===null||typeof _e>"u",upperFirst=_e=>isNullish(_e)?_e:"".concat(_e.charAt(0).toUpperCase()).concat(_e.slice(1)),adaptEventHandlers=(_e,et)=>{if(!_e||typeof _e=="function"||typeof _e=="boolean")return null;var tt=_e;if(reactExports.isValidElement(_e)&&(tt=_e.props),typeof tt!="object"&&typeof tt!="function")return null;var rt={};return Object.keys(tt).forEach(nt=>{isEventKey(nt)&&(rt[nt]=ot=>tt[nt](tt,ot))}),rt},getEventHandlerOfChild=(_e,et,tt)=>rt=>(_e(et,tt,rt),null),adaptEventsOfChild=(_e,et,tt)=>{if(_e===null||typeof _e!="object"&&typeof _e!="function")return null;var rt=null;return Object.keys(_e).forEach(nt=>{var ot=_e[nt];isEventKey(nt)&&typeof ot=="function"&&(rt||(rt={}),rt[nt]=getEventHandlerOfChild(ot,et,tt))}),rt},uniqBy$3={},uniqBy$2={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt,rt){const nt=new Map;for(let ot=0;ot<tt.length;ot++){const st=tt[ot],at=rt(st);nt.has(at)||nt.set(at,st)}return Array.from(nt.values())}_e.uniqBy=et})(uniqBy$2);var identity$5={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return tt}_e.identity=et})(identity$5);var isArrayLikeObject={},isArrayLike={},isLength={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return Number.isSafeInteger(tt)&&tt>=0}_e.isLength=et})(isLength);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isLength;function tt(rt){return rt!=null&&typeof rt!="function"&&et.isLength(rt.length)}_e.isArrayLike=tt})(isArrayLike);var isObjectLike={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return typeof tt=="object"&&tt!==null}_e.isObjectLike=et})(isObjectLike);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isArrayLike,tt=isObjectLike;function rt(nt){return tt.isObjectLike(nt)&&et.isArrayLike(nt)}_e.isArrayLikeObject=rt})(isArrayLikeObject);var iteratee={},property={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=get$b;function tt(rt){return function(nt){return et.get(nt,rt)}}_e.property=tt})(property);var matches={},isMatch={},isMatchWith={},isObject={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return tt!==null&&(typeof tt=="object"||typeof tt=="function")}_e.isObject=et})(isObject);var isPrimitive={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return tt==null||typeof tt!="object"&&typeof tt!="function"}_e.isPrimitive=et})(isPrimitive);var eq={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt,rt){return tt===rt||Number.isNaN(tt)&&Number.isNaN(rt)}_e.eq=et})(eq);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isObject,tt=isPrimitive,rt=eq;function nt(dt,ft,ht){return typeof ht!="function"?nt(dt,ft,()=>{}):ot(dt,ft,function pt(gt,mt,vt,yt,bt,xt){const wt=ht(gt,mt,vt,yt,bt,xt);return wt!==void 0?!!wt:ot(gt,mt,pt,xt)},new Map)}function ot(dt,ft,ht,pt){if(ft===dt)return!0;switch(typeof ft){case"object":return st(dt,ft,ht,pt);case"function":return Object.keys(ft).length>0?ot(dt,{...ft},ht,pt):rt.eq(dt,ft);default:return et.isObject(dt)?typeof ft=="string"?ft==="":!0:rt.eq(dt,ft)}}function st(dt,ft,ht,pt){if(ft==null)return!0;if(Array.isArray(ft))return ct(dt,ft,ht,pt);if(ft instanceof Map)return at(dt,ft,ht,pt);if(ft instanceof Set)return lt(dt,ft,ht,pt);const gt=Object.keys(ft);if(dt==null)return gt.length===0;if(gt.length===0)return!0;if(pt!=null&&pt.has(ft))return pt.get(ft)===dt;pt==null||pt.set(ft,dt);try{for(let mt=0;mt<gt.length;mt++){const vt=gt[mt];if(!tt.isPrimitive(dt)&&!(vt in dt)||ft[vt]===void 0&&dt[vt]!==void 0||ft[vt]===null&&dt[vt]!==null||!ht(dt[vt],ft[vt],vt,dt,ft,pt))return!1}return!0}finally{pt==null||pt.delete(ft)}}function at(dt,ft,ht,pt){if(ft.size===0)return!0;if(!(dt instanceof Map))return!1;for(const[gt,mt]of ft.entries()){const vt=dt.get(gt);if(ht(vt,mt,gt,dt,ft,pt)===!1)return!1}return!0}function ct(dt,ft,ht,pt){if(ft.length===0)return!0;if(!Array.isArray(dt))return!1;const gt=new Set;for(let mt=0;mt<ft.length;mt++){const vt=ft[mt];let yt=!1;for(let bt=0;bt<dt.length;bt++){if(gt.has(bt))continue;const xt=dt[bt];let wt=!1;if(ht(xt,vt,mt,dt,ft,pt)&&(wt=!0),wt){gt.add(bt),yt=!0;break}}if(!yt)return!1}return!0}function lt(dt,ft,ht,pt){return ft.size===0?!0:dt instanceof Set?ct([...dt],[...ft],ht,pt):!1}_e.isMatchWith=nt,_e.isSetMatch=lt})(isMatchWith);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isMatchWith;function tt(rt,nt){return et.isMatchWith(rt,nt,()=>{})}_e.isMatch=tt})(isMatch);var cloneDeep$1={},cloneDeepWith$1={},getSymbols={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return Object.getOwnPropertySymbols(tt).filter(rt=>Object.prototype.propertyIsEnumerable.call(tt,rt))}_e.getSymbols=et})(getSymbols);var getTag={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return tt==null?tt===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(tt)}_e.getTag=et})(getTag);var tags={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et="[object RegExp]",tt="[object String]",rt="[object Number]",nt="[object Boolean]",ot="[object Arguments]",st="[object Symbol]",at="[object Date]",ct="[object Map]",lt="[object Set]",dt="[object Array]",ft="[object Function]",ht="[object ArrayBuffer]",pt="[object Object]",gt="[object Error]",mt="[object DataView]",vt="[object Uint8Array]",yt="[object Uint8ClampedArray]",bt="[object Uint16Array]",xt="[object Uint32Array]",wt="[object BigUint64Array]",At="[object Int8Array]",St="[object Int16Array]",$t="[object Int32Array]",kt="[object BigInt64Array]",Ct="[object Float32Array]",_t="[object Float64Array]";_e.argumentsTag=ot,_e.arrayBufferTag=ht,_e.arrayTag=dt,_e.bigInt64ArrayTag=kt,_e.bigUint64ArrayTag=wt,_e.booleanTag=nt,_e.dataViewTag=mt,_e.dateTag=at,_e.errorTag=gt,_e.float32ArrayTag=Ct,_e.float64ArrayTag=_t,_e.functionTag=ft,_e.int16ArrayTag=St,_e.int32ArrayTag=$t,_e.int8ArrayTag=At,_e.mapTag=ct,_e.numberTag=rt,_e.objectTag=pt,_e.regexpTag=et,_e.setTag=lt,_e.stringTag=tt,_e.symbolTag=st,_e.uint16ArrayTag=bt,_e.uint32ArrayTag=xt,_e.uint8ArrayTag=vt,_e.uint8ClampedArrayTag=yt})(tags);var isTypedArray={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return ArrayBuffer.isView(tt)&&!(tt instanceof DataView)}_e.isTypedArray=et})(isTypedArray);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=getSymbols,tt=getTag,rt=tags,nt=isPrimitive,ot=isTypedArray;function st(dt,ft){return at(dt,void 0,dt,new Map,ft)}function at(dt,ft,ht,pt=new Map,gt=void 0){const mt=gt==null?void 0:gt(dt,ft,ht,pt);if(mt!==void 0)return mt;if(nt.isPrimitive(dt))return dt;if(pt.has(dt))return pt.get(dt);if(Array.isArray(dt)){const vt=new Array(dt.length);pt.set(dt,vt);for(let yt=0;yt<dt.length;yt++)vt[yt]=at(dt[yt],yt,ht,pt,gt);return Object.hasOwn(dt,"index")&&(vt.index=dt.index),Object.hasOwn(dt,"input")&&(vt.input=dt.input),vt}if(dt instanceof Date)return new Date(dt.getTime());if(dt instanceof RegExp){const vt=new RegExp(dt.source,dt.flags);return vt.lastIndex=dt.lastIndex,vt}if(dt instanceof Map){const vt=new Map;pt.set(dt,vt);for(const[yt,bt]of dt)vt.set(yt,at(bt,yt,ht,pt,gt));return vt}if(dt instanceof Set){const vt=new Set;pt.set(dt,vt);for(const yt of dt)vt.add(at(yt,void 0,ht,pt,gt));return vt}if(typeof Buffer<"u"&&Buffer.isBuffer(dt))return dt.subarray();if(ot.isTypedArray(dt)){const vt=new(Object.getPrototypeOf(dt)).constructor(dt.length);pt.set(dt,vt);for(let yt=0;yt<dt.length;yt++)vt[yt]=at(dt[yt],yt,ht,pt,gt);return vt}if(dt instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&dt instanceof SharedArrayBuffer)return dt.slice(0);if(dt instanceof DataView){const vt=new DataView(dt.buffer.slice(0),dt.byteOffset,dt.byteLength);return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}if(typeof File<"u"&&dt instanceof File){const vt=new File([dt],dt.name,{type:dt.type});return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}if(typeof Blob<"u"&&dt instanceof Blob){const vt=new Blob([dt],{type:dt.type});return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}if(dt instanceof Error){const vt=new dt.constructor;return pt.set(dt,vt),vt.message=dt.message,vt.name=dt.name,vt.stack=dt.stack,vt.cause=dt.cause,ct(vt,dt,ht,pt,gt),vt}if(dt instanceof Boolean){const vt=new Boolean(dt.valueOf());return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}if(dt instanceof Number){const vt=new Number(dt.valueOf());return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}if(dt instanceof String){const vt=new String(dt.valueOf());return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}if(typeof dt=="object"&&lt(dt)){const vt=Object.create(Object.getPrototypeOf(dt));return pt.set(dt,vt),ct(vt,dt,ht,pt,gt),vt}return dt}function ct(dt,ft,ht=dt,pt,gt){const mt=[...Object.keys(ft),...et.getSymbols(ft)];for(let vt=0;vt<mt.length;vt++){const yt=mt[vt],bt=Object.getOwnPropertyDescriptor(dt,yt);(bt==null||bt.writable)&&(dt[yt]=at(ft[yt],yt,ht,pt,gt))}}function lt(dt){switch(tt.getTag(dt)){case rt.argumentsTag:case rt.arrayTag:case rt.arrayBufferTag:case rt.dataViewTag:case rt.booleanTag:case rt.dateTag:case rt.float32ArrayTag:case rt.float64ArrayTag:case rt.int8ArrayTag:case rt.int16ArrayTag:case rt.int32ArrayTag:case rt.mapTag:case rt.numberTag:case rt.objectTag:case rt.regexpTag:case rt.setTag:case rt.stringTag:case rt.symbolTag:case rt.uint8ArrayTag:case rt.uint8ClampedArrayTag:case rt.uint16ArrayTag:case rt.uint32ArrayTag:return!0;default:return!1}}_e.cloneDeepWith=st,_e.cloneDeepWithImpl=at,_e.copyProperties=ct})(cloneDeepWith$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=cloneDeepWith$1;function tt(rt){return et.cloneDeepWithImpl(rt,void 0,rt,new Map,void 0)}_e.cloneDeep=tt})(cloneDeep$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isMatch,tt=cloneDeep$1;function rt(nt){return nt=tt.cloneDeep(nt),ot=>et.isMatch(ot,nt)}_e.matches=rt})(matches);var matchesProperty={},cloneDeep={},cloneDeepWith={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=cloneDeepWith$1,tt=tags;function rt(nt,ot){return et.cloneDeepWith(nt,(st,at,ct,lt)=>{const dt=ot==null?void 0:ot(st,at,ct,lt);if(dt!==void 0)return dt;if(typeof nt=="object")switch(Object.prototype.toString.call(nt)){case tt.numberTag:case tt.stringTag:case tt.booleanTag:{const ft=new nt.constructor(nt==null?void 0:nt.valueOf());return et.copyProperties(ft,nt),ft}case tt.argumentsTag:{const ft={};return et.copyProperties(ft,nt),ft.length=nt.length,ft[Symbol.iterator]=nt[Symbol.iterator],ft}default:return}})}_e.cloneDeepWith=rt})(cloneDeepWith);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=cloneDeepWith;function tt(rt){return et.cloneDeepWith(rt)}_e.cloneDeep=tt})(cloneDeep);var has$2={},isIndex={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=/^(?:0|[1-9]\d*)$/;function tt(rt,nt=Number.MAX_SAFE_INTEGER){switch(typeof rt){case"number":return Number.isInteger(rt)&&rt>=0&&rt<nt;case"symbol":return!1;case"string":return et.test(rt)}}_e.isIndex=tt})(isIndex);var isArguments={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=getTag;function tt(rt){return rt!==null&&typeof rt=="object"&&et.getTag(rt)==="[object Arguments]"}_e.isArguments=tt})(isArguments);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isDeepKey,tt=isIndex,rt=isArguments,nt=toPath;function ot(st,at){let ct;if(Array.isArray(at)?ct=at:typeof at=="string"&&et.isDeepKey(at)&&(st==null?void 0:st[at])==null?ct=nt.toPath(at):ct=[at],ct.length===0)return!1;let lt=st;for(let dt=0;dt<ct.length;dt++){const ft=ct[dt];if((lt==null||!Object.hasOwn(lt,ft))&&!((Array.isArray(lt)||rt.isArguments(lt))&&tt.isIndex(ft)&&ft<lt.length))return!1;lt=lt[ft]}return!0}_e.has=ot})(has$2);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isMatch,tt=toKey,rt=cloneDeep,nt=get$b,ot=has$2;function st(at,ct){switch(typeof at){case"object":{Object.is(at==null?void 0:at.valueOf(),-0)&&(at="-0");break}case"number":{at=tt.toKey(at);break}}return ct=rt.cloneDeep(ct),function(lt){const dt=nt.get(lt,at);return dt===void 0?ot.has(lt,at):ct===void 0?dt===void 0:et.isMatch(dt,ct)}}_e.matchesProperty=st})(matchesProperty);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=identity$5,tt=property,rt=matches,nt=matchesProperty;function ot(st){if(st==null)return et.identity;switch(typeof st){case"function":return st;case"object":return Array.isArray(st)&&st.length===2?nt.matchesProperty(st[0],st[1]):rt.matches(st);case"string":case"symbol":case"number":return tt.property(st)}}_e.iteratee=ot})(iteratee);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=uniqBy$2,tt=identity$5,rt=isArrayLikeObject,nt=iteratee;function ot(st,at=tt.identity){return rt.isArrayLikeObject(st)?et.uniqBy(Array.from(st),nt.iteratee(at)):[]}_e.uniqBy=ot})(uniqBy$3);var uniqBy=uniqBy$3.uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy);function getUniqPayload(_e,et,tt){return et===!0?uniqBy$1(_e,tt):typeof et=="function"?uniqBy$1(_e,et):_e}var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$2=reactExports;function is$4(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var objectIs$2=typeof Object.is=="function"?Object.is:is$4,useState=React$2.useState,useEffect$2=React$2.useEffect,useLayoutEffect=React$2.useLayoutEffect,useDebugValue$2=React$2.useDebugValue;function useSyncExternalStore$2(_e,et){var tt=et(),rt=useState({inst:{value:tt,getSnapshot:et}}),nt=rt[0].inst,ot=rt[1];return useLayoutEffect(function(){nt.value=tt,nt.getSnapshot=et,checkIfSnapshotChanged(nt)&&ot({inst:nt})},[_e,tt,et]),useEffect$2(function(){return checkIfSnapshotChanged(nt)&&ot({inst:nt}),_e(function(){checkIfSnapshotChanged(nt)&&ot({inst:nt})})},[_e]),useDebugValue$2(tt),tt}function checkIfSnapshotChanged(_e){var et=_e.getSnapshot;_e=_e.value;try{var tt=et();return!objectIs$2(_e,tt)}catch{return!0}}function useSyncExternalStore$1$1(_e,et){return et()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$2.useSyncExternalStore!==void 0?React$2.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports,shim=shimExports;function is$3(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var objectIs$1=typeof Object.is=="function"?Object.is:is$3,useSyncExternalStore$1=shim.useSyncExternalStore,useRef$1=React$1.useRef,useEffect$1=React$1.useEffect,useMemo$1=React$1.useMemo,useDebugValue$1=React$1.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(_e,et,tt,rt,nt){var ot=useRef$1(null);if(ot.current===null){var st={hasValue:!1,value:null};ot.current=st}else st=ot.current;ot=useMemo$1(function(){function ct(pt){if(!lt){if(lt=!0,dt=pt,pt=rt(pt),nt!==void 0&&st.hasValue){var gt=st.value;if(nt(gt,pt))return ft=gt}return ft=pt}if(gt=ft,objectIs$1(dt,pt))return gt;var mt=rt(pt);return nt!==void 0&&nt(gt,mt)?(dt=pt,gt):(dt=pt,ft=mt)}var lt=!1,dt,ft,ht=tt===void 0?null:tt;return[function(){return ct(et())},ht===null?void 0:function(){return ct(ht())}]},[et,tt,rt,nt]);var at=useSyncExternalStore$1(_e,ot[0],ot[1]);return useEffect$1(function(){st.hasValue=!0,st.value=at},[at]),useDebugValue$1(at),at};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports,RechartsReduxContext=reactExports.createContext(null),noopDispatch=_e=>_e,useAppDispatch=()=>{var _e=reactExports.useContext(RechartsReduxContext);return _e?_e.store.dispatch:noopDispatch},noop$6=()=>{},addNestedSubNoop=()=>noop$6,refEquality=(_e,et)=>_e===et;function useAppSelector(_e){var et=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(et?et.subscription.addNestedSub:addNestedSubNoop,et?et.store.getState:noop$6,et?et.store.getState:noop$6,et?_e:noop$6,refEquality)}function assertIsFunction(_e,et=`expected a function, instead received ${typeof _e}`){if(typeof _e!="function")throw new TypeError(et)}function assertIsObject(_e,et=`expected an object, instead received ${typeof _e}`){if(typeof _e!="object")throw new TypeError(et)}function assertIsArrayOfFunctions(_e,et="expected all items to be functions, instead received the following types: "){if(!_e.every(tt=>typeof tt=="function")){const tt=_e.map(rt=>typeof rt=="function"?`function ${rt.name||"unnamed"}()`:typeof rt).join(", ");throw new TypeError(`${et}[${tt}]`)}}var ensureIsArray=_e=>Array.isArray(_e)?_e:[_e];function getDependencies(_e){const et=Array.isArray(_e[0])?_e[0]:_e;return assertIsArrayOfFunctions(et,"createSelector expects all input-selectors to be functions, but received the following types: "),et}function collectInputSelectorResults(_e,et){const tt=[],{length:rt}=_e;for(let nt=0;nt<rt;nt++)tt.push(_e[nt].apply(null,et));return tt}var StrongRef=class{constructor(_e){this.value=_e}deref(){return this.value}},Ref$1=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(_e,et={}){let tt=createCacheNode();const{resultEqualityCheck:rt}=et;let nt,ot=0;function st(){var ft;let at=tt;const{length:ct}=arguments;for(let ht=0,pt=ct;ht<pt;ht++){const gt=arguments[ht];if(typeof gt=="function"||typeof gt=="object"&&gt!==null){let mt=at.o;mt===null&&(at.o=mt=new WeakMap);const vt=mt.get(gt);vt===void 0?(at=createCacheNode(),mt.set(gt,at)):at=vt}else{let mt=at.p;mt===null&&(at.p=mt=new Map);const vt=mt.get(gt);vt===void 0?(at=createCacheNode(),mt.set(gt,at)):at=vt}}const lt=at;let dt;if(at.s===TERMINATED)dt=at.v;else if(dt=_e.apply(null,arguments),ot++,rt){const ht=((ft=nt==null?void 0:nt.deref)==null?void 0:ft.call(nt))??nt;ht!=null&&rt(ht,dt)&&(dt=ht,ot!==0&&ot--),nt=typeof dt=="object"&&dt!==null||typeof dt=="function"?new Ref$1(dt):dt}return lt.s=TERMINATED,lt.v=dt,dt}return st.clearCache=()=>{tt=createCacheNode(),st.resetResultsCount()},st.resultsCount=()=>ot,st.resetResultsCount=()=>{ot=0},st}function createSelectorCreator(_e,...et){const tt=typeof _e=="function"?{memoize:_e,memoizeOptions:et}:_e,rt=(...nt)=>{let ot=0,st=0,at,ct={},lt=nt.pop();typeof lt=="object"&&(ct=lt,lt=nt.pop()),assertIsFunction(lt,`createSelector expects an output function after the inputs, but received: [${typeof lt}]`);const dt={...tt,...ct},{memoize:ft,memoizeOptions:ht=[],argsMemoize:pt=weakMapMemoize,argsMemoizeOptions:gt=[]}=dt,mt=ensureIsArray(ht),vt=ensureIsArray(gt),yt=getDependencies(nt),bt=ft(function(){return ot++,lt.apply(null,arguments)},...mt),xt=pt(function(){st++;const At=collectInputSelectorResults(yt,arguments);return at=bt.apply(null,At),at},...vt);return Object.assign(xt,{resultFunc:lt,memoizedResultFunc:bt,dependencies:yt,dependencyRecomputations:()=>st,resetDependencyRecomputations:()=>{st=0},lastResult:()=>at,recomputations:()=>ot,resetRecomputations:()=>{ot=0},memoize:ft,argsMemoize:pt})};return Object.assign(rt,{withTypes:()=>rt}),rt}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((_e,et=createSelector)=>{assertIsObject(_e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof _e}`);const tt=Object.keys(_e),rt=tt.map(ot=>_e[ot]);return et(rt,(...ot)=>ot.reduce((st,at,ct)=>(st[tt[ct]]=at,st),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(rt){return typeof rt=="symbol"?1:rt===null?2:rt===void 0?3:rt!==rt?4:0}const tt=(rt,nt,ot)=>{if(rt!==nt){const st=et(rt),at=et(nt);if(st===at&&st===0){if(rt<nt)return ot==="desc"?1:-1;if(rt>nt)return ot==="desc"?-1:1}return ot==="desc"?at-st:st-at}return 0};_e.compareValues=tt})(compareValues);var isKey={},isSymbol={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return typeof tt=="symbol"||tt instanceof Symbol}_e.isSymbol=et})(isSymbol);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isSymbol,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/;function nt(ot,st){return Array.isArray(ot)?!1:typeof ot=="number"||typeof ot=="boolean"||ot==null||et.isSymbol(ot)?!0:typeof ot=="string"&&(rt.test(ot)||!tt.test(ot))||st!=null&&Object.hasOwn(st,ot)}_e.isKey=nt})(isKey);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=compareValues,tt=isKey,rt=toPath;function nt(ot,st,at,ct){if(ot==null)return[];at=ct?void 0:at,Array.isArray(ot)||(ot=Object.values(ot)),Array.isArray(st)||(st=st==null?[null]:[st]),st.length===0&&(st=[null]),Array.isArray(at)||(at=at==null?[]:[at]),at=at.map(pt=>String(pt));const lt=(pt,gt)=>{let mt=pt;for(let vt=0;vt<gt.length&&mt!=null;++vt)mt=mt[gt[vt]];return mt},dt=(pt,gt)=>gt==null||pt==null?gt:typeof pt=="object"&&"key"in pt?Object.hasOwn(gt,pt.key)?gt[pt.key]:lt(gt,pt.path):typeof pt=="function"?pt(gt):Array.isArray(pt)?lt(gt,pt):typeof gt=="object"?gt[pt]:gt,ft=st.map(pt=>(Array.isArray(pt)&&pt.length===1&&(pt=pt[0]),pt==null||typeof pt=="function"||Array.isArray(pt)||tt.isKey(pt)?pt:{key:pt,path:rt.toPath(pt)}));return ot.map(pt=>({original:pt,criteria:ft.map(gt=>dt(gt,pt))})).slice().sort((pt,gt)=>{for(let mt=0;mt<ft.length;mt++){const vt=et.compareValues(pt.criteria[mt],gt.criteria[mt],at[mt]);if(vt!==0)return vt}return 0}).map(pt=>pt.original)}_e.orderBy=nt})(orderBy);var flatten={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt,rt=1){const nt=[],ot=Math.floor(rt),st=(at,ct)=>{for(let lt=0;lt<at.length;lt++){const dt=at[lt];Array.isArray(dt)&&ct<ot?st(dt,ct+1):nt.push(dt)}};return st(tt,0),nt}_e.flatten=et})(flatten);var isIterateeCall={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isIndex,tt=isArrayLike,rt=isObject,nt=eq;function ot(st,at,ct){return rt.isObject(ct)&&(typeof at=="number"&&tt.isArrayLike(ct)&&et.isIndex(at)&&at<ct.length||typeof at=="string"&&at in ct)?nt.eq(ct[at],st):!1}_e.isIterateeCall=ot})(isIterateeCall);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=orderBy,tt=flatten,rt=isIterateeCall;function nt(ot,...st){const at=st.length;return at>1&&rt.isIterateeCall(ot,st[0],st[1])?st=[]:at>2&&rt.isIterateeCall(st[0],st[1],st[2])&&(st=[st[0]]),et.orderBy(ot,tt.flatten(st),["asc"])}_e.sortBy=nt})(sortBy$2);var sortBy=sortBy$2.sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy);var selectLegendSettings=_e=>_e.legend.settings,selectLegendSize=_e=>_e.legend.size,selectAllLegendPayload2DArray=_e=>_e.legend.payload;createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(_e,et)=>{var{itemSorter:tt}=et,rt=_e.flat(1);return tt?sortBy$1(rt,tt):rt});var EPS$1=1;function useElementOffset(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[et,tt]=reactExports.useState({height:0,left:0,top:0,width:0}),rt=reactExports.useCallback(nt=>{if(nt!=null){var ot=nt.getBoundingClientRect(),st={height:ot.height,left:ot.left,top:ot.top,width:ot.width};(Math.abs(st.height-et.height)>EPS$1||Math.abs(st.left-et.left)>EPS$1||Math.abs(st.top-et.top)>EPS$1||Math.abs(st.width-et.width)>EPS$1)&&tt({height:st.height,left:st.left,top:st.top,width:st.width})}},[et.width,et.height,et.top,et.left,..._e]);return[et,rt]}function formatProdErrorMessage$1(_e){return`Minified Redux error #${_e}; visit https://redux.js.org/Errors?code=${_e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(_e){if(typeof _e!="object"||_e===null)return!1;let et=_e;for(;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(_e)===et||Object.getPrototypeOf(_e)===null}function createStore$1(_e,et,tt){if(typeof _e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof et=="function"&&typeof tt=="function"||typeof tt=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof et=="function"&&typeof tt>"u"&&(tt=et,et=void 0),typeof tt<"u"){if(typeof tt!="function")throw new Error(formatProdErrorMessage$1(1));return tt(createStore$1)(_e,et)}let rt=_e,nt=et,ot=new Map,st=ot,at=0,ct=!1;function lt(){st===ot&&(st=new Map,ot.forEach((vt,yt)=>{st.set(yt,vt)}))}function dt(){if(ct)throw new Error(formatProdErrorMessage$1(3));return nt}function ft(vt){if(typeof vt!="function")throw new Error(formatProdErrorMessage$1(4));if(ct)throw new Error(formatProdErrorMessage$1(5));let yt=!0;lt();const bt=at++;return st.set(bt,vt),function(){if(yt){if(ct)throw new Error(formatProdErrorMessage$1(6));yt=!1,lt(),st.delete(bt),ot=null}}}function ht(vt){if(!isPlainObject$1(vt))throw new Error(formatProdErrorMessage$1(7));if(typeof vt.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof vt.type!="string")throw new Error(formatProdErrorMessage$1(17));if(ct)throw new Error(formatProdErrorMessage$1(9));try{ct=!0,nt=rt(nt,vt)}finally{ct=!1}return(ot=st).forEach(bt=>{bt()}),vt}function pt(vt){if(typeof vt!="function")throw new Error(formatProdErrorMessage$1(10));rt=vt,ht({type:actionTypes_default.REPLACE})}function gt(){const vt=ft;return{subscribe(yt){if(typeof yt!="object"||yt===null)throw new Error(formatProdErrorMessage$1(11));function bt(){const wt=yt;wt.next&&wt.next(dt())}return bt(),{unsubscribe:vt(bt)}},[symbol_observable_default](){return this}}}return ht({type:actionTypes_default.INIT}),{dispatch:ht,subscribe:ft,getState:dt,replaceReducer:pt,[symbol_observable_default]:gt}}function assertReducerShape(_e){Object.keys(_e).forEach(et=>{const tt=_e[et];if(typeof tt(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof tt(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(_e){const et=Object.keys(_e),tt={};for(let ot=0;ot<et.length;ot++){const st=et[ot];typeof _e[st]=="function"&&(tt[st]=_e[st])}const rt=Object.keys(tt);let nt;try{assertReducerShape(tt)}catch(ot){nt=ot}return function(st={},at){if(nt)throw nt;let ct=!1;const lt={};for(let dt=0;dt<rt.length;dt++){const ft=rt[dt],ht=tt[ft],pt=st[ft],gt=ht(pt,at);if(typeof gt>"u")throw at&&at.type,new Error(formatProdErrorMessage$1(14));lt[ft]=gt,ct=ct||gt!==pt}return ct=ct||rt.length!==Object.keys(st).length,ct?lt:st}}function compose$1(..._e){return _e.length===0?et=>et:_e.length===1?_e[0]:_e.reduce((et,tt)=>(...rt)=>et(tt(...rt)))}function applyMiddleware(..._e){return et=>(tt,rt)=>{const nt=et(tt,rt);let ot=()=>{throw new Error(formatProdErrorMessage$1(15))};const st={getState:nt.getState,dispatch:(ct,...lt)=>ot(ct,...lt)},at=_e.map(ct=>ct(st));return ot=compose$1(...at)(nt.dispatch),{...nt,dispatch:ot}}}function isAction(_e){return isPlainObject$1(_e)&&"type"in _e&&typeof _e.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(_e,...et){throw new Error(`[Immer] minified error nr: ${_e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(_e){return!!_e&&!!_e[DRAFT_STATE]}function isDraftable(_e){var et;return _e?isPlainObject(_e)||Array.isArray(_e)||!!_e[DRAFTABLE]||!!((et=_e.constructor)!=null&&et[DRAFTABLE])||isMap(_e)||isSet(_e):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject(_e){if(!_e||typeof _e!="object")return!1;const et=Object.getPrototypeOf(_e);if(et===null||et===Object.prototype)return!0;const tt=Object.hasOwnProperty.call(et,"constructor")&&et.constructor;if(tt===Object)return!0;if(typeof tt!="function")return!1;let rt=cachedCtorStrings.get(tt);return rt===void 0&&(rt=Function.toString.call(tt),cachedCtorStrings.set(tt,rt)),rt===objectCtorString}function each(_e,et,tt=!0){getArchtype(_e)===0?(tt?Reflect.ownKeys(_e):Object.keys(_e)).forEach(nt=>{et(nt,_e[nt],_e)}):_e.forEach((rt,nt)=>et(nt,rt,_e))}function getArchtype(_e){const et=_e[DRAFT_STATE];return et?et.type_:Array.isArray(_e)?1:isMap(_e)?2:isSet(_e)?3:0}function has$1(_e,et){return getArchtype(_e)===2?_e.has(et):Object.prototype.hasOwnProperty.call(_e,et)}function set$1(_e,et,tt){const rt=getArchtype(_e);rt===2?_e.set(et,tt):rt===3?_e.add(tt):_e[et]=tt}function is$2(_e,et){return _e===et?_e!==0||1/_e===1/et:_e!==_e&&et!==et}function isMap(_e){return _e instanceof Map}function isSet(_e){return _e instanceof Set}function latest(_e){return _e.copy_||_e.base_}function shallowCopy(_e,et){if(isMap(_e))return new Map(_e);if(isSet(_e))return new Set(_e);if(Array.isArray(_e))return Array.prototype.slice.call(_e);const tt=isPlainObject(_e);if(et===!0||et==="class_only"&&!tt){const rt=Object.getOwnPropertyDescriptors(_e);delete rt[DRAFT_STATE];let nt=Reflect.ownKeys(rt);for(let ot=0;ot<nt.length;ot++){const st=nt[ot],at=rt[st];at.writable===!1&&(at.writable=!0,at.configurable=!0),(at.get||at.set)&&(rt[st]={configurable:!0,writable:!0,enumerable:at.enumerable,value:_e[st]})}return Object.create(getPrototypeOf(_e),rt)}else{const rt=getPrototypeOf(_e);if(rt!==null&&tt)return{..._e};const nt=Object.create(rt);return Object.assign(nt,_e)}}function freeze(_e,et=!1){return isFrozen(_e)||isDraft(_e)||!isDraftable(_e)||(getArchtype(_e)>1&&Object.defineProperties(_e,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(_e),et&&Object.values(_e).forEach(tt=>freeze(tt,!0))),_e}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(_e){return _e===null||typeof _e!="object"?!0:Object.isFrozen(_e)}var plugins={};function getPlugin(_e){const et=plugins[_e];return et||die(0,_e),et}var currentScope;function getCurrentScope(){return currentScope}function createScope(_e,et){return{drafts_:[],parent_:_e,immer_:et,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(_e,et){et&&(getPlugin("Patches"),_e.patches_=[],_e.inversePatches_=[],_e.patchListener_=et)}function revokeScope(_e){leaveScope(_e),_e.drafts_.forEach(revokeDraft),_e.drafts_=null}function leaveScope(_e){_e===currentScope&&(currentScope=_e.parent_)}function enterScope(_e){return currentScope=createScope(currentScope,_e)}function revokeDraft(_e){const et=_e[DRAFT_STATE];et.type_===0||et.type_===1?et.revoke_():et.revoked_=!0}function processResult(_e,et){et.unfinalizedDrafts_=et.drafts_.length;const tt=et.drafts_[0];return _e!==void 0&&_e!==tt?(tt[DRAFT_STATE].modified_&&(revokeScope(et),die(4)),isDraftable(_e)&&(_e=finalize(et,_e),et.parent_||maybeFreeze(et,_e)),et.patches_&&getPlugin("Patches").generateReplacementPatches_(tt[DRAFT_STATE].base_,_e,et.patches_,et.inversePatches_)):_e=finalize(et,tt,[]),revokeScope(et),et.patches_&&et.patchListener_(et.patches_,et.inversePatches_),_e!==NOTHING?_e:void 0}function finalize(_e,et,tt){if(isFrozen(et))return et;const rt=_e.immer_.shouldUseStrictIteration(),nt=et[DRAFT_STATE];if(!nt)return each(et,(ot,st)=>finalizeProperty(_e,nt,et,ot,st,tt),rt),et;if(nt.scope_!==_e)return et;if(!nt.modified_)return maybeFreeze(_e,nt.base_,!0),nt.base_;if(!nt.finalized_){nt.finalized_=!0,nt.scope_.unfinalizedDrafts_--;const ot=nt.copy_;let st=ot,at=!1;nt.type_===3&&(st=new Set(ot),ot.clear(),at=!0),each(st,(ct,lt)=>finalizeProperty(_e,nt,ot,ct,lt,tt,at),rt),maybeFreeze(_e,ot,!1),tt&&_e.patches_&&getPlugin("Patches").generatePatches_(nt,tt,_e.patches_,_e.inversePatches_)}return nt.copy_}function finalizeProperty(_e,et,tt,rt,nt,ot,st){if(nt==null||typeof nt!="object"&&!st)return;const at=isFrozen(nt);if(!(at&&!st)){if(isDraft(nt)){const ct=ot&&et&&et.type_!==3&&!has$1(et.assigned_,rt)?ot.concat(rt):void 0,lt=finalize(_e,nt,ct);if(set$1(tt,rt,lt),isDraft(lt))_e.canAutoFreeze_=!1;else return}else st&&tt.add(nt);if(isDraftable(nt)&&!at){if(!_e.immer_.autoFreeze_&&_e.unfinalizedDrafts_<1||et&&et.base_&&et.base_[rt]===nt&&at)return;finalize(_e,nt),(!et||!et.scope_.parent_)&&typeof rt!="symbol"&&(isMap(tt)?tt.has(rt):Object.prototype.propertyIsEnumerable.call(tt,rt))&&maybeFreeze(_e,nt)}}}function maybeFreeze(_e,et,tt=!1){!_e.parent_&&_e.immer_.autoFreeze_&&_e.canAutoFreeze_&&freeze(et,tt)}function createProxyProxy(_e,et){const tt=Array.isArray(_e),rt={type_:tt?1:0,scope_:et?et.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:et,base_:_e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let nt=rt,ot=objectTraps;tt&&(nt=[rt],ot=arrayTraps);const{revoke:st,proxy:at}=Proxy.revocable(nt,ot);return rt.draft_=at,rt.revoke_=st,at}var objectTraps={get(_e,et){if(et===DRAFT_STATE)return _e;const tt=latest(_e);if(!has$1(tt,et))return readPropFromProto(_e,tt,et);const rt=tt[et];return _e.finalized_||!isDraftable(rt)?rt:rt===peek(_e.base_,et)?(prepareCopy(_e),_e.copy_[et]=createProxy(rt,_e)):rt},has(_e,et){return et in latest(_e)},ownKeys(_e){return Reflect.ownKeys(latest(_e))},set(_e,et,tt){const rt=getDescriptorFromProto(latest(_e),et);if(rt!=null&&rt.set)return rt.set.call(_e.draft_,tt),!0;if(!_e.modified_){const nt=peek(latest(_e),et),ot=nt==null?void 0:nt[DRAFT_STATE];if(ot&&ot.base_===tt)return _e.copy_[et]=tt,_e.assigned_[et]=!1,!0;if(is$2(tt,nt)&&(tt!==void 0||has$1(_e.base_,et)))return!0;prepareCopy(_e),markChanged(_e)}return _e.copy_[et]===tt&&(tt!==void 0||et in _e.copy_)||Number.isNaN(tt)&&Number.isNaN(_e.copy_[et])||(_e.copy_[et]=tt,_e.assigned_[et]=!0),!0},deleteProperty(_e,et){return peek(_e.base_,et)!==void 0||et in _e.base_?(_e.assigned_[et]=!1,prepareCopy(_e),markChanged(_e)):delete _e.assigned_[et],_e.copy_&&delete _e.copy_[et],!0},getOwnPropertyDescriptor(_e,et){const tt=latest(_e),rt=Reflect.getOwnPropertyDescriptor(tt,et);return rt&&{writable:!0,configurable:_e.type_!==1||et!=="length",enumerable:rt.enumerable,value:tt[et]}},defineProperty(){die(11)},getPrototypeOf(_e){return getPrototypeOf(_e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(_e,et)=>{arrayTraps[_e]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}});arrayTraps.deleteProperty=function(_e,et){return arrayTraps.set.call(this,_e,et,void 0)};arrayTraps.set=function(_e,et,tt){return objectTraps.set.call(this,_e[0],et,tt,_e[0])};function peek(_e,et){const tt=_e[DRAFT_STATE];return(tt?latest(tt):_e)[et]}function readPropFromProto(_e,et,tt){var nt;const rt=getDescriptorFromProto(et,tt);return rt?"value"in rt?rt.value:(nt=rt.get)==null?void 0:nt.call(_e.draft_):void 0}function getDescriptorFromProto(_e,et){if(!(et in _e))return;let tt=getPrototypeOf(_e);for(;tt;){const rt=Object.getOwnPropertyDescriptor(tt,et);if(rt)return rt;tt=getPrototypeOf(tt)}}function markChanged(_e){_e.modified_||(_e.modified_=!0,_e.parent_&&markChanged(_e.parent_))}function prepareCopy(_e){_e.copy_||(_e.copy_=shallowCopy(_e.base_,_e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(_e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(et,tt,rt)=>{if(typeof et=="function"&&typeof tt!="function"){const ot=tt;tt=et;const st=this;return function(ct=ot,...lt){return st.produce(ct,dt=>tt.call(this,dt,...lt))}}typeof tt!="function"&&die(6),rt!==void 0&&typeof rt!="function"&&die(7);let nt;if(isDraftable(et)){const ot=enterScope(this),st=createProxy(et,void 0);let at=!0;try{nt=tt(st),at=!1}finally{at?revokeScope(ot):leaveScope(ot)}return usePatchesInScope(ot,rt),processResult(nt,ot)}else if(!et||typeof et!="object"){if(nt=tt(et),nt===void 0&&(nt=et),nt===NOTHING&&(nt=void 0),this.autoFreeze_&&freeze(nt,!0),rt){const ot=[],st=[];getPlugin("Patches").generateReplacementPatches_(et,nt,ot,st),rt(ot,st)}return nt}else die(1,et)},this.produceWithPatches=(et,tt)=>{if(typeof et=="function")return(st,...at)=>this.produceWithPatches(st,ct=>et(ct,...at));let rt,nt;return[this.produce(et,tt,(st,at)=>{rt=st,nt=at}),rt,nt]},typeof(_e==null?void 0:_e.autoFreeze)=="boolean"&&this.setAutoFreeze(_e.autoFreeze),typeof(_e==null?void 0:_e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(_e.useStrictShallowCopy),typeof(_e==null?void 0:_e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(_e.useStrictIteration)}createDraft(_e){isDraftable(_e)||die(8),isDraft(_e)&&(_e=current(_e));const et=enterScope(this),tt=createProxy(_e,void 0);return tt[DRAFT_STATE].isManual_=!0,leaveScope(et),tt}finishDraft(_e,et){const tt=_e&&_e[DRAFT_STATE];(!tt||!tt.isManual_)&&die(9);const{scope_:rt}=tt;return usePatchesInScope(rt,et),processResult(void 0,rt)}setAutoFreeze(_e){this.autoFreeze_=_e}setUseStrictShallowCopy(_e){this.useStrictShallowCopy_=_e}setUseStrictIteration(_e){this.useStrictIteration_=_e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(_e,et){let tt;for(tt=et.length-1;tt>=0;tt--){const nt=et[tt];if(nt.path.length===0&&nt.op==="replace"){_e=nt.value;break}}tt>-1&&(et=et.slice(tt+1));const rt=getPlugin("Patches").applyPatches_;return isDraft(_e)?rt(_e,et):this.produce(_e,nt=>rt(nt,et))}};function createProxy(_e,et){const tt=isMap(_e)?getPlugin("MapSet").proxyMap_(_e,et):isSet(_e)?getPlugin("MapSet").proxySet_(_e,et):createProxyProxy(_e,et);return(et?et.scope_:getCurrentScope()).drafts_.push(tt),tt}function current(_e){return isDraft(_e)||die(10,_e),currentImpl(_e)}function currentImpl(_e){if(!isDraftable(_e)||isFrozen(_e))return _e;const et=_e[DRAFT_STATE];let tt,rt=!0;if(et){if(!et.modified_)return et.base_;et.finalized_=!0,tt=shallowCopy(_e,et.scope_.immer_.useStrictShallowCopy_),rt=et.scope_.immer_.shouldUseStrictIteration()}else tt=shallowCopy(_e,!0);return each(tt,(nt,ot)=>{set$1(tt,nt,currentImpl(ot))},rt),et&&(et.finalized_=!1),tt}var immer=new Immer2,produce=immer.produce;function castDraft(_e){return _e}function createThunkMiddleware(_e){return({dispatch:tt,getState:rt})=>nt=>ot=>typeof ot=="function"?ot(tt,rt,_e):nt(ot)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(_e,et){function tt(...rt){if(et){let nt=et(...rt);if(!nt)throw new Error(formatProdErrorMessage(0));return{type:_e,payload:nt.payload,..."meta"in nt&&{meta:nt.meta},..."error"in nt&&{error:nt.error}}}return{type:_e,payload:rt[0]}}return tt.toString=()=>`${_e}`,tt.type=_e,tt.match=rt=>isAction(rt)&&rt.type===_e,tt}var Tuple$1=class Zo extends Array{constructor(...et){super(...et),Object.setPrototypeOf(this,Zo.prototype)}static get[Symbol.species](){return Zo}concat(...et){return super.concat.apply(this,et)}prepend(...et){return et.length===1&&Array.isArray(et[0])?new Zo(...et[0].concat(this)):new Zo(...et.concat(this))}};function freezeDraftable(_e){return isDraftable(_e)?produce(_e,()=>{}):_e}function getOrInsertComputed(_e,et,tt){return _e.has(et)?_e.get(et):_e.set(et,tt(et)).get(et)}function isBoolean(_e){return typeof _e=="boolean"}var buildGetDefaultMiddleware=()=>function(et){const{thunk:tt=!0,immutableCheck:rt=!0,serializableCheck:nt=!0,actionCreatorCheck:ot=!0}=et??{};let st=new Tuple$1;return tt&&(isBoolean(tt)?st.push(thunk):st.push(withExtraArgument(tt.extraArgument))),st},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>_e=>({payload:_e,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=_e=>et=>{setTimeout(et,_e)},autoBatchEnhancer=(_e={type:"raf"})=>et=>(...tt)=>{const rt=et(...tt);let nt=!0,ot=!1,st=!1;const at=new Set,ct=_e.type==="tick"?queueMicrotask:_e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):_e.type==="callback"?_e.queueNotification:createQueueWithTimer(_e.timeout),lt=()=>{st=!1,ot&&(ot=!1,at.forEach(dt=>dt()))};return Object.assign({},rt,{subscribe(dt){const ft=()=>nt&&dt(),ht=rt.subscribe(ft);return at.add(dt),()=>{ht(),at.delete(dt)}},dispatch(dt){var ft;try{return nt=!((ft=dt==null?void 0:dt.meta)!=null&&ft[SHOULD_AUTOBATCH]),ot=!nt,ot&&(st||(st=!0,ct(lt))),rt.dispatch(dt)}finally{nt=!0}}})},buildGetDefaultEnhancers=_e=>function(tt){const{autoBatch:rt=!0}=tt??{};let nt=new Tuple$1(_e);return rt&&nt.push(autoBatchEnhancer(typeof rt=="object"?rt:void 0)),nt};function configureStore(_e){const et=buildGetDefaultMiddleware(),{reducer:tt=void 0,middleware:rt,devTools:nt=!0,preloadedState:ot=void 0,enhancers:st=void 0}=_e||{};let at;if(typeof tt=="function")at=tt;else if(isPlainObject$1(tt))at=combineReducers(tt);else throw new Error(formatProdErrorMessage(1));let ct;typeof rt=="function"?ct=rt(et):ct=et();let lt=compose$1;nt&&(lt=composeWithDevTools({trace:!1,...typeof nt=="object"&&nt}));const dt=applyMiddleware(...ct),ft=buildGetDefaultEnhancers(dt);let ht=typeof st=="function"?st(ft):ft();const pt=lt(...ht);return createStore$1(at,ot,pt)}function executeReducerBuilderCallback(_e){const et={},tt=[];let rt;const nt={addCase(ot,st){const at=typeof ot=="string"?ot:ot.type;if(!at)throw new Error(formatProdErrorMessage(28));if(at in et)throw new Error(formatProdErrorMessage(29));return et[at]=st,nt},addAsyncThunk(ot,st){return st.pending&&(et[ot.pending.type]=st.pending),st.rejected&&(et[ot.rejected.type]=st.rejected),st.fulfilled&&(et[ot.fulfilled.type]=st.fulfilled),st.settled&&tt.push({matcher:ot.settled,reducer:st.settled}),nt},addMatcher(ot,st){return tt.push({matcher:ot,reducer:st}),nt},addDefaultCase(ot){return rt=ot,nt}};return _e(nt),[et,tt,rt]}function isStateFunction(_e){return typeof _e=="function"}function createReducer(_e,et){let[tt,rt,nt]=executeReducerBuilderCallback(et),ot;if(isStateFunction(_e))ot=()=>freezeDraftable(_e());else{const at=freezeDraftable(_e);ot=()=>at}function st(at=ot(),ct){let lt=[tt[ct.type],...rt.filter(({matcher:dt})=>dt(ct)).map(({reducer:dt})=>dt)];return lt.filter(dt=>!!dt).length===0&&(lt=[nt]),lt.reduce((dt,ft)=>{if(ft)if(isDraft(dt)){const pt=ft(dt,ct);return pt===void 0?dt:pt}else{if(isDraftable(dt))return produce(dt,ht=>ft(ht,ct));{const ht=ft(dt,ct);if(ht===void 0){if(dt===null)return dt;throw Error("A case reducer on a non-draftable value must not return undefined")}return ht}}return dt},at)}return st.getInitialState=ot,st}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(_e=21)=>{let et="",tt=_e;for(;tt--;)et+=urlAlphabet[Math.random()*64|0];return et},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(_e,et){return`${_e}/${et}`}function buildCreateSlice({creators:_e}={}){var tt;const et=(tt=_e==null?void 0:_e.asyncThunk)==null?void 0:tt[asyncThunkSymbol];return function(nt){const{name:ot,reducerPath:st=ot}=nt;if(!ot)throw new Error(formatProdErrorMessage(11));const at=(typeof nt.reducers=="function"?nt.reducers(buildReducerCreators()):nt.reducers)||{},ct=Object.keys(at),lt={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},dt={addCase(wt,At){const St=typeof wt=="string"?wt:wt.type;if(!St)throw new Error(formatProdErrorMessage(12));if(St in lt.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return lt.sliceCaseReducersByType[St]=At,dt},addMatcher(wt,At){return lt.sliceMatchers.push({matcher:wt,reducer:At}),dt},exposeAction(wt,At){return lt.actionCreators[wt]=At,dt},exposeCaseReducer(wt,At){return lt.sliceCaseReducersByName[wt]=At,dt}};ct.forEach(wt=>{const At=at[wt],St={reducerName:wt,type:getType(ot,wt),createNotation:typeof nt.reducers=="function"};isAsyncThunkSliceReducerDefinition(At)?handleThunkCaseReducerDefinition(St,At,dt,et):handleNormalReducerDefinition(St,At,dt)});function ft(){const[wt={},At=[],St=void 0]=typeof nt.extraReducers=="function"?executeReducerBuilderCallback(nt.extraReducers):[nt.extraReducers],$t={...wt,...lt.sliceCaseReducersByType};return createReducer(nt.initialState,kt=>{for(let Ct in $t)kt.addCase(Ct,$t[Ct]);for(let Ct of lt.sliceMatchers)kt.addMatcher(Ct.matcher,Ct.reducer);for(let Ct of At)kt.addMatcher(Ct.matcher,Ct.reducer);St&&kt.addDefaultCase(St)})}const ht=wt=>wt,pt=new Map,gt=new WeakMap;let mt;function vt(wt,At){return mt||(mt=ft()),mt(wt,At)}function yt(){return mt||(mt=ft()),mt.getInitialState()}function bt(wt,At=!1){function St(kt){let Ct=kt[wt];return typeof Ct>"u"&&At&&(Ct=getOrInsertComputed(gt,St,yt)),Ct}function $t(kt=ht){const Ct=getOrInsertComputed(pt,At,()=>new WeakMap);return getOrInsertComputed(Ct,kt,()=>{const _t={};for(const[Tt,jt]of Object.entries(nt.selectors??{}))_t[Tt]=wrapSelector(jt,kt,()=>getOrInsertComputed(gt,kt,yt),At);return _t})}return{reducerPath:wt,getSelectors:$t,get selectors(){return $t(St)},selectSlice:St}}const xt={name:ot,reducer:vt,actions:lt.actionCreators,caseReducers:lt.sliceCaseReducersByName,getInitialState:yt,...bt(st),injectInto(wt,{reducerPath:At,...St}={}){const $t=At??st;return wt.inject({reducerPath:$t,reducer:vt},St),{...xt,...bt($t,!0)}}};return xt}}function wrapSelector(_e,et,tt,rt){function nt(ot,...st){let at=et(ot);return typeof at>"u"&&rt&&(at=tt()),_e(at,...st)}return nt.unwrapped=_e,nt}var createSlice=buildCreateSlice();function buildReducerCreators(){function _e(et,tt){return{_reducerDefinitionType:"asyncThunk",payloadCreator:et,...tt}}return _e.withTypes=()=>_e,{reducer(et){return Object.assign({[et.name](...tt){return et(...tt)}}[et.name],{_reducerDefinitionType:"reducer"})},preparedReducer(et,tt){return{_reducerDefinitionType:"reducerWithPrepare",prepare:et,reducer:tt}},asyncThunk:_e}}function handleNormalReducerDefinition({type:_e,reducerName:et,createNotation:tt},rt,nt){let ot,st;if("reducer"in rt){if(tt&&!isCaseReducerWithPrepareDefinition(rt))throw new Error(formatProdErrorMessage(17));ot=rt.reducer,st=rt.prepare}else ot=rt;nt.addCase(_e,ot).exposeCaseReducer(et,ot).exposeAction(et,st?createAction(_e,st):createAction(_e))}function isAsyncThunkSliceReducerDefinition(_e){return _e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(_e){return _e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:_e,reducerName:et},tt,rt,nt){if(!nt)throw new Error(formatProdErrorMessage(18));const{payloadCreator:ot,fulfilled:st,pending:at,rejected:ct,settled:lt,options:dt}=tt,ft=nt(_e,ot,dt);rt.exposeAction(et,ft),st&&rt.addCase(ft.fulfilled,st),at&&rt.addCase(ft.pending,at),ct&&rt.addCase(ft.rejected,ct),lt&&rt.addMatcher(ft.settled,lt),rt.exposeCaseReducer(et,{fulfilled:st||noop$5,pending:at||noop$5,rejected:ct||noop$5,settled:lt||noop$5})}function noop$5(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(_e){Nt(this,"name","TaskAbortError");Nt(this,"message");this.code=_e,this.message=`${task} ${cancelled} (reason: ${_e})`}},assertFunction=(_e,et)=>{if(typeof _e!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(_e,et=noop2)=>(_e.catch(et),_e),addAbortSignalListener=(_e,et)=>(_e.addEventListener("abort",et,{once:!0}),()=>_e.removeEventListener("abort",et)),abortControllerWithReason=(_e,et)=>{const tt=_e.signal;tt.aborted||("reason"in tt||Object.defineProperty(tt,"reason",{enumerable:!0,value:et,configurable:!0,writable:!0}),_e.abort(et))},validateActive=_e=>{if(_e.aborted){const{reason:et}=_e;throw new TaskAbortError(et)}};function raceWithSignal(_e,et){let tt=noop2;return new Promise((rt,nt)=>{const ot=()=>nt(new TaskAbortError(_e.reason));if(_e.aborted){ot();return}tt=addAbortSignalListener(_e,ot),et.finally(()=>tt()).then(rt,nt)}).finally(()=>{tt=noop2})}var runTask=async(_e,et)=>{try{return await Promise.resolve(),{status:"ok",value:await _e()}}catch(tt){return{status:tt instanceof TaskAbortError?"cancelled":"rejected",error:tt}}finally{et==null||et()}},createPause=_e=>et=>catchRejection(raceWithSignal(_e,et).then(tt=>(validateActive(_e),tt))),createDelay=_e=>{const et=createPause(_e);return tt=>et(new Promise(rt=>setTimeout(rt,tt)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(_e,et)=>{const tt=rt=>addAbortSignalListener(_e,()=>abortControllerWithReason(rt,_e.reason));return(rt,nt)=>{assertFunction(rt);const ot=new AbortController;tt(ot);const st=runTask(async()=>{validateActive(_e),validateActive(ot.signal);const at=await rt({pause:createPause(ot.signal),delay:createDelay(ot.signal),signal:ot.signal});return validateActive(ot.signal),at},()=>abortControllerWithReason(ot,taskCompleted));return nt!=null&&nt.autoJoin&&et.push(st.catch(noop2)),{result:createPause(_e)(st),cancel(){abortControllerWithReason(ot,taskCancelled)}}}},createTakePattern=(_e,et)=>{const tt=async(rt,nt)=>{validateActive(et);let ot=()=>{};const at=[new Promise((ct,lt)=>{let dt=_e({predicate:rt,effect:(ft,ht)=>{ht.unsubscribe(),ct([ft,ht.getState(),ht.getOriginalState()])}});ot=()=>{dt(),lt()}})];nt!=null&&at.push(new Promise(ct=>setTimeout(ct,nt,null)));try{const ct=await raceWithSignal(et,Promise.race(at));return validateActive(et),ct}finally{ot()}};return(rt,nt)=>catchRejection(tt(rt,nt))},getListenerEntryPropsFrom=_e=>{let{type:et,actionCreator:tt,matcher:rt,predicate:nt,effect:ot}=_e;if(et)nt=createAction(et).match;else if(tt)et=tt.type,nt=tt.match;else if(rt)nt=rt;else if(!nt)throw new Error(formatProdErrorMessage(21));return assertFunction(ot),{predicate:nt,type:et,effect:ot}},createListenerEntry=assign(_e=>{const{type:et,predicate:tt,effect:rt}=getListenerEntryPropsFrom(_e);return{id:nanoid(),effect:rt,type:et,predicate:tt,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(_e,et)=>{const{type:tt,effect:rt,predicate:nt}=getListenerEntryPropsFrom(et);return Array.from(_e.values()).find(ot=>(typeof tt=="string"?ot.type===tt:ot.predicate===nt)&&ot.effect===rt)},cancelActiveListeners=_e=>{_e.pending.forEach(et=>{abortControllerWithReason(et,listenerCancelled)})},createClearListenerMiddleware=(_e,et)=>()=>{for(const tt of et.keys())cancelActiveListeners(tt);_e.clear()},safelyNotifyError=(_e,et,tt)=>{try{_e(et,tt)}catch(rt){setTimeout(()=>{throw rt},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(..._e)=>{console.error(`${alm}/error`,..._e)},createListenerMiddleware=(_e={})=>{const et=new Map,tt=new Map,rt=pt=>{const gt=tt.get(pt)??0;tt.set(pt,gt+1)},nt=pt=>{const gt=tt.get(pt)??1;gt===1?tt.delete(pt):tt.set(pt,gt-1)},{extra:ot,onError:st=defaultErrorHandler}=_e;assertFunction(st);const at=pt=>(pt.unsubscribe=()=>et.delete(pt.id),et.set(pt.id,pt),gt=>{pt.unsubscribe(),gt!=null&&gt.cancelActive&&cancelActiveListeners(pt)}),ct=pt=>{const gt=findListenerEntry(et,pt)??createListenerEntry(pt);return at(gt)};assign(ct,{withTypes:()=>ct});const lt=pt=>{const gt=findListenerEntry(et,pt);return gt&&(gt.unsubscribe(),pt.cancelActive&&cancelActiveListeners(gt)),!!gt};assign(lt,{withTypes:()=>lt});const dt=async(pt,gt,mt,vt)=>{const yt=new AbortController,bt=createTakePattern(ct,yt.signal),xt=[];try{pt.pending.add(yt),rt(pt),await Promise.resolve(pt.effect(gt,assign({},mt,{getOriginalState:vt,condition:(wt,At)=>bt(wt,At).then(Boolean),take:bt,delay:createDelay(yt.signal),pause:createPause(yt.signal),extra:ot,signal:yt.signal,fork:createFork(yt.signal,xt),unsubscribe:pt.unsubscribe,subscribe:()=>{et.set(pt.id,pt)},cancelActiveListeners:()=>{pt.pending.forEach((wt,At,St)=>{wt!==yt&&(abortControllerWithReason(wt,listenerCancelled),St.delete(wt))})},cancel:()=>{abortControllerWithReason(yt,listenerCancelled),pt.pending.delete(yt)},throwIfCancelled:()=>{validateActive(yt.signal)}})))}catch(wt){wt instanceof TaskAbortError||safelyNotifyError(st,wt,{raisedBy:"effect"})}finally{await Promise.all(xt),abortControllerWithReason(yt,listenerCompleted),nt(pt),pt.pending.delete(yt)}},ft=createClearListenerMiddleware(et,tt);return{middleware:pt=>gt=>mt=>{if(!isAction(mt))return gt(mt);if(addListener.match(mt))return ct(mt.payload);if(clearAllListeners.match(mt)){ft();return}if(removeListener.match(mt))return lt(mt.payload);let vt=pt.getState();const yt=()=>{if(vt===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return vt};let bt;try{if(bt=gt(mt),et.size>0){const xt=pt.getState(),wt=Array.from(et.values());for(const At of wt){let St=!1;try{St=At.predicate(mt,xt,vt)}catch($t){St=!1,safelyNotifyError(st,$t,{raisedBy:"predicate"})}St&&dt(At,mt,pt,yt)}}}finally{vt=INTERNAL_NIL_TOKEN}return bt},startListening:ct,stopListening:lt,clearListeners:ft}};function formatProdErrorMessage(_e){return`Minified Redux Toolkit error #${_e}; visit https://redux-toolkit.js.org/Errors?code=${_e} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(_e,et){_e.layoutType=et.payload},setChartSize(_e,et){_e.width=et.payload.width,_e.height=et.payload.height},setMargin(_e,et){var tt,rt,nt,ot;_e.margin.top=(tt=et.payload.top)!==null&&tt!==void 0?tt:0,_e.margin.right=(rt=et.payload.right)!==null&&rt!==void 0?rt:0,_e.margin.bottom=(nt=et.payload.bottom)!==null&&nt!==void 0?nt:0,_e.margin.left=(ot=et.payload.left)!==null&&ot!==void 0?ot:0},setScale(_e,et){_e.scale=et.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$r(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$r(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$r(Object(tt),!0).forEach(function(rt){_defineProperty$t(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$r(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$t(_e,et,tt){return(et=_toPropertyKey$t(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$t(_e){var et=_toPrimitive$t(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$t(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var RADIAN=Math.PI/180,radianToDegree=_e=>_e*180/Math.PI,polarToCartesian=(_e,et,tt,rt)=>({x:_e+Math.cos(-RADIAN*rt)*tt,y:et+Math.sin(-RADIAN*rt)*tt}),getMaxRadius=function(et,tt){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(et-(rt.left||0)-(rt.right||0)),Math.abs(tt-(rt.top||0)-(rt.bottom||0)))/2},distanceBetweenPoints=(_e,et)=>{var{x:tt,y:rt}=_e,{x:nt,y:ot}=et;return Math.sqrt((tt-nt)**2+(rt-ot)**2)},getAngleOfPoint=(_e,et)=>{var{x:tt,y:rt}=_e,{cx:nt,cy:ot}=et,st=distanceBetweenPoints({x:tt,y:rt},{x:nt,y:ot});if(st<=0)return{radius:st,angle:0};var at=(tt-nt)/st,ct=Math.acos(at);return rt>ot&&(ct=2*Math.PI-ct),{radius:st,angle:radianToDegree(ct),angleInRadian:ct}},formatAngleOfSector=_e=>{var{startAngle:et,endAngle:tt}=_e,rt=Math.floor(et/360),nt=Math.floor(tt/360),ot=Math.min(rt,nt);return{startAngle:et-ot*360,endAngle:tt-ot*360}},reverseFormatAngleOfSector=(_e,et)=>{var{startAngle:tt,endAngle:rt}=et,nt=Math.floor(tt/360),ot=Math.floor(rt/360),st=Math.min(nt,ot);return _e+st*360},inRangeOfSector=(_e,et)=>{var{x:tt,y:rt}=_e,{radius:nt,angle:ot}=getAngleOfPoint({x:tt,y:rt},et),{innerRadius:st,outerRadius:at}=et;if(nt<st||nt>at||nt===0)return null;var{startAngle:ct,endAngle:lt}=formatAngleOfSector(et),dt=ot,ft;if(ct<=lt){for(;dt>lt;)dt-=360;for(;dt<ct;)dt+=360;ft=dt>=ct&&dt<=lt}else{for(;dt>ct;)dt-=360;for(;dt<lt;)dt+=360;ft=dt>=lt&&dt<=ct}return ft?_objectSpread$r(_objectSpread$r({},et),{},{radius:nt,angle:reverseFormatAngleOfSector(dt,et)}):null};function getSliced(_e,et,tt){return Array.isArray(_e)&&_e&&et+tt!==0?_e.slice(et,tt+1):_e}function ownKeys$q(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$q(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$q(Object(tt),!0).forEach(function(rt){_defineProperty$s(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$q(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$s(_e,et,tt){return(et=_toPropertyKey$s(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$s(_e){var et=_toPrimitive$s(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$s(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function getValueByDataKey(_e,et,tt){return isNullish(_e)||isNullish(et)?tt:isNumOrStr(et)?get$a(_e,et,tt):typeof et=="function"?et(_e):tt}var calculateActiveTickIndex=(_e,et,tt,rt,nt)=>{var ot,st=-1,at=(ot=et==null?void 0:et.length)!==null&&ot!==void 0?ot:0;if(at<=1||_e==null)return 0;if(rt==="angleAxis"&&nt!=null&&Math.abs(Math.abs(nt[1]-nt[0])-360)<=1e-6)for(var ct=0;ct<at;ct++){var lt=ct>0?tt[ct-1].coordinate:tt[at-1].coordinate,dt=tt[ct].coordinate,ft=ct>=at-1?tt[0].coordinate:tt[ct+1].coordinate,ht=void 0;if(mathSign(dt-lt)!==mathSign(ft-dt)){var pt=[];if(mathSign(ft-dt)===mathSign(nt[1]-nt[0])){ht=ft;var gt=dt+nt[1]-nt[0];pt[0]=Math.min(gt,(gt+lt)/2),pt[1]=Math.max(gt,(gt+lt)/2)}else{ht=lt;var mt=ft+nt[1]-nt[0];pt[0]=Math.min(dt,(mt+dt)/2),pt[1]=Math.max(dt,(mt+dt)/2)}var vt=[Math.min(dt,(ht+dt)/2),Math.max(dt,(ht+dt)/2)];if(_e>vt[0]&&_e<=vt[1]||_e>=pt[0]&&_e<=pt[1]){({index:st}=tt[ct]);break}}else{var yt=Math.min(lt,ft),bt=Math.max(lt,ft);if(_e>(yt+dt)/2&&_e<=(bt+dt)/2){({index:st}=tt[ct]);break}}}else if(et){for(var xt=0;xt<at;xt++)if(xt===0&&_e<=(et[xt].coordinate+et[xt+1].coordinate)/2||xt>0&&xt<at-1&&_e>(et[xt].coordinate+et[xt-1].coordinate)/2&&_e<=(et[xt].coordinate+et[xt+1].coordinate)/2||xt===at-1&&_e>(et[xt].coordinate+et[xt-1].coordinate)/2){({index:st}=et[xt]);break}}return st},appendOffsetOfLegend=(_e,et,tt)=>{if(et&&tt){var{width:rt,height:nt}=tt,{align:ot,verticalAlign:st,layout:at}=et;if((at==="vertical"||at==="horizontal"&&st==="middle")&&ot!=="center"&&isNumber(_e[ot]))return _objectSpread$q(_objectSpread$q({},_e),{},{[ot]:_e[ot]+(rt||0)});if((at==="horizontal"||at==="vertical"&&ot==="center")&&st!=="middle"&&isNumber(_e[st]))return _objectSpread$q(_objectSpread$q({},_e),{},{[st]:_e[st]+(nt||0)})}return _e},isCategoricalAxis=(_e,et)=>_e==="horizontal"&&et==="xAxis"||_e==="vertical"&&et==="yAxis"||_e==="centric"&&et==="angleAxis"||_e==="radial"&&et==="radiusAxis",getCoordinatesOfGrid=(_e,et,tt,rt)=>{if(rt)return _e.map(at=>at.coordinate);var nt,ot,st=_e.map(at=>(at.coordinate===et&&(nt=!0),at.coordinate===tt&&(ot=!0),at.coordinate));return nt||st.push(et),ot||st.push(tt),st},getTicksOfAxis=(_e,et,tt)=>{if(!_e)return null;var{duplicateDomain:rt,type:nt,range:ot,scale:st,realScaleType:at,isCategorical:ct,categoricalDomain:lt,tickCount:dt,ticks:ft,niceTicks:ht,axisType:pt}=_e;if(!st)return null;var gt=at==="scaleBand"&&st.bandwidth?st.bandwidth()/2:2,mt=nt==="category"&&st.bandwidth?st.bandwidth()/gt:0;if(mt=pt==="angleAxis"&&ot&&ot.length>=2?mathSign(ot[0]-ot[1])*2*mt:mt,ft||ht){var vt=(ft||ht||[]).map((yt,bt)=>{var xt=rt?rt.indexOf(yt):yt;return{coordinate:st(xt)+mt,value:yt,offset:mt,index:bt}});return vt.filter(yt=>!isNan(yt.coordinate))}return ct&&lt?lt.map((yt,bt)=>({coordinate:st(yt)+mt,value:yt,index:bt,offset:mt})):st.ticks&&dt!=null?st.ticks(dt).map((yt,bt)=>({coordinate:st(yt)+mt,value:yt,offset:mt,index:bt})):st.domain().map((yt,bt)=>({coordinate:st(yt)+mt,value:rt?rt[yt]:yt,index:bt,offset:mt}))},EPS=1e-4,checkDomainOfScale=_e=>{var et=_e.domain();if(!(!et||et.length<=2)){var tt=et.length,rt=_e.range(),nt=Math.min(rt[0],rt[1])-EPS,ot=Math.max(rt[0],rt[1])+EPS,st=_e(et[0]),at=_e(et[tt-1]);(st<nt||st>ot||at<nt||at>ot)&&_e.domain([et[0],et[tt-1]])}},offsetSign=_e=>{var et=_e.length;if(!(et<=0))for(var tt=0,rt=_e[0].length;tt<rt;++tt)for(var nt=0,ot=0,st=0;st<et;++st){var at=isNan(_e[st][tt][1])?_e[st][tt][0]:_e[st][tt][1];at>=0?(_e[st][tt][0]=nt,_e[st][tt][1]=nt+at,nt=_e[st][tt][1]):(_e[st][tt][0]=ot,_e[st][tt][1]=ot+at,ot=_e[st][tt][1])}},offsetPositive=_e=>{var et=_e.length;if(!(et<=0))for(var tt=0,rt=_e[0].length;tt<rt;++tt)for(var nt=0,ot=0;ot<et;++ot){var st=isNan(_e[ot][tt][1])?_e[ot][tt][0]:_e[ot][tt][1];st>=0?(_e[ot][tt][0]=nt,_e[ot][tt][1]=nt+st,nt=_e[ot][tt][1]):(_e[ot][tt][0]=0,_e[ot][tt][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(_e,et,tt)=>{var rt=STACK_OFFSET_MAP[tt],nt=shapeStack().keys(et).value((ot,st)=>+getValueByDataKey(ot,st,0)).order(stackOrderNone).offset(rt);return nt(_e)};function getCateCoordinateOfLine(_e){var{axis:et,ticks:tt,bandSize:rt,entry:nt,index:ot,dataKey:st}=_e;if(et.type==="category"){if(!et.allowDuplicatedCategory&&et.dataKey&&!isNullish(nt[et.dataKey])){var at=findEntryInArray(tt,"value",nt[et.dataKey]);if(at)return at.coordinate+rt/2}return tt[ot]?tt[ot].coordinate+rt/2:null}var ct=getValueByDataKey(nt,isNullish(st)?et.dataKey:st);return isNullish(ct)?null:et.scale(ct)}var getDomainOfSingle=_e=>{var et=_e.flat(2).filter(isNumber);return[Math.min(...et),Math.max(...et)]},makeDomainFinite=_e=>[_e[0]===1/0?0:_e[0],_e[1]===-1/0?0:_e[1]],getDomainOfStackGroups=(_e,et,tt)=>{if(_e!=null)return makeDomainFinite(Object.keys(_e).reduce((rt,nt)=>{var ot=_e[nt],{stackedData:st}=ot,at=st.reduce((ct,lt)=>{var dt=getSliced(lt,et,tt),ft=getDomainOfSingle(dt);return[Math.min(ct[0],ft[0]),Math.max(ct[1],ft[1])]},[1/0,-1/0]);return[Math.min(at[0],rt[0]),Math.max(at[1],rt[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(_e,et,tt)=>{if(_e&&_e.scale&&_e.scale.bandwidth){var rt=_e.scale.bandwidth();if(!tt||rt>0)return rt}if(_e&&et&&et.length>=2){for(var nt=sortBy$1(et,dt=>dt.coordinate),ot=1/0,st=1,at=nt.length;st<at;st++){var ct=nt[st],lt=nt[st-1];ot=Math.min((ct.coordinate||0)-(lt.coordinate||0),ot)}return ot===1/0?0:ot}return tt?void 0:0};function getTooltipEntry(_e){var{tooltipEntrySettings:et,dataKey:tt,payload:rt,value:nt,name:ot}=_e;return _objectSpread$q(_objectSpread$q({},et),{},{dataKey:tt,payload:rt,value:nt,name:ot})}function getTooltipNameProp(_e,et){if(_e)return String(_e);if(typeof et=="string")return et}function inRange(_e,et,tt,rt,nt){if(tt==="horizontal"||tt==="vertical"){var ot=_e>=nt.left&&_e<=nt.left+nt.width&&et>=nt.top&&et<=nt.top+nt.height;return ot?{x:_e,y:et}:null}return rt?inRangeOfSector({x:_e,y:et},rt):null}var getActiveCoordinate=(_e,et,tt,rt)=>{var nt=et.find(lt=>lt&&lt.index===tt);if(nt){if(_e==="horizontal")return{x:nt.coordinate,y:rt.y};if(_e==="vertical")return{x:rt.x,y:nt.coordinate};if(_e==="centric"){var ot=nt.coordinate,{radius:st}=rt;return _objectSpread$q(_objectSpread$q(_objectSpread$q({},rt),polarToCartesian(rt.cx,rt.cy,st,ot)),{},{angle:ot,radius:st})}var at=nt.coordinate,{angle:ct}=rt;return _objectSpread$q(_objectSpread$q(_objectSpread$q({},rt),polarToCartesian(rt.cx,rt.cy,at,ct)),{},{angle:ct,radius:at})}return{x:0,y:0}},calculateTooltipPos=(_e,et)=>et==="horizontal"?_e.x:et==="vertical"?_e.y:et==="centric"?_e.angle:_e.radius,selectChartWidth=_e=>_e.layout.width,selectChartHeight=_e=>_e.layout.height,selectContainerScale=_e=>_e.layout.scale,selectMargin=_e=>_e.layout.margin,selectAllXAxes=createSelector(_e=>_e.cartesianAxis.xAxis,_e=>Object.values(_e)),selectAllYAxes=createSelector(_e=>_e.cartesianAxis.yAxis,_e=>Object.values(_e)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$p(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$p(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$p(Object(tt),!0).forEach(function(rt){_defineProperty$r(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$p(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$r(_e,et,tt){return(et=_toPropertyKey$r(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$r(_e){var et=_toPrimitive$r(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$r(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var selectBrushHeight=_e=>_e.brush.height;function selectLeftAxesOffset(_e){var et=selectAllYAxes(_e);return et.reduce((tt,rt)=>{if(rt.orientation==="left"&&!rt.mirror&&!rt.hide){var nt=typeof rt.width=="number"?rt.width:DEFAULT_Y_AXIS_WIDTH;return tt+nt}return tt},0)}function selectRightAxesOffset(_e){var et=selectAllYAxes(_e);return et.reduce((tt,rt)=>{if(rt.orientation==="right"&&!rt.mirror&&!rt.hide){var nt=typeof rt.width=="number"?rt.width:DEFAULT_Y_AXIS_WIDTH;return tt+nt}return tt},0)}function selectTopAxesOffset(_e){var et=selectAllXAxes(_e);return et.reduce((tt,rt)=>rt.orientation==="top"&&!rt.mirror&&!rt.hide?tt+rt.height:tt,0)}function selectBottomAxesOffset(_e){var et=selectAllXAxes(_e);return et.reduce((tt,rt)=>rt.orientation==="bottom"&&!rt.mirror&&!rt.hide?tt+rt.height:tt,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(_e,et,tt,rt,nt,ot,st,at,ct,lt)=>{var dt={left:(tt.left||0)+nt,right:(tt.right||0)+ot},ft={top:(tt.top||0)+st,bottom:(tt.bottom||0)+at},ht=_objectSpread$p(_objectSpread$p({},ft),dt),pt=ht.bottom;ht.bottom+=rt,ht=appendOffsetOfLegend(ht,ct,lt);var gt=_e-ht.left-ht.right,mt=et-ht.top-ht.bottom;return _objectSpread$p(_objectSpread$p({brushBottom:pt},ht),{},{width:Math.max(gt,0),height:Math.max(mt,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,_e=>({x:_e.left,y:_e.top,width:_e.width,height:_e.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(_e,et)=>({x:0,y:0,width:_e,height:et})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=_e=>_e.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(_e,et,tt)=>({height:_e.height,x:isNumber(_e.x)?_e.x:et.left,y:isNumber(_e.y)?_e.y:et.top+et.height+et.brushBottom-((tt==null?void 0:tt.bottom)||0),width:isNumber(_e.width)?_e.width:et.width})),throttle$2={},debounce$1={},debounce={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt,rt,{signal:nt,edges:ot}={}){let st,at=null;const ct=ot!=null&&ot.includes("leading"),lt=ot==null||ot.includes("trailing"),dt=()=>{at!==null&&(tt.apply(st,at),st=void 0,at=null)},ft=()=>{lt&&dt(),mt()};let ht=null;const pt=()=>{ht!=null&&clearTimeout(ht),ht=setTimeout(()=>{ht=null,ft()},rt)},gt=()=>{ht!==null&&(clearTimeout(ht),ht=null)},mt=()=>{gt(),st=void 0,at=null},vt=()=>{dt()},yt=function(...bt){if(nt!=null&&nt.aborted)return;st=this,at=bt;const xt=ht==null;pt(),ct&&xt&&dt()};return yt.schedule=pt,yt.cancel=mt,yt.flush=vt,nt==null||nt.addEventListener("abort",mt,{once:!0}),yt}_e.debounce=et})(debounce);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=debounce;function tt(rt,nt=0,ot={}){typeof ot!="object"&&(ot={});const{leading:st=!1,trailing:at=!0,maxWait:ct}=ot,lt=Array(2);st&&(lt[0]="leading"),at&&(lt[1]="trailing");let dt,ft=null;const ht=et.debounce(function(...mt){dt=rt.apply(this,mt),ft=null},nt,{edges:lt}),pt=function(...mt){return ct!=null&&(ft===null&&(ft=Date.now()),Date.now()-ft>=ct)?(dt=rt.apply(this,mt),ft=Date.now(),ht.cancel(),ht.schedule(),dt):(ht.apply(this,mt),dt)},gt=()=>(ht.flush(),dt);return pt.cancel=ht.cancel,pt.flush=gt,pt}_e.debounce=tt})(debounce$1);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=debounce$1;function tt(rt,nt=0,ot={}){const{leading:st=!0,trailing:at=!0}=ot;return et.debounce(rt,nt,{leading:st,maxWait:nt,trailing:at})}_e.throttle=tt})(throttle$2);var throttle=throttle$2.throttle;const throttle$1=getDefaultExportFromCjs(throttle);var warn=function(et,tt){for(var rt=arguments.length,nt=new Array(rt>2?rt-2:0),ot=2;ot<rt;ot++)nt[ot-2]=arguments[ot]},calculateChartDimensions=(_e,et,tt)=>{var{width:rt="100%",height:nt="100%",aspect:ot,maxHeight:st}=tt,at=isPercent(rt)?_e:Number(rt),ct=isPercent(nt)?et:Number(nt);return ot&&ot>0&&(at?ct=at/ot:ct&&(at=ct*ot),st&&ct>st&&(ct=st)),{calculatedWidth:at,calculatedHeight:ct}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=_e=>{var{width:et,height:tt}=_e,rt=isPercent(et),nt=isPercent(tt);return rt&&nt?bothOverflow:rt?overflowX:nt?overflowY:noStyle};function getDefaultWidthAndHeight(_e){var{width:et,height:tt,aspect:rt}=_e,nt=et,ot=tt;return nt===void 0&&ot===void 0?(nt="100%",ot="100%"):nt===void 0?nt=rt&&rt>0?void 0:"100%":ot===void 0&&(ot=rt&&rt>0?void 0:"100%"),{width:nt,height:ot}}function isWellBehavedNumber(_e){return Number.isFinite(_e)}function isPositiveNumber(_e){return typeof _e=="number"&&_e>0&&Number.isFinite(_e)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$i.apply(null,arguments)}function ownKeys$o(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$o(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$o(Object(tt),!0).forEach(function(rt){_defineProperty$q(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$o(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$q(_e,et,tt){return(et=_toPropertyKey$q(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$q(_e){var et=_toPrimitive$q(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$q(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function ResponsiveContainerContextProvider(_e){var{children:et,width:tt,height:rt}=_e,nt=reactExports.useMemo(()=>({width:tt,height:rt}),[tt,rt]);return tt<=0||rt<=0?null:reactExports.createElement(ResponsiveContainerContext.Provider,{value:nt},et)}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((_e,et)=>{var{aspect:tt,initialDimension:rt={width:-1,height:-1},width:nt,height:ot,minWidth:st=0,minHeight:at,maxHeight:ct,children:lt,debounce:dt=0,id:ft,className:ht,onResize:pt,style:gt={}}=_e,mt=reactExports.useRef(null),vt=reactExports.useRef();vt.current=pt,reactExports.useImperativeHandle(et,()=>mt.current);var[yt,bt]=reactExports.useState({containerWidth:rt.width,containerHeight:rt.height}),xt=reactExports.useCallback((kt,Ct)=>{bt(_t=>{var Tt=Math.round(kt),jt=Math.round(Ct);return _t.containerWidth===Tt&&_t.containerHeight===jt?_t:{containerWidth:Tt,containerHeight:jt}})},[]);reactExports.useEffect(()=>{var kt=jt=>{var Bt,{width:Gt,height:Rt}=jt[0].contentRect;xt(Gt,Rt),(Bt=vt.current)===null||Bt===void 0||Bt.call(vt,Gt,Rt)};dt>0&&(kt=throttle$1(kt,dt,{trailing:!0,leading:!1}));var Ct=new ResizeObserver(kt),{width:_t,height:Tt}=mt.current.getBoundingClientRect();return xt(_t,Tt),Ct.observe(mt.current),()=>{Ct.disconnect()}},[xt,dt]);var{containerWidth:wt,containerHeight:At}=yt;warn(!tt||tt>0,"The aspect(%s) must be greater than zero.",tt);var{calculatedWidth:St,calculatedHeight:$t}=calculateChartDimensions(wt,At,{width:nt,height:ot,aspect:tt,maxHeight:ct});return warn(St>0||$t>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,St,$t,nt,ot,st,at,tt),reactExports.createElement("div",{id:ft?"".concat(ft):void 0,className:clsx("recharts-responsive-container",ht),style:_objectSpread$o(_objectSpread$o({},gt),{},{width:nt,height:ot,minWidth:st,minHeight:at,maxHeight:ct}),ref:mt},reactExports.createElement("div",{style:getInnerDivStyle({width:nt,height:ot})},reactExports.createElement(ResponsiveContainerContextProvider,{width:St,height:$t},lt)))}),ResponsiveContainer=reactExports.forwardRef((_e,et)=>{var tt=useResponsiveContainerContext();if(isPositiveNumber(tt.width)&&isPositiveNumber(tt.height))return _e.children;var{width:rt,height:nt}=getDefaultWidthAndHeight({width:_e.width,height:_e.height,aspect:_e.aspect}),{calculatedWidth:ot,calculatedHeight:st}=calculateChartDimensions(void 0,void 0,{width:rt,height:nt,aspect:_e.aspect,maxHeight:_e.maxHeight});return isNumber(ot)&&isNumber(st)?reactExports.createElement(ResponsiveContainerContextProvider,{width:ot,height:st},_e.children):reactExports.createElement(SizeDetectorContainer,_extends$i({},_e,{width:rt,height:nt,ref:et}))}),useViewBox=()=>{var _e,et=useIsPanorama(),tt=useAppSelector(selectChartViewBox),rt=useAppSelector(selectBrushDimensions),nt=(_e=useAppSelector(selectBrushSettings))===null||_e===void 0?void 0:_e.padding;return!et||!rt||!nt?tt:{width:rt.width-nt.left-nt.right,height:rt.height-nt.top-nt.bottom,x:nt.left,y:nt.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var _e;return(_e=useAppSelector(selectChartOffsetInternal))!==null&&_e!==void 0?_e:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),selectChartLayout=_e=>_e.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),ReportChartSize=_e=>{var et=useAppDispatch(),tt=useIsPanorama(),{width:rt,height:nt}=_e,ot=useResponsiveContainerContext(),st=rt,at=nt;return ot&&(st=ot.width>0?ot.width:rt,at=ot.height>0?ot.height:nt),reactExports.useEffect(()=>{!tt&&isPositiveNumber(st)&&isPositiveNumber(at)&&et(setChartSize({width:st,height:at}))},[et,tt,st,at]),null},initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(_e,et){_e.size.width=et.payload.width,_e.size.height=et.payload.height},setLegendSettings(_e,et){_e.settings.align=et.payload.align,_e.settings.layout=et.payload.layout,_e.settings.verticalAlign=et.payload.verticalAlign,_e.settings.itemSorter=et.payload.itemSorter},addLegendPayload:{reducer(_e,et){_e.payload.push(et.payload)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(_e,et){var tt=current(_e).payload.indexOf(et.payload);tt>-1&&_e.payload.splice(tt,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer;function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$h.apply(null,arguments)}function ownKeys$n(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$n(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$n(Object(tt),!0).forEach(function(rt){_defineProperty$p(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$n(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$p(_e,et,tt){return(et=_toPropertyKey$p(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$p(_e){var et=_toPrimitive$p(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$p(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function defaultFormatter(_e){return Array.isArray(_e)&&isNumOrStr(_e[0])&&isNumOrStr(_e[1])?_e.join(" ~ "):_e}var DefaultTooltipContent=_e=>{var{separator:et=" : ",contentStyle:tt={},itemStyle:rt={},labelStyle:nt={},payload:ot,formatter:st,itemSorter:at,wrapperClassName:ct,labelClassName:lt,label:dt,labelFormatter:ft,accessibilityLayer:ht=!1}=_e,pt=()=>{if(ot&&ot.length){var At={padding:0,margin:0},St=(at?sortBy$1(ot,at):ot).map(($t,kt)=>{if($t.type==="none")return null;var Ct=$t.formatter||st||defaultFormatter,{value:_t,name:Tt}=$t,jt=_t,Bt=Tt;if(Ct){var Gt=Ct(_t,Tt,$t,kt,ot);if(Array.isArray(Gt))[jt,Bt]=Gt;else if(Gt!=null)jt=Gt;else return null}var Rt=_objectSpread$n({display:"block",paddingTop:4,paddingBottom:4,color:$t.color||"#000"},rt);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(kt),style:Rt},isNumOrStr(Bt)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},Bt):null,isNumOrStr(Bt)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},et):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},jt),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},$t.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:At},St)}return null},gt=_objectSpread$n({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},tt),mt=_objectSpread$n({margin:0},nt),vt=!isNullish(dt),yt=vt?dt:"",bt=clsx("recharts-default-tooltip",ct),xt=clsx("recharts-tooltip-label",lt);vt&&ft&&ot!==void 0&&ot!==null&&(yt=ft(dt,ot));var wt=ht?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$h({className:bt,style:gt},wt),reactExports.createElement("p",{className:xt,style:mt},reactExports.isValidElement(yt)?yt:"".concat(yt)),pt())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(_e){var{coordinate:et,translateX:tt,translateY:rt}=_e;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(tt)&&et&&isNumber(et.x)&&tt>=et.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(tt)&&et&&isNumber(et.x)&&tt<et.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(rt)&&et&&isNumber(et.y)&&rt>=et.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(rt)&&et&&isNumber(et.y)&&rt<et.y})}function getTooltipTranslateXY(_e){var{allowEscapeViewBox:et,coordinate:tt,key:rt,offsetTopLeft:nt,position:ot,reverseDirection:st,tooltipDimension:at,viewBox:ct,viewBoxDimension:lt}=_e;if(ot&&isNumber(ot[rt]))return ot[rt];var dt=tt[rt]-at-(nt>0?nt:0),ft=tt[rt]+nt;if(et[rt])return st[rt]?dt:ft;var ht=ct[rt];if(ht==null)return 0;if(st[rt]){var pt=dt,gt=ht;return pt<gt?Math.max(ft,ht):Math.max(dt,ht)}if(lt==null)return 0;var mt=ft+at,vt=ht+lt;return mt>vt?Math.max(dt,ht):Math.max(ft,ht)}function getTransformStyle(_e){var{translateX:et,translateY:tt,useTranslate3d:rt}=_e;return{transform:rt?"translate3d(".concat(et,"px, ").concat(tt,"px, 0)"):"translate(".concat(et,"px, ").concat(tt,"px)")}}function getTooltipTranslate(_e){var{allowEscapeViewBox:et,coordinate:tt,offsetTopLeft:rt,position:nt,reverseDirection:ot,tooltipBox:st,useTranslate3d:at,viewBox:ct}=_e,lt,dt,ft;return st.height>0&&st.width>0&&tt?(dt=getTooltipTranslateXY({allowEscapeViewBox:et,coordinate:tt,key:"x",offsetTopLeft:rt,position:nt,reverseDirection:ot,tooltipDimension:st.width,viewBox:ct,viewBoxDimension:ct.width}),ft=getTooltipTranslateXY({allowEscapeViewBox:et,coordinate:tt,key:"y",offsetTopLeft:rt,position:nt,reverseDirection:ot,tooltipDimension:st.height,viewBox:ct,viewBoxDimension:ct.height}),lt=getTransformStyle({translateX:dt,translateY:ft,useTranslate3d:at})):lt=TOOLTIP_HIDDEN,{cssProperties:lt,cssClasses:getTooltipCSSClassName({translateX:dt,translateY:ft,coordinate:tt})}}function ownKeys$m(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$m(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$m(Object(tt),!0).forEach(function(rt){_defineProperty$o(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$m(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$o(_e,et,tt){return(et=_toPropertyKey$o(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$o(_e){var et=_toPrimitive$o(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$o(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$o(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$o(this,"handleKeyDown",et=>{if(et.key==="Escape"){var tt,rt,nt,ot;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(tt=(rt=this.props.coordinate)===null||rt===void 0?void 0:rt.x)!==null&&tt!==void 0?tt:0,y:(nt=(ot=this.props.coordinate)===null||ot===void 0?void 0:ot.y)!==null&&nt!==void 0?nt:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var et,tt;this.state.dismissed&&(((et=this.props.coordinate)===null||et===void 0?void 0:et.x)!==this.state.dismissedAtCoordinate.x||((tt=this.props.coordinate)===null||tt===void 0?void 0:tt.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:et,allowEscapeViewBox:tt,animationDuration:rt,animationEasing:nt,children:ot,coordinate:st,hasPayload:at,isAnimationActive:ct,offset:lt,position:dt,reverseDirection:ft,useTranslate3d:ht,viewBox:pt,wrapperStyle:gt,lastBoundingBox:mt,innerRef:vt,hasPortalFromProps:yt}=this.props,{cssClasses:bt,cssProperties:xt}=getTooltipTranslate({allowEscapeViewBox:tt,coordinate:st,offsetTopLeft:lt,position:dt,reverseDirection:ft,tooltipBox:{height:mt.height,width:mt.width},useTranslate3d:ht,viewBox:pt}),wt=yt?{}:_objectSpread$m(_objectSpread$m({transition:ct&&et?"transform ".concat(rt,"ms ").concat(nt):void 0},xt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&et&&at?"visible":"hidden",position:"absolute",top:0,left:0}),At=_objectSpread$m(_objectSpread$m({},wt),{},{visibility:!this.state.dismissed&&et&&at?"visible":"hidden"},gt);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:bt,style:At,ref:vt},ot)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(_e=>_e.rootProps.accessibilityLayer);function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$g.apply(null,arguments)}function ownKeys$l(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$l(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$l(Object(tt),!0).forEach(function(rt){_defineProperty$n(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$l(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$n(_e,et,tt){return(et=_toPropertyKey$n(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$n(_e){var et=_toPrimitive$n(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$n(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=_e=>isWellBehavedNumber(_e.x)&&isWellBehavedNumber(_e.y),getX=_e=>_e.x,getY=_e=>_e.y,getCurveFactory=(_e,et)=>{if(typeof _e=="function")return _e;var tt="curve".concat(upperFirst(_e));return(tt==="curveMonotone"||tt==="curveBump")&&et?CURVE_FACTORIES["".concat(tt).concat(et==="vertical"?"Y":"X")]:CURVE_FACTORIES[tt]||curveLinear},getPath$1=_e=>{var{type:et="linear",points:tt=[],baseLine:rt,layout:nt,connectNulls:ot=!1}=_e,st=getCurveFactory(et,nt),at=ot?tt.filter(defined):tt,ct;if(Array.isArray(rt)){var lt=ot?rt.filter(ft=>defined(ft)):rt,dt=at.map((ft,ht)=>_objectSpread$l(_objectSpread$l({},ft),{},{base:lt[ht]}));return nt==="vertical"?ct=shapeArea().y(getY).x1(getX).x0(ft=>ft.base.x):ct=shapeArea().x(getX).y1(getY).y0(ft=>ft.base.y),ct.defined(defined).curve(st),ct(dt)}return nt==="vertical"&&isNumber(rt)?ct=shapeArea().y(getY).x1(getX).x0(rt):isNumber(rt)?ct=shapeArea().x(getX).y1(getY).y0(rt):ct=shapeLine().x(getX).y(getY),ct.defined(defined).curve(st),ct(at)},Curve=_e=>{var{className:et,points:tt,path:rt,pathRef:nt}=_e;if((!tt||!tt.length)&&!rt)return null;var ot=tt&&tt.length?getPath$1(_e):rt;return reactExports.createElement("path",_extends$g({},svgPropertiesNoEvents(_e),adaptEventHandlers(_e),{className:clsx("recharts-curve",et),d:ot===null?void 0:ot,ref:nt}))},_excluded$d=["x","y","top","left","width","height","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$f.apply(null,arguments)}function ownKeys$k(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$k(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$k(Object(tt),!0).forEach(function(rt){_defineProperty$m(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$k(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$m(_e,et,tt){return(et=_toPropertyKey$m(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$m(_e){var et=_toPrimitive$m(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$m(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$d(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$d(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$d(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var getPath=(_e,et,tt,rt,nt,ot)=>"M".concat(_e,",").concat(nt,"v").concat(rt,"M").concat(ot,",").concat(et,"h").concat(tt),Cross=_e=>{var{x:et=0,y:tt=0,top:rt=0,left:nt=0,width:ot=0,height:st=0,className:at}=_e,ct=_objectWithoutProperties$d(_e,_excluded$d),lt=_objectSpread$k({x:et,y:tt,top:rt,left:nt,width:ot,height:st},ct);return!isNumber(et)||!isNumber(tt)||!isNumber(ot)||!isNumber(st)||!isNumber(rt)||!isNumber(nt)?null:reactExports.createElement("path",_extends$f({},svgPropertiesAndEvents(lt),{className:clsx("recharts-cross",at),d:getPath(et,tt,ot,st,rt,nt)}))};function getCursorRectangle(_e,et,tt,rt){var nt=rt/2;return{stroke:"none",fill:"#ccc",x:_e==="horizontal"?et.x-nt:tt.left+.5,y:_e==="horizontal"?tt.top+.5:et.y-nt,width:_e==="horizontal"?rt:tt.width-1,height:_e==="horizontal"?tt.height-1:rt}}function ownKeys$j(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$j(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$j(Object(tt),!0).forEach(function(rt){_defineProperty$l(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$j(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$l(_e,et,tt){return(et=_toPropertyKey$l(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$l(_e){var et=_toPrimitive$l(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$l(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function resolveDefaultProps(_e,et){var tt=_objectSpread$j({},_e),rt=et,nt=Object.keys(et),ot=nt.reduce((st,at)=>(st[at]===void 0&&rt[at]!==void 0&&(st[at]=rt[at]),st),tt);return ot}function noop$4(){}function isNotNil(_e){return _e!=null}function ownKeys$i(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$i(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$i(Object(tt),!0).forEach(function(rt){_defineProperty$k(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$i(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$k(_e,et,tt){return(et=_toPropertyKey$k(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$k(_e){var et=_toPrimitive$k(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$k(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var getDashCase=_e=>_e.replace(/([A-Z])/g,et=>"-".concat(et.toLowerCase())),getTransitionVal=(_e,et,tt)=>_e.map(rt=>"".concat(getDashCase(rt)," ").concat(et,"ms ").concat(tt)).join(","),getIntersectionKeys=(_e,et)=>[Object.keys(_e),Object.keys(et)].reduce((tt,rt)=>tt.filter(nt=>rt.includes(nt))),mapObject=(_e,et)=>Object.keys(et).reduce((tt,rt)=>_objectSpread$i(_objectSpread$i({},tt),{},{[rt]:_e(rt,et[rt])}),{});function ownKeys$h(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$h(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$h(Object(tt),!0).forEach(function(rt){_defineProperty$j(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$h(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$j(_e,et,tt){return(et=_toPropertyKey$j(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$j(_e){var et=_toPrimitive$j(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$j(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var alpha=(_e,et,tt)=>_e+(et-_e)*tt,needContinue=_e=>{var{from:et,to:tt}=_e;return et!==tt},calStepperVals=(_e,et,tt)=>{var rt=mapObject((nt,ot)=>{if(needContinue(ot)){var[st,at]=_e(ot.from,ot.to,ot.velocity);return _objectSpread$h(_objectSpread$h({},ot),{},{from:st,velocity:at})}return ot},et);return tt<1?mapObject((nt,ot)=>needContinue(ot)?_objectSpread$h(_objectSpread$h({},ot),{},{velocity:alpha(ot.velocity,rt[nt].velocity,tt),from:alpha(ot.from,rt[nt].from,tt)}):ot,et):calStepperVals(_e,rt,tt-1)};function createStepperUpdate(_e,et,tt,rt,nt,ot){var st,at=rt.reduce((ht,pt)=>_objectSpread$h(_objectSpread$h({},ht),{},{[pt]:{from:_e[pt],velocity:0,to:et[pt]}}),{}),ct=()=>mapObject((ht,pt)=>pt.from,at),lt=()=>!Object.values(at).filter(needContinue).length,dt=null,ft=ht=>{st||(st=ht);var pt=ht-st,gt=pt/tt.dt;at=calStepperVals(tt,at,gt),nt(_objectSpread$h(_objectSpread$h(_objectSpread$h({},_e),et),ct())),st=ht,lt()||(dt=ot.setTimeout(ft))};return()=>(dt=ot.setTimeout(ft),()=>{dt()})}function createTimingUpdate(_e,et,tt,rt,nt,ot,st){var at=null,ct=nt.reduce((ft,ht)=>_objectSpread$h(_objectSpread$h({},ft),{},{[ht]:[_e[ht],et[ht]]}),{}),lt,dt=ft=>{lt||(lt=ft);var ht=(ft-lt)/rt,pt=mapObject((mt,vt)=>alpha(...vt,tt(ht)),ct);if(ot(_objectSpread$h(_objectSpread$h(_objectSpread$h({},_e),et),pt)),ht<1)at=st.setTimeout(dt);else{var gt=mapObject((mt,vt)=>alpha(...vt,tt(1)),ct);ot(_objectSpread$h(_objectSpread$h(_objectSpread$h({},_e),et),gt))}};return()=>(at=st.setTimeout(dt),()=>{at()})}const configUpdate=(_e,et,tt,rt,nt,ot)=>{var st=getIntersectionKeys(_e,et);return tt.isStepper===!0?createStepperUpdate(_e,et,tt,st,nt,ot):createTimingUpdate(_e,et,tt,rt,st,nt,ot)};var ACCURACY=1e-4,cubicBezierFactor=(_e,et)=>[0,3*_e,3*et-6*_e,3*_e-3*et+1],evaluatePolynomial=(_e,et)=>_e.map((tt,rt)=>tt*et**rt).reduce((tt,rt)=>tt+rt),cubicBezier=(_e,et)=>tt=>{var rt=cubicBezierFactor(_e,et);return evaluatePolynomial(rt,tt)},derivativeCubicBezier=(_e,et)=>tt=>{var rt=cubicBezierFactor(_e,et),nt=[...rt.map((ot,st)=>ot*st).slice(1),0];return evaluatePolynomial(nt,tt)},configBezier=function(){for(var et,tt,rt,nt,ot=arguments.length,st=new Array(ot),at=0;at<ot;at++)st[at]=arguments[at];if(st.length===1)switch(st[0]){case"linear":[et,rt,tt,nt]=[0,0,1,1];break;case"ease":[et,rt,tt,nt]=[.25,.1,.25,1];break;case"ease-in":[et,rt,tt,nt]=[.42,0,1,1];break;case"ease-out":[et,rt,tt,nt]=[.42,0,.58,1];break;case"ease-in-out":[et,rt,tt,nt]=[0,0,.58,1];break;default:{var ct=st[0].split("(");ct[0]==="cubic-bezier"&&ct[1].split(")")[0].split(",").length===4&&([et,rt,tt,nt]=ct[1].split(")")[0].split(",").map(gt=>parseFloat(gt)))}}else st.length===4&&([et,rt,tt,nt]=st);var lt=cubicBezier(et,tt),dt=cubicBezier(rt,nt),ft=derivativeCubicBezier(et,tt),ht=gt=>gt>1?1:gt<0?0:gt,pt=gt=>{for(var mt=gt>1?1:gt,vt=mt,yt=0;yt<8;++yt){var bt=lt(vt)-mt,xt=ft(vt);if(Math.abs(bt-mt)<ACCURACY||xt<ACCURACY)return dt(vt);vt=ht(vt-bt/xt)}return dt(vt)};return pt.isStepper=!1,pt},configSpring=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:tt=100,damping:rt=8,dt:nt=17}=et,ot=(st,at,ct)=>{var lt=-(st-at)*tt,dt=ct*rt,ft=ct+(lt-dt)*nt/1e3,ht=ct*nt/1e3+st;return Math.abs(ht-at)<ACCURACY&&Math.abs(ft)<ACCURACY?[at,0]:[ht,ft]};return ot.isStepper=!0,ot.dt=nt,ot},configEasing=_e=>{if(typeof _e=="string")switch(_e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(_e);case"spring":return configSpring();default:if(_e.split("(")[0]==="cubic-bezier")return configBezier(_e)}return typeof _e=="function"?_e:null};function createAnimateManager(_e){var et,tt=()=>null,rt=!1,nt=null,ot=st=>{if(!rt){if(Array.isArray(st)){if(!st.length)return;var at=st,[ct,...lt]=at;if(typeof ct=="number"){nt=_e.setTimeout(ot.bind(null,lt),ct);return}ot(ct),nt=_e.setTimeout(ot.bind(null,lt));return}typeof st=="string"&&(et=st,tt(et)),typeof st=="object"&&(et=st,tt(et)),typeof st=="function"&&st()}};return{stop:()=>{rt=!0},start:st=>{rt=!1,nt&&(nt(),nt=null),ot(st)},subscribe:st=>(tt=st,()=>{tt=()=>null}),getTimeoutController:()=>_e}}class RequestAnimationFrameTimeoutController{setTimeout(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rt=performance.now(),nt=null,ot=st=>{st-rt>=tt?et(st):typeof requestAnimationFrame=="function"&&(nt=requestAnimationFrame(ot))};return nt=requestAnimationFrame(ot),()=>{cancelAnimationFrame(nt)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(_e,et){var tt=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>et??tt(_e),[_e,et,tt])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from$7={t:0},to={t:1};function JavascriptAnimate(_e){var et=resolveDefaultProps(_e,defaultJavascriptAnimateProps),{isActive:tt,canBegin:rt,duration:nt,easing:ot,begin:st,onAnimationEnd:at,onAnimationStart:ct,children:lt}=et,dt=useAnimationManager(et.animationId,et.animationManager),[ft,ht]=reactExports.useState(tt?from$7:to),pt=reactExports.useRef(null);return reactExports.useEffect(()=>{tt||ht(to)},[tt]),reactExports.useEffect(()=>{if(!tt||!rt)return noop$4;var gt=configUpdate(from$7,to,configEasing(ot),nt,ht,dt.getTimeoutController()),mt=()=>{pt.current=gt()};return dt.start([ct,st,mt,nt,at]),()=>{dt.stop(),pt.current&&pt.current(),at()}},[tt,rt,nt,ot,st,ct,at,dt]),lt(ft.t)}function useAnimationId(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",tt=reactExports.useRef(uniqueId(et)),rt=reactExports.useRef(_e);return rt.current!==_e&&(tt.current=uniqueId(et),rt.current=_e),tt.current}var _excluded$c=["radius"],_excluded2$7=["radius"];function ownKeys$g(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$g(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$g(Object(tt),!0).forEach(function(rt){_defineProperty$i(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$g(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$i(_e,et,tt){return(et=_toPropertyKey$i(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$i(_e){var et=_toPrimitive$i(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$i(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$e.apply(null,arguments)}function _objectWithoutProperties$c(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$c(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$c(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var getRectanglePath=(_e,et,tt,rt,nt)=>{var ot=Math.min(Math.abs(tt)/2,Math.abs(rt)/2),st=rt>=0?1:-1,at=tt>=0?1:-1,ct=rt>=0&&tt>=0||rt<0&&tt<0?1:0,lt;if(ot>0&&nt instanceof Array){for(var dt=[0,0,0,0],ft=0,ht=4;ft<ht;ft++)dt[ft]=nt[ft]>ot?ot:nt[ft];lt="M".concat(_e,",").concat(et+st*dt[0]),dt[0]>0&&(lt+="A ".concat(dt[0],",").concat(dt[0],",0,0,").concat(ct,",").concat(_e+at*dt[0],",").concat(et)),lt+="L ".concat(_e+tt-at*dt[1],",").concat(et),dt[1]>0&&(lt+="A ".concat(dt[1],",").concat(dt[1],",0,0,").concat(ct,`,
        `).concat(_e+tt,",").concat(et+st*dt[1])),lt+="L ".concat(_e+tt,",").concat(et+rt-st*dt[2]),dt[2]>0&&(lt+="A ".concat(dt[2],",").concat(dt[2],",0,0,").concat(ct,`,
        `).concat(_e+tt-at*dt[2],",").concat(et+rt)),lt+="L ".concat(_e+at*dt[3],",").concat(et+rt),dt[3]>0&&(lt+="A ".concat(dt[3],",").concat(dt[3],",0,0,").concat(ct,`,
        `).concat(_e,",").concat(et+rt-st*dt[3])),lt+="Z"}else if(ot>0&&nt===+nt&&nt>0){var pt=Math.min(ot,nt);lt="M ".concat(_e,",").concat(et+st*pt,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(ct,",").concat(_e+at*pt,",").concat(et,`
            L `).concat(_e+tt-at*pt,",").concat(et,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(ct,",").concat(_e+tt,",").concat(et+st*pt,`
            L `).concat(_e+tt,",").concat(et+rt-st*pt,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(ct,",").concat(_e+tt-at*pt,",").concat(et+rt,`
            L `).concat(_e+at*pt,",").concat(et+rt,`
            A `).concat(pt,",").concat(pt,",0,0,").concat(ct,",").concat(_e,",").concat(et+rt-st*pt," Z")}else lt="M ".concat(_e,",").concat(et," h ").concat(tt," v ").concat(rt," h ").concat(-tt," Z");return lt},defaultProps$3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=_e=>{var et=resolveDefaultProps(_e,defaultProps$3),tt=reactExports.useRef(null),[rt,nt]=reactExports.useState(-1);reactExports.useEffect(()=>{if(tt.current&&tt.current.getTotalLength)try{var Vt=tt.current.getTotalLength();Vt&&nt(Vt)}catch{}},[]);var{x:ot,y:st,width:at,height:ct,radius:lt,className:dt}=et,{animationEasing:ft,animationDuration:ht,animationBegin:pt,isAnimationActive:gt,isUpdateAnimationActive:mt}=et,vt=reactExports.useRef(at),yt=reactExports.useRef(ct),bt=reactExports.useRef(ot),xt=reactExports.useRef(st),wt=reactExports.useMemo(()=>({x:ot,y:st,width:at,height:ct,radius:lt}),[ot,st,at,ct,lt]),At=useAnimationId(wt,"rectangle-");if(ot!==+ot||st!==+st||at!==+at||ct!==+ct||at===0||ct===0)return null;var St=clsx("recharts-rectangle",dt);if(!mt){var $t=svgPropertiesAndEvents(et),{radius:kt}=$t,Ct=_objectWithoutProperties$c($t,_excluded$c);return reactExports.createElement("path",_extends$e({},Ct,{radius:typeof lt=="number"?lt:void 0,className:St,d:getRectanglePath(ot,st,at,ct,lt)}))}var _t=vt.current,Tt=yt.current,jt=bt.current,Bt=xt.current,Gt="0px ".concat(rt===-1?1:rt,"px"),Rt="".concat(rt,"px 0px"),Wt=getTransitionVal(["strokeDasharray"],ht,typeof ft=="string"?ft:void 0);return reactExports.createElement(JavascriptAnimate,{animationId:At,key:At,canBegin:rt>0,duration:ht,easing:ft,isActive:mt,begin:pt},Vt=>{var Lt=interpolate$1(_t,at,Vt),Ht=interpolate$1(Tt,ct,Vt),Kt=interpolate$1(jt,ot,Vt),Qt=interpolate$1(Bt,st,Vt);tt.current&&(vt.current=Lt,yt.current=Ht,bt.current=Kt,xt.current=Qt);var Yt;gt?Vt>0?Yt={transition:Wt,strokeDasharray:Rt}:Yt={strokeDasharray:Gt}:Yt={strokeDasharray:Rt};var ar=svgPropertiesAndEvents(et),{radius:sr}=ar,tr=_objectWithoutProperties$c(ar,_excluded2$7);return reactExports.createElement("path",_extends$e({},tr,{radius:typeof lt=="number"?lt:void 0,className:St,d:getRectanglePath(Kt,Qt,Lt,Ht,lt),ref:tt,style:_objectSpread$g(_objectSpread$g({},Yt),et.style)}))})};function getRadialCursorPoints(_e){var{cx:et,cy:tt,radius:rt,startAngle:nt,endAngle:ot}=_e,st=polarToCartesian(et,tt,rt,nt),at=polarToCartesian(et,tt,rt,ot);return{points:[st,at],cx:et,cy:tt,radius:rt,startAngle:nt,endAngle:ot}}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$d.apply(null,arguments)}var getDeltaAngle$1=(_e,et)=>{var tt=mathSign(et-_e),rt=Math.min(Math.abs(et-_e),359.999);return tt*rt},getTangentCircle=_e=>{var{cx:et,cy:tt,radius:rt,angle:nt,sign:ot,isExternal:st,cornerRadius:at,cornerIsExternal:ct}=_e,lt=at*(st?1:-1)+rt,dt=Math.asin(at/lt)/RADIAN,ft=ct?nt:nt+ot*dt,ht=polarToCartesian(et,tt,lt,ft),pt=polarToCartesian(et,tt,rt,ft),gt=ct?nt-ot*dt:nt,mt=polarToCartesian(et,tt,lt*Math.cos(dt*RADIAN),gt);return{center:ht,circleTangency:pt,lineTangency:mt,theta:dt}},getSectorPath=_e=>{var{cx:et,cy:tt,innerRadius:rt,outerRadius:nt,startAngle:ot,endAngle:st}=_e,at=getDeltaAngle$1(ot,st),ct=ot+at,lt=polarToCartesian(et,tt,nt,ot),dt=polarToCartesian(et,tt,nt,ct),ft="M ".concat(lt.x,",").concat(lt.y,`
    A `).concat(nt,",").concat(nt,`,0,
    `).concat(+(Math.abs(at)>180),",").concat(+(ot>ct),`,
    `).concat(dt.x,",").concat(dt.y,`
  `);if(rt>0){var ht=polarToCartesian(et,tt,rt,ot),pt=polarToCartesian(et,tt,rt,ct);ft+="L ".concat(pt.x,",").concat(pt.y,`
            A `).concat(rt,",").concat(rt,`,0,
            `).concat(+(Math.abs(at)>180),",").concat(+(ot<=ct),`,
            `).concat(ht.x,",").concat(ht.y," Z")}else ft+="L ".concat(et,",").concat(tt," Z");return ft},getSectorWithCorner=_e=>{var{cx:et,cy:tt,innerRadius:rt,outerRadius:nt,cornerRadius:ot,forceCornerRadius:st,cornerIsExternal:at,startAngle:ct,endAngle:lt}=_e,dt=mathSign(lt-ct),{circleTangency:ft,lineTangency:ht,theta:pt}=getTangentCircle({cx:et,cy:tt,radius:nt,angle:ct,sign:dt,cornerRadius:ot,cornerIsExternal:at}),{circleTangency:gt,lineTangency:mt,theta:vt}=getTangentCircle({cx:et,cy:tt,radius:nt,angle:lt,sign:-dt,cornerRadius:ot,cornerIsExternal:at}),yt=at?Math.abs(ct-lt):Math.abs(ct-lt)-pt-vt;if(yt<0)return st?"M ".concat(ht.x,",").concat(ht.y,`
        a`).concat(ot,",").concat(ot,",0,0,1,").concat(ot*2,`,0
        a`).concat(ot,",").concat(ot,",0,0,1,").concat(-ot*2,`,0
      `):getSectorPath({cx:et,cy:tt,innerRadius:rt,outerRadius:nt,startAngle:ct,endAngle:lt});var bt="M ".concat(ht.x,",").concat(ht.y,`
    A`).concat(ot,",").concat(ot,",0,0,").concat(+(dt<0),",").concat(ft.x,",").concat(ft.y,`
    A`).concat(nt,",").concat(nt,",0,").concat(+(yt>180),",").concat(+(dt<0),",").concat(gt.x,",").concat(gt.y,`
    A`).concat(ot,",").concat(ot,",0,0,").concat(+(dt<0),",").concat(mt.x,",").concat(mt.y,`
  `);if(rt>0){var{circleTangency:xt,lineTangency:wt,theta:At}=getTangentCircle({cx:et,cy:tt,radius:rt,angle:ct,sign:dt,isExternal:!0,cornerRadius:ot,cornerIsExternal:at}),{circleTangency:St,lineTangency:$t,theta:kt}=getTangentCircle({cx:et,cy:tt,radius:rt,angle:lt,sign:-dt,isExternal:!0,cornerRadius:ot,cornerIsExternal:at}),Ct=at?Math.abs(ct-lt):Math.abs(ct-lt)-At-kt;if(Ct<0&&ot===0)return"".concat(bt,"L").concat(et,",").concat(tt,"Z");bt+="L".concat($t.x,",").concat($t.y,`
      A`).concat(ot,",").concat(ot,",0,0,").concat(+(dt<0),",").concat(St.x,",").concat(St.y,`
      A`).concat(rt,",").concat(rt,",0,").concat(+(Ct>180),",").concat(+(dt>0),",").concat(xt.x,",").concat(xt.y,`
      A`).concat(ot,",").concat(ot,",0,0,").concat(+(dt<0),",").concat(wt.x,",").concat(wt.y,"Z")}else bt+="L".concat(et,",").concat(tt,"Z");return bt},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=_e=>{var et=resolveDefaultProps(_e,defaultProps$2),{cx:tt,cy:rt,innerRadius:nt,outerRadius:ot,cornerRadius:st,forceCornerRadius:at,cornerIsExternal:ct,startAngle:lt,endAngle:dt,className:ft}=et;if(ot<nt||lt===dt)return null;var ht=clsx("recharts-sector",ft),pt=ot-nt,gt=getPercentValue(st,pt,0,!0),mt;return gt>0&&Math.abs(lt-dt)<360?mt=getSectorWithCorner({cx:tt,cy:rt,innerRadius:nt,outerRadius:ot,cornerRadius:Math.min(gt,pt/2),forceCornerRadius:at,cornerIsExternal:ct,startAngle:lt,endAngle:dt}):mt=getSectorPath({cx:tt,cy:rt,innerRadius:nt,outerRadius:ot,startAngle:lt,endAngle:dt}),reactExports.createElement("path",_extends$d({},svgPropertiesAndEvents(et),{className:ht,d:mt}))};function getCursorPoints(_e,et,tt){var rt,nt,ot,st;if(_e==="horizontal")rt=et.x,ot=rt,nt=tt.top,st=tt.top+tt.height;else if(_e==="vertical")nt=et.y,st=nt,rt=tt.left,ot=tt.left+tt.width;else if(et.cx!=null&&et.cy!=null)if(_e==="centric"){var{cx:at,cy:ct,innerRadius:lt,outerRadius:dt,angle:ft}=et,ht=polarToCartesian(at,ct,lt,ft),pt=polarToCartesian(at,ct,dt,ft);rt=ht.x,nt=ht.y,ot=pt.x,st=pt.y}else return getRadialCursorPoints(et);return[{x:rt,y:nt},{x:ot,y:st}]}var range$4={},toFinite={},toNumber={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isSymbol;function tt(rt){return et.isSymbol(rt)?NaN:Number(rt)}_e.toNumber=tt})(toNumber);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=toNumber;function tt(rt){return rt?(rt=et.toNumber(rt),rt===1/0||rt===-1/0?(rt<0?-1:1)*Number.MAX_VALUE:rt===rt?rt:0):rt===0?rt:0}_e.toFinite=tt})(toFinite);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=isIterateeCall,tt=toFinite;function rt(nt,ot,st){st&&typeof st!="number"&&et.isIterateeCall(nt,ot,st)&&(ot=st=void 0),nt=tt.toFinite(nt),ot===void 0?(ot=nt,nt=0):ot=tt.toFinite(ot),st=st===void 0?nt<ot?1:-1:tt.toFinite(st);const at=Math.max(Math.ceil((ot-nt)/(st||1)),0),ct=new Array(at);for(let lt=0;lt<at;lt++)ct[lt]=nt,nt+=st;return ct}_e.range=rt})(range$4);var range$2=range$4.range;const range$3=getDefaultExportFromCjs(range$2);function ascending(_e,et){return _e==null||et==null?NaN:_e<et?-1:_e>et?1:_e>=et?0:NaN}function descending(_e,et){return _e==null||et==null?NaN:et<_e?-1:et>_e?1:et>=_e?0:NaN}function bisector(_e){let et,tt,rt;_e.length!==2?(et=ascending,tt=(at,ct)=>ascending(_e(at),ct),rt=(at,ct)=>_e(at)-ct):(et=_e===ascending||_e===descending?_e:zero$1,tt=_e,rt=_e);function nt(at,ct,lt=0,dt=at.length){if(lt<dt){if(et(ct,ct)!==0)return dt;do{const ft=lt+dt>>>1;tt(at[ft],ct)<0?lt=ft+1:dt=ft}while(lt<dt)}return lt}function ot(at,ct,lt=0,dt=at.length){if(lt<dt){if(et(ct,ct)!==0)return dt;do{const ft=lt+dt>>>1;tt(at[ft],ct)<=0?lt=ft+1:dt=ft}while(lt<dt)}return lt}function st(at,ct,lt=0,dt=at.length){const ft=nt(at,ct,lt,dt-1);return ft>lt&&rt(at[ft-1],ct)>-rt(at[ft],ct)?ft-1:ft}return{left:nt,center:st,right:ot}}function zero$1(){return 0}function number$3(_e){return _e===null?NaN:+_e}function*numbers(_e,et){for(let tt of _e)tt!=null&&(tt=+tt)>=tt&&(yield tt)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$3).center;class InternMap extends Map{constructor(et,tt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:tt}}),et!=null)for(const[rt,nt]of et)this.set(rt,nt)}get(et){return super.get(intern_get(this,et))}has(et){return super.has(intern_get(this,et))}set(et,tt){return super.set(intern_set(this,et),tt)}delete(et){return super.delete(intern_delete(this,et))}}function intern_get({_intern:_e,_key:et},tt){const rt=et(tt);return _e.has(rt)?_e.get(rt):tt}function intern_set({_intern:_e,_key:et},tt){const rt=et(tt);return _e.has(rt)?_e.get(rt):(_e.set(rt,tt),tt)}function intern_delete({_intern:_e,_key:et},tt){const rt=et(tt);return _e.has(rt)&&(tt=_e.get(rt),_e.delete(rt)),tt}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}function compareDefined(_e=ascending){if(_e===ascending)return ascendingDefined;if(typeof _e!="function")throw new TypeError("compare is not a function");return(et,tt)=>{const rt=_e(et,tt);return rt||rt===0?rt:(_e(tt,tt)===0)-(_e(et,et)===0)}}function ascendingDefined(_e,et){return(_e==null||!(_e>=_e))-(et==null||!(et>=et))||(_e<et?-1:_e>et?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,et,tt){const rt=(et-_e)/Math.max(0,tt),nt=Math.floor(Math.log10(rt)),ot=rt/Math.pow(10,nt),st=ot>=e10?10:ot>=e5?5:ot>=e2?2:1;let at,ct,lt;return nt<0?(lt=Math.pow(10,-nt)/st,at=Math.round(_e*lt),ct=Math.round(et*lt),at/lt<_e&&++at,ct/lt>et&&--ct,lt=-lt):(lt=Math.pow(10,nt)*st,at=Math.round(_e/lt),ct=Math.round(et/lt),at*lt<_e&&++at,ct*lt>et&&--ct),ct<at&&.5<=tt&&tt<2?tickSpec(_e,et,tt*2):[at,ct,lt]}function ticks(_e,et,tt){if(et=+et,_e=+_e,tt=+tt,!(tt>0))return[];if(_e===et)return[_e];const rt=et<_e,[nt,ot,st]=rt?tickSpec(et,_e,tt):tickSpec(_e,et,tt);if(!(ot>=nt))return[];const at=ot-nt+1,ct=new Array(at);if(rt)if(st<0)for(let lt=0;lt<at;++lt)ct[lt]=(ot-lt)/-st;else for(let lt=0;lt<at;++lt)ct[lt]=(ot-lt)*st;else if(st<0)for(let lt=0;lt<at;++lt)ct[lt]=(nt+lt)/-st;else for(let lt=0;lt<at;++lt)ct[lt]=(nt+lt)*st;return ct}function tickIncrement(_e,et,tt){return et=+et,_e=+_e,tt=+tt,tickSpec(_e,et,tt)[2]}function tickStep(_e,et,tt){et=+et,_e=+_e,tt=+tt;const rt=et<_e,nt=rt?tickIncrement(et,_e,tt):tickIncrement(_e,et,tt);return(rt?-1:1)*(nt<0?1/-nt:nt)}function max(_e,et){let tt;for(const rt of _e)rt!=null&&(tt<rt||tt===void 0&&rt>=rt)&&(tt=rt);return tt}function min(_e,et){let tt;for(const rt of _e)rt!=null&&(tt>rt||tt===void 0&&rt>=rt)&&(tt=rt);return tt}function quickselect(_e,et,tt=0,rt=1/0,nt){if(et=Math.floor(et),tt=Math.floor(Math.max(0,tt)),rt=Math.floor(Math.min(_e.length-1,rt)),!(tt<=et&&et<=rt))return _e;for(nt=nt===void 0?ascendingDefined:compareDefined(nt);rt>tt;){if(rt-tt>600){const ct=rt-tt+1,lt=et-tt+1,dt=Math.log(ct),ft=.5*Math.exp(2*dt/3),ht=.5*Math.sqrt(dt*ft*(ct-ft)/ct)*(lt-ct/2<0?-1:1),pt=Math.max(tt,Math.floor(et-lt*ft/ct+ht)),gt=Math.min(rt,Math.floor(et+(ct-lt)*ft/ct+ht));quickselect(_e,et,pt,gt,nt)}const ot=_e[et];let st=tt,at=rt;for(swap(_e,tt,et),nt(_e[rt],ot)>0&&swap(_e,tt,rt);st<at;){for(swap(_e,st,at),++st,--at;nt(_e[st],ot)<0;)++st;for(;nt(_e[at],ot)>0;)--at}nt(_e[tt],ot)===0?swap(_e,tt,at):(++at,swap(_e,at,rt)),at<=et&&(tt=at+1),et<=at&&(rt=at-1)}return _e}function swap(_e,et,tt){const rt=_e[et];_e[et]=_e[tt],_e[tt]=rt}function quantile$1(_e,et,tt){if(_e=Float64Array.from(numbers(_e)),!(!(rt=_e.length)||isNaN(et=+et))){if(et<=0||rt<2)return min(_e);if(et>=1)return max(_e);var rt,nt=(rt-1)*et,ot=Math.floor(nt),st=max(quickselect(_e,ot).subarray(0,ot+1)),at=min(_e.subarray(ot+1));return st+(at-st)*(nt-ot)}}function quantileSorted(_e,et,tt=number$3){if(!(!(rt=_e.length)||isNaN(et=+et))){if(et<=0||rt<2)return+tt(_e[0],0,_e);if(et>=1)return+tt(_e[rt-1],rt-1,_e);var rt,nt=(rt-1)*et,ot=Math.floor(nt),st=+tt(_e[ot],ot,_e),at=+tt(_e[ot+1],ot+1,_e);return st+(at-st)*(nt-ot)}}function range$1(_e,et,tt){_e=+_e,et=+et,tt=(nt=arguments.length)<2?(et=_e,_e=0,1):nt<3?1:+tt;for(var rt=-1,nt=Math.max(0,Math.ceil((et-_e)/tt))|0,ot=new Array(nt);++rt<nt;)ot[rt]=_e+rt*tt;return ot}function initRange(_e,et){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range(et).domain(_e);break}return this}function initInterpolator(_e,et){switch(arguments.length){case 0:break;case 1:{typeof _e=="function"?this.interpolator(_e):this.range(_e);break}default:{this.domain(_e),typeof et=="function"?this.interpolator(et):this.range(et);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,et=[],tt=[],rt=implicit;function nt(ot){let st=_e.get(ot);if(st===void 0){if(rt!==implicit)return rt;_e.set(ot,st=et.push(ot)-1)}return tt[st%tt.length]}return nt.domain=function(ot){if(!arguments.length)return et.slice();et=[],_e=new InternMap;for(const st of ot)_e.has(st)||_e.set(st,et.push(st)-1);return nt},nt.range=function(ot){return arguments.length?(tt=Array.from(ot),nt):tt.slice()},nt.unknown=function(ot){return arguments.length?(rt=ot,nt):rt},nt.copy=function(){return ordinal(et,tt).unknown(rt)},initRange.apply(nt,arguments),nt}function band(){var _e=ordinal().unknown(void 0),et=_e.domain,tt=_e.range,rt=0,nt=1,ot,st,at=!1,ct=0,lt=0,dt=.5;delete _e.unknown;function ft(){var ht=et().length,pt=nt<rt,gt=pt?nt:rt,mt=pt?rt:nt;ot=(mt-gt)/Math.max(1,ht-ct+lt*2),at&&(ot=Math.floor(ot)),gt+=(mt-gt-ot*(ht-ct))*dt,st=ot*(1-ct),at&&(gt=Math.round(gt),st=Math.round(st));var vt=range$1(ht).map(function(yt){return gt+ot*yt});return tt(pt?vt.reverse():vt)}return _e.domain=function(ht){return arguments.length?(et(ht),ft()):et()},_e.range=function(ht){return arguments.length?([rt,nt]=ht,rt=+rt,nt=+nt,ft()):[rt,nt]},_e.rangeRound=function(ht){return[rt,nt]=ht,rt=+rt,nt=+nt,at=!0,ft()},_e.bandwidth=function(){return st},_e.step=function(){return ot},_e.round=function(ht){return arguments.length?(at=!!ht,ft()):at},_e.padding=function(ht){return arguments.length?(ct=Math.min(1,lt=+ht),ft()):ct},_e.paddingInner=function(ht){return arguments.length?(ct=Math.min(1,ht),ft()):ct},_e.paddingOuter=function(ht){return arguments.length?(lt=+ht,ft()):lt},_e.align=function(ht){return arguments.length?(dt=Math.max(0,Math.min(1,ht)),ft()):dt},_e.copy=function(){return band(et(),[rt,nt]).round(at).paddingInner(ct).paddingOuter(lt).align(dt)},initRange.apply(ft(),arguments)}function pointish(_e){var et=_e.copy;return _e.padding=_e.paddingOuter,delete _e.paddingInner,delete _e.paddingOuter,_e.copy=function(){return pointish(et())},_e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(_e,et,tt){_e.prototype=et.prototype=tt,tt.constructor=_e}function extend(_e,et){var tt=Object.create(_e.prototype);for(var rt in et)tt[rt]=et[rt];return tt}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var et,tt;return _e=(_e+"").trim().toLowerCase(),(et=reHex.exec(_e))?(tt=et[1].length,et=parseInt(et[1],16),tt===6?rgbn(et):tt===3?new Rgb(et>>8&15|et>>4&240,et>>4&15|et&240,(et&15)<<4|et&15,1):tt===8?rgba(et>>24&255,et>>16&255,et>>8&255,(et&255)/255):tt===4?rgba(et>>12&15|et>>8&240,et>>8&15|et>>4&240,et>>4&15|et&240,((et&15)<<4|et&15)/255):null):(et=reRgbInteger.exec(_e))?new Rgb(et[1],et[2],et[3],1):(et=reRgbPercent.exec(_e))?new Rgb(et[1]*255/100,et[2]*255/100,et[3]*255/100,1):(et=reRgbaInteger.exec(_e))?rgba(et[1],et[2],et[3],et[4]):(et=reRgbaPercent.exec(_e))?rgba(et[1]*255/100,et[2]*255/100,et[3]*255/100,et[4]):(et=reHslPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,1):(et=reHslaPercent.exec(_e))?hsla(et[1],et[2]/100,et[3]/100,et[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,et,tt,rt){return rt<=0&&(_e=et=tt=NaN),new Rgb(_e,et,tt,rt)}function rgbConvert(_e){return _e instanceof Color||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,et,tt,rt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,et,tt,rt??1)}function Rgb(_e,et,tt,rt){this.r=+_e,this.g=+et,this.b=+tt,this.opacity=+rt}define(Rgb,rgb$1,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,et,tt,rt){return rt<=0?_e=et=tt=NaN:tt<=0||tt>=1?_e=et=NaN:et<=0&&(_e=NaN),new Hsl(_e,et,tt,rt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var et=_e.r/255,tt=_e.g/255,rt=_e.b/255,nt=Math.min(et,tt,rt),ot=Math.max(et,tt,rt),st=NaN,at=ot-nt,ct=(ot+nt)/2;return at?(et===ot?st=(tt-rt)/at+(tt<rt)*6:tt===ot?st=(rt-et)/at+2:st=(et-tt)/at+4,at/=ct<.5?ot+nt:2-ot-nt,st*=60):at=ct>0&&ct<1?0:st,new Hsl(st,at,ct,_e.opacity)}function hsl(_e,et,tt,rt){return arguments.length===1?hslConvert(_e):new Hsl(_e,et,tt,rt??1)}function Hsl(_e,et,tt,rt){this.h=+_e,this.s=+et,this.l=+tt,this.opacity=+rt}define(Hsl,hsl,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,et=isNaN(_e)||isNaN(this.s)?0:this.s,tt=this.l,rt=tt+(tt<.5?tt:1-tt)*et,nt=2*tt-rt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,nt,rt),hsl2rgb(_e,nt,rt),hsl2rgb(_e<120?_e+240:_e-120,nt,rt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,et,tt){return(_e<60?et+(tt-et)*_e/60:_e<180?tt:_e<240?et+(tt-et)*(240-_e)/60:et)*255}const constant=_e=>()=>_e;function linear$1(_e,et){return function(tt){return _e+tt*et}}function exponential(_e,et,tt){return _e=Math.pow(_e,tt),et=Math.pow(et,tt)-_e,tt=1/tt,function(rt){return Math.pow(_e+rt*et,tt)}}function gamma(_e){return(_e=+_e)==1?nogamma:function(et,tt){return tt-et?exponential(et,tt,_e):constant(isNaN(et)?tt:et)}}function nogamma(_e,et){var tt=et-_e;return tt?linear$1(_e,tt):constant(isNaN(_e)?et:_e)}const rgb=function _e(et){var tt=gamma(et);function rt(nt,ot){var st=tt((nt=rgb$1(nt)).r,(ot=rgb$1(ot)).r),at=tt(nt.g,ot.g),ct=tt(nt.b,ot.b),lt=nogamma(nt.opacity,ot.opacity);return function(dt){return nt.r=st(dt),nt.g=at(dt),nt.b=ct(dt),nt.opacity=lt(dt),nt+""}}return rt.gamma=_e,rt}(1);function numberArray(_e,et){et||(et=[]);var tt=_e?Math.min(et.length,_e.length):0,rt=et.slice(),nt;return function(ot){for(nt=0;nt<tt;++nt)rt[nt]=_e[nt]*(1-ot)+et[nt]*ot;return rt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,et){var tt=et?et.length:0,rt=_e?Math.min(tt,_e.length):0,nt=new Array(rt),ot=new Array(tt),st;for(st=0;st<rt;++st)nt[st]=interpolate(_e[st],et[st]);for(;st<tt;++st)ot[st]=et[st];return function(at){for(st=0;st<rt;++st)ot[st]=nt[st](at);return ot}}function date$1(_e,et){var tt=new Date;return _e=+_e,et=+et,function(rt){return tt.setTime(_e*(1-rt)+et*rt),tt}}function interpolateNumber(_e,et){return _e=+_e,et=+et,function(tt){return _e*(1-tt)+et*tt}}function object(_e,et){var tt={},rt={},nt;(_e===null||typeof _e!="object")&&(_e={}),(et===null||typeof et!="object")&&(et={});for(nt in et)nt in _e?tt[nt]=interpolate(_e[nt],et[nt]):rt[nt]=et[nt];return function(ot){for(nt in tt)rt[nt]=tt[nt](ot);return rt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function(et){return _e(et)+""}}function string$1(_e,et){var tt=reA.lastIndex=reB.lastIndex=0,rt,nt,ot,st=-1,at=[],ct=[];for(_e=_e+"",et=et+"";(rt=reA.exec(_e))&&(nt=reB.exec(et));)(ot=nt.index)>tt&&(ot=et.slice(tt,ot),at[st]?at[st]+=ot:at[++st]=ot),(rt=rt[0])===(nt=nt[0])?at[st]?at[st]+=nt:at[++st]=nt:(at[++st]=null,ct.push({i:st,x:interpolateNumber(rt,nt)})),tt=reB.lastIndex;return tt<et.length&&(ot=et.slice(tt),at[st]?at[st]+=ot:at[++st]=ot),at.length<2?ct[0]?one(ct[0].x):zero(et):(et=ct.length,function(lt){for(var dt=0,ft;dt<et;++dt)at[(ft=ct[dt]).i]=ft.x(lt);return at.join("")})}function interpolate(_e,et){var tt=typeof et,rt;return et==null||tt==="boolean"?constant(et):(tt==="number"?interpolateNumber:tt==="string"?(rt=color(et))?(et=rt,rgb):string$1:et instanceof color?rgb:et instanceof Date?date$1:isNumberArray(et)?numberArray:Array.isArray(et)?genericArray:typeof et.valueOf!="function"&&typeof et.toString!="function"||isNaN(et)?object:interpolateNumber)(_e,et)}function interpolateRound(_e,et){return _e=+_e,et=+et,function(tt){return Math.round(_e*(1-tt)+et*tt)}}function piecewise(_e,et){et===void 0&&(et=_e,_e=interpolate);for(var tt=0,rt=et.length-1,nt=et[0],ot=new Array(rt<0?0:rt);tt<rt;)ot[tt]=_e(nt,nt=et[++tt]);return function(st){var at=Math.max(0,Math.min(rt-1,Math.floor(st*=rt)));return ot[at](st-at)}}function constants(_e){return function(){return _e}}function number$2(_e){return+_e}var unit=[0,1];function identity$4(_e){return _e}function normalize(_e,et){return(et-=_e=+_e)?function(tt){return(tt-_e)/et}:constants(isNaN(et)?NaN:.5)}function clamper(_e,et){var tt;return _e>et&&(tt=_e,_e=et,et=tt),function(rt){return Math.max(_e,Math.min(et,rt))}}function bimap(_e,et,tt){var rt=_e[0],nt=_e[1],ot=et[0],st=et[1];return nt<rt?(rt=normalize(nt,rt),ot=tt(st,ot)):(rt=normalize(rt,nt),ot=tt(ot,st)),function(at){return ot(rt(at))}}function polymap(_e,et,tt){var rt=Math.min(_e.length,et.length)-1,nt=new Array(rt),ot=new Array(rt),st=-1;for(_e[rt]<_e[0]&&(_e=_e.slice().reverse(),et=et.slice().reverse());++st<rt;)nt[st]=normalize(_e[st],_e[st+1]),ot[st]=tt(et[st],et[st+1]);return function(at){var ct=bisectRight(_e,at,1,rt)-1;return ot[ct](nt[ct](at))}}function copy$1(_e,et){return et.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer$2(){var _e=unit,et=unit,tt=interpolate,rt,nt,ot,st=identity$4,at,ct,lt;function dt(){var ht=Math.min(_e.length,et.length);return st!==identity$4&&(st=clamper(_e[0],_e[ht-1])),at=ht>2?polymap:bimap,ct=lt=null,ft}function ft(ht){return ht==null||isNaN(ht=+ht)?ot:(ct||(ct=at(_e.map(rt),et,tt)))(rt(st(ht)))}return ft.invert=function(ht){return st(nt((lt||(lt=at(et,_e.map(rt),interpolateNumber)))(ht)))},ft.domain=function(ht){return arguments.length?(_e=Array.from(ht,number$2),dt()):_e.slice()},ft.range=function(ht){return arguments.length?(et=Array.from(ht),dt()):et.slice()},ft.rangeRound=function(ht){return et=Array.from(ht),tt=interpolateRound,dt()},ft.clamp=function(ht){return arguments.length?(st=ht?!0:identity$4,dt()):st!==identity$4},ft.interpolate=function(ht){return arguments.length?(tt=ht,dt()):tt},ft.unknown=function(ht){return arguments.length?(ot=ht,ft):ot},function(ht,pt){return rt=ht,nt=pt,dt()}}function continuous(){return transformer$2()(identity$4,identity$4)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,et){if((tt=(_e=et?_e.toExponential(et-1):_e.toExponential()).indexOf("e"))<0)return null;var tt,rt=_e.slice(0,tt);return[rt.length>1?rt[0]+rt.slice(2):rt,+_e.slice(tt+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,et){return function(tt,rt){for(var nt=tt.length,ot=[],st=0,at=_e[0],ct=0;nt>0&&at>0&&(ct+at+1>rt&&(at=Math.max(1,rt-ct)),ot.push(tt.substring(nt-=at,nt+at)),!((ct+=at+1)>rt));)at=_e[st=(st+1)%_e.length];return ot.reverse().join(et)}}function formatNumerals(_e){return function(et){return et.replace(/[0-9]/g,function(tt){return _e[+tt]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!(et=re.exec(_e)))throw new Error("invalid format: "+_e);var et;return new FormatSpecifier({fill:et[1],align:et[2],sign:et[3],symbol:et[4],zero:et[5],width:et[6],comma:et[7],precision:et[8]&&et[8].slice(1),trim:et[9],type:et[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var et=_e.length,tt=1,rt=-1,nt;tt<et;++tt)switch(_e[tt]){case".":rt=nt=tt;break;case"0":rt===0&&(rt=tt),nt=tt;break;default:if(!+_e[tt])break e;rt>0&&(rt=0);break}return rt>0?_e.slice(0,rt)+_e.slice(nt+1):_e}var prefixExponent;function formatPrefixAuto(_e,et){var tt=formatDecimalParts(_e,et);if(!tt)return _e+"";var rt=tt[0],nt=tt[1],ot=nt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(nt/3)))*3)+1,st=rt.length;return ot===st?rt:ot>st?rt+new Array(ot-st+1).join("0"):ot>0?rt.slice(0,ot)+"."+rt.slice(ot):"0."+new Array(1-ot).join("0")+formatDecimalParts(_e,Math.max(0,et+ot-1))[0]}function formatRounded(_e,et){var tt=formatDecimalParts(_e,et);if(!tt)return _e+"";var rt=tt[0],nt=tt[1];return nt<0?"0."+new Array(-nt).join("0")+rt:rt.length>nt+1?rt.slice(0,nt+1)+"."+rt.slice(nt+1):rt+new Array(nt-rt.length+2).join("0")}const formatTypes={"%":(_e,et)=>(_e*100).toFixed(et),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,et)=>_e.toExponential(et),f:(_e,et)=>_e.toFixed(et),g:(_e,et)=>_e.toPrecision(et),o:_e=>Math.round(_e).toString(8),p:(_e,et)=>formatRounded(_e*100,et),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity$3(_e){return _e}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var et=_e.grouping===void 0||_e.thousands===void 0?identity$3:formatGroup(map$1.call(_e.grouping,Number),_e.thousands+""),tt=_e.currency===void 0?"":_e.currency[0]+"",rt=_e.currency===void 0?"":_e.currency[1]+"",nt=_e.decimal===void 0?".":_e.decimal+"",ot=_e.numerals===void 0?identity$3:formatNumerals(map$1.call(_e.numerals,String)),st=_e.percent===void 0?"%":_e.percent+"",at=_e.minus===void 0?"−":_e.minus+"",ct=_e.nan===void 0?"NaN":_e.nan+"";function lt(ft){ft=formatSpecifier(ft);var ht=ft.fill,pt=ft.align,gt=ft.sign,mt=ft.symbol,vt=ft.zero,yt=ft.width,bt=ft.comma,xt=ft.precision,wt=ft.trim,At=ft.type;At==="n"?(bt=!0,At="g"):formatTypes[At]||(xt===void 0&&(xt=12),wt=!0,At="g"),(vt||ht==="0"&&pt==="=")&&(vt=!0,ht="0",pt="=");var St=mt==="$"?tt:mt==="#"&&/[boxX]/.test(At)?"0"+At.toLowerCase():"",$t=mt==="$"?rt:/[%p]/.test(At)?st:"",kt=formatTypes[At],Ct=/[defgprs%]/.test(At);xt=xt===void 0?6:/[gprs]/.test(At)?Math.max(1,Math.min(21,xt)):Math.max(0,Math.min(20,xt));function _t(Tt){var jt=St,Bt=$t,Gt,Rt,Wt;if(At==="c")Bt=kt(Tt)+Bt,Tt="";else{Tt=+Tt;var Vt=Tt<0||1/Tt<0;if(Tt=isNaN(Tt)?ct:kt(Math.abs(Tt),xt),wt&&(Tt=formatTrim(Tt)),Vt&&+Tt==0&&gt!=="+"&&(Vt=!1),jt=(Vt?gt==="("?gt:at:gt==="-"||gt==="("?"":gt)+jt,Bt=(At==="s"?prefixes[8+prefixExponent/3]:"")+Bt+(Vt&&gt==="("?")":""),Ct){for(Gt=-1,Rt=Tt.length;++Gt<Rt;)if(Wt=Tt.charCodeAt(Gt),48>Wt||Wt>57){Bt=(Wt===46?nt+Tt.slice(Gt+1):Tt.slice(Gt))+Bt,Tt=Tt.slice(0,Gt);break}}}bt&&!vt&&(Tt=et(Tt,1/0));var Lt=jt.length+Tt.length+Bt.length,Ht=Lt<yt?new Array(yt-Lt+1).join(ht):"";switch(bt&&vt&&(Tt=et(Ht+Tt,Ht.length?yt-Bt.length:1/0),Ht=""),pt){case"<":Tt=jt+Tt+Bt+Ht;break;case"=":Tt=jt+Ht+Tt+Bt;break;case"^":Tt=Ht.slice(0,Lt=Ht.length>>1)+jt+Tt+Bt+Ht.slice(Lt);break;default:Tt=Ht+jt+Tt+Bt;break}return ot(Tt)}return _t.toString=function(){return ft+""},_t}function dt(ft,ht){var pt=lt((ft=formatSpecifier(ft),ft.type="f",ft)),gt=Math.max(-8,Math.min(8,Math.floor(exponent(ht)/3)))*3,mt=Math.pow(10,-gt),vt=prefixes[8+gt/3];return function(yt){return pt(mt*yt)+vt}}return{format:lt,formatPrefix:dt}}var locale$1,format$5,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format$5=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,et){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(et)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,et){return _e=Math.abs(_e),et=Math.abs(et)-_e,Math.max(0,exponent(et)-exponent(_e))+1}function tickFormat(_e,et,tt,rt){var nt=tickStep(_e,et,tt),ot;switch(rt=formatSpecifier(rt??",f"),rt.type){case"s":{var st=Math.max(Math.abs(_e),Math.abs(et));return rt.precision==null&&!isNaN(ot=precisionPrefix(nt,st))&&(rt.precision=ot),formatPrefix(rt,st)}case"":case"e":case"g":case"p":case"r":{rt.precision==null&&!isNaN(ot=precisionRound(nt,Math.max(Math.abs(_e),Math.abs(et))))&&(rt.precision=ot-(rt.type==="e"));break}case"f":case"%":{rt.precision==null&&!isNaN(ot=precisionFixed(nt))&&(rt.precision=ot-(rt.type==="%")*2);break}}return format$5(rt)}function linearish(_e){var et=_e.domain;return _e.ticks=function(tt){var rt=et();return ticks(rt[0],rt[rt.length-1],tt??10)},_e.tickFormat=function(tt,rt){var nt=et();return tickFormat(nt[0],nt[nt.length-1],tt??10,rt)},_e.nice=function(tt){tt==null&&(tt=10);var rt=et(),nt=0,ot=rt.length-1,st=rt[nt],at=rt[ot],ct,lt,dt=10;for(at<st&&(lt=st,st=at,at=lt,lt=nt,nt=ot,ot=lt);dt-- >0;){if(lt=tickIncrement(st,at,tt),lt===ct)return rt[nt]=st,rt[ot]=at,et(rt);if(lt>0)st=Math.floor(st/lt)*lt,at=Math.ceil(at/lt)*lt;else if(lt<0)st=Math.ceil(st*lt)/lt,at=Math.floor(at*lt)/lt;else break;ct=lt}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy$1(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function identity$2(_e){var et;function tt(rt){return rt==null||isNaN(rt=+rt)?et:rt}return tt.invert=tt,tt.domain=tt.range=function(rt){return arguments.length?(_e=Array.from(rt,number$2),tt):_e.slice()},tt.unknown=function(rt){return arguments.length?(et=rt,tt):et},tt.copy=function(){return identity$2(_e).unknown(et)},_e=arguments.length?Array.from(_e,number$2):[0,1],linearish(tt)}function nice(_e,et){_e=_e.slice();var tt=0,rt=_e.length-1,nt=_e[tt],ot=_e[rt],st;return ot<nt&&(st=tt,tt=rt,rt=st,st=nt,nt=ot,ot=st),_e[tt]=et.floor(nt),_e[rt]=et.ceil(ot),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:et=>Math.pow(_e,et)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),et=>Math.log(et)/_e)}function reflect(_e){return(et,tt)=>-_e(-et,tt)}function loggish(_e){const et=_e(transformLog,transformExp),tt=et.domain;let rt=10,nt,ot;function st(){return nt=logp(rt),ot=powp(rt),tt()[0]<0?(nt=reflect(nt),ot=reflect(ot),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),et}return et.base=function(at){return arguments.length?(rt=+at,st()):rt},et.domain=function(at){return arguments.length?(tt(at),st()):tt()},et.ticks=at=>{const ct=tt();let lt=ct[0],dt=ct[ct.length-1];const ft=dt<lt;ft&&([lt,dt]=[dt,lt]);let ht=nt(lt),pt=nt(dt),gt,mt;const vt=at==null?10:+at;let yt=[];if(!(rt%1)&&pt-ht<vt){if(ht=Math.floor(ht),pt=Math.ceil(pt),lt>0){for(;ht<=pt;++ht)for(gt=1;gt<rt;++gt)if(mt=ht<0?gt/ot(-ht):gt*ot(ht),!(mt<lt)){if(mt>dt)break;yt.push(mt)}}else for(;ht<=pt;++ht)for(gt=rt-1;gt>=1;--gt)if(mt=ht>0?gt/ot(-ht):gt*ot(ht),!(mt<lt)){if(mt>dt)break;yt.push(mt)}yt.length*2<vt&&(yt=ticks(lt,dt,vt))}else yt=ticks(ht,pt,Math.min(pt-ht,vt)).map(ot);return ft?yt.reverse():yt},et.tickFormat=(at,ct)=>{if(at==null&&(at=10),ct==null&&(ct=rt===10?"s":","),typeof ct!="function"&&(!(rt%1)&&(ct=formatSpecifier(ct)).precision==null&&(ct.trim=!0),ct=format$5(ct)),at===1/0)return ct;const lt=Math.max(1,rt*at/et.ticks().length);return dt=>{let ft=dt/ot(Math.round(nt(dt)));return ft*rt<rt-.5&&(ft*=rt),ft<=lt?ct(dt):""}},et.nice=()=>tt(nice(tt(),{floor:at=>ot(Math.floor(nt(at))),ceil:at=>ot(Math.ceil(nt(at)))})),et}function log(){const _e=loggish(transformer$2()).domain([1,10]);return _e.copy=()=>copy$1(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}function transformSymlog(_e){return function(et){return Math.sign(et)*Math.log1p(Math.abs(et/_e))}}function transformSymexp(_e){return function(et){return Math.sign(et)*Math.expm1(Math.abs(et))*_e}}function symlogish(_e){var et=1,tt=_e(transformSymlog(et),transformSymexp(et));return tt.constant=function(rt){return arguments.length?_e(transformSymlog(et=+rt),transformSymexp(et)):et},linearish(tt)}function symlog(){var _e=symlogish(transformer$2());return _e.copy=function(){return copy$1(_e,symlog()).constant(_e.constant())},initRange.apply(_e,arguments)}function transformPow(_e){return function(et){return et<0?-Math.pow(-et,_e):Math.pow(et,_e)}}function transformSqrt(_e){return _e<0?-Math.sqrt(-_e):Math.sqrt(_e)}function transformSquare(_e){return _e<0?-_e*_e:_e*_e}function powish(_e){var et=_e(identity$4,identity$4),tt=1;function rt(){return tt===1?_e(identity$4,identity$4):tt===.5?_e(transformSqrt,transformSquare):_e(transformPow(tt),transformPow(1/tt))}return et.exponent=function(nt){return arguments.length?(tt=+nt,rt()):tt},linearish(et)}function pow(){var _e=powish(transformer$2());return _e.copy=function(){return copy$1(_e,pow()).exponent(_e.exponent())},initRange.apply(_e,arguments),_e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(_e){return Math.sign(_e)*_e*_e}function unsquare(_e){return Math.sign(_e)*Math.sqrt(Math.abs(_e))}function radial(){var _e=continuous(),et=[0,1],tt=!1,rt;function nt(ot){var st=unsquare(_e(ot));return isNaN(st)?rt:tt?Math.round(st):st}return nt.invert=function(ot){return _e.invert(square(ot))},nt.domain=function(ot){return arguments.length?(_e.domain(ot),nt):_e.domain()},nt.range=function(ot){return arguments.length?(_e.range((et=Array.from(ot,number$2)).map(square)),nt):et.slice()},nt.rangeRound=function(ot){return nt.range(ot).round(!0)},nt.round=function(ot){return arguments.length?(tt=!!ot,nt):tt},nt.clamp=function(ot){return arguments.length?(_e.clamp(ot),nt):_e.clamp()},nt.unknown=function(ot){return arguments.length?(rt=ot,nt):rt},nt.copy=function(){return radial(_e.domain(),et).round(tt).clamp(_e.clamp()).unknown(rt)},initRange.apply(nt,arguments),linearish(nt)}function quantile(){var _e=[],et=[],tt=[],rt;function nt(){var st=0,at=Math.max(1,et.length);for(tt=new Array(at-1);++st<at;)tt[st-1]=quantileSorted(_e,st/at);return ot}function ot(st){return st==null||isNaN(st=+st)?rt:et[bisectRight(tt,st)]}return ot.invertExtent=function(st){var at=et.indexOf(st);return at<0?[NaN,NaN]:[at>0?tt[at-1]:_e[0],at<tt.length?tt[at]:_e[_e.length-1]]},ot.domain=function(st){if(!arguments.length)return _e.slice();_e=[];for(let at of st)at!=null&&!isNaN(at=+at)&&_e.push(at);return _e.sort(ascending),nt()},ot.range=function(st){return arguments.length?(et=Array.from(st),nt()):et.slice()},ot.unknown=function(st){return arguments.length?(rt=st,ot):rt},ot.quantiles=function(){return tt.slice()},ot.copy=function(){return quantile().domain(_e).range(et).unknown(rt)},initRange.apply(ot,arguments)}function quantize(){var _e=0,et=1,tt=1,rt=[.5],nt=[0,1],ot;function st(ct){return ct!=null&&ct<=ct?nt[bisectRight(rt,ct,0,tt)]:ot}function at(){var ct=-1;for(rt=new Array(tt);++ct<tt;)rt[ct]=((ct+1)*et-(ct-tt)*_e)/(tt+1);return st}return st.domain=function(ct){return arguments.length?([_e,et]=ct,_e=+_e,et=+et,at()):[_e,et]},st.range=function(ct){return arguments.length?(tt=(nt=Array.from(ct)).length-1,at()):nt.slice()},st.invertExtent=function(ct){var lt=nt.indexOf(ct);return lt<0?[NaN,NaN]:lt<1?[_e,rt[0]]:lt>=tt?[rt[tt-1],et]:[rt[lt-1],rt[lt]]},st.unknown=function(ct){return arguments.length&&(ot=ct),st},st.thresholds=function(){return rt.slice()},st.copy=function(){return quantize().domain([_e,et]).range(nt).unknown(ot)},initRange.apply(linearish(st),arguments)}function threshold(){var _e=[.5],et=[0,1],tt,rt=1;function nt(ot){return ot!=null&&ot<=ot?et[bisectRight(_e,ot,0,rt)]:tt}return nt.domain=function(ot){return arguments.length?(_e=Array.from(ot),rt=Math.min(_e.length,et.length-1),nt):_e.slice()},nt.range=function(ot){return arguments.length?(et=Array.from(ot),rt=Math.min(_e.length,et.length-1),nt):et.slice()},nt.invertExtent=function(ot){var st=et.indexOf(ot);return[_e[st-1],_e[st]]},nt.unknown=function(ot){return arguments.length?(tt=ot,nt):tt},nt.copy=function(){return threshold().domain(_e).range(et).unknown(tt)},initRange.apply(nt,arguments)}const t0=new Date,t1=new Date;function timeInterval(_e,et,tt,rt){function nt(ot){return _e(ot=arguments.length===0?new Date:new Date(+ot)),ot}return nt.floor=ot=>(_e(ot=new Date(+ot)),ot),nt.ceil=ot=>(_e(ot=new Date(ot-1)),et(ot,1),_e(ot),ot),nt.round=ot=>{const st=nt(ot),at=nt.ceil(ot);return ot-st<at-ot?st:at},nt.offset=(ot,st)=>(et(ot=new Date(+ot),st==null?1:Math.floor(st)),ot),nt.range=(ot,st,at)=>{const ct=[];if(ot=nt.ceil(ot),at=at==null?1:Math.floor(at),!(ot<st)||!(at>0))return ct;let lt;do ct.push(lt=new Date(+ot)),et(ot,at),_e(ot);while(lt<ot&&ot<st);return ct},nt.filter=ot=>timeInterval(st=>{if(st>=st)for(;_e(st),!ot(st);)st.setTime(st-1)},(st,at)=>{if(st>=st)if(at<0)for(;++at<=0;)for(;et(st,-1),!ot(st););else for(;--at>=0;)for(;et(st,1),!ot(st););}),tt&&(nt.count=(ot,st)=>(t0.setTime(+ot),t1.setTime(+st),_e(t0),_e(t1),Math.floor(tt(t0,t1))),nt.every=ot=>(ot=Math.floor(ot),!isFinite(ot)||!(ot>0)?null:ot>1?nt.filter(rt?st=>rt(st)%ot===0:st=>nt.count(0,st)%ot===0):nt)),nt}const millisecond=timeInterval(()=>{},(_e,et)=>{_e.setTime(+_e+et)},(_e,et)=>et-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval(et=>{et.setTime(Math.floor(et/_e)*_e)},(et,tt)=>{et.setTime(+et+tt*_e)},(et,tt)=>(tt-et)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,et)=>{_e.setTime(+_e+et*durationSecond)},(_e,et)=>(et-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,et)=>{_e.setTime(+_e+et*durationMinute)},(_e,et)=>(et-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,et)=>{_e.setTime(+_e+et*durationHour)},(_e,et)=>(et-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,et)=>_e.setDate(_e.getDate()+et),(_e,et)=>(et-_e-(et.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCDate(_e.getUTCDate()+et)},(_e,et)=>(et-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval(et=>{et.setDate(et.getDate()-(et.getDay()+7-_e)%7),et.setHours(0,0,0,0)},(et,tt)=>{et.setDate(et.getDate()+tt*7)},(et,tt)=>(tt-et-(tt.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval(et=>{et.setUTCDate(et.getUTCDate()-(et.getUTCDay()+7-_e)%7),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCDate(et.getUTCDate()+tt*7)},(et,tt)=>(tt-et)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setMonth(_e.getMonth()+et)},(_e,et)=>et.getMonth()-_e.getMonth()+(et.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCMonth(_e.getUTCMonth()+et)},(_e,et)=>et.getUTCMonth()-_e.getUTCMonth()+(et.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,et)=>{_e.setFullYear(_e.getFullYear()+et)},(_e,et)=>et.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setFullYear(Math.floor(et.getFullYear()/_e)*_e),et.setMonth(0,1),et.setHours(0,0,0,0)},(et,tt)=>{et.setFullYear(et.getFullYear()+tt*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,et)=>{_e.setUTCFullYear(_e.getUTCFullYear()+et)},(_e,et)=>et.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval(et=>{et.setUTCFullYear(Math.floor(et.getUTCFullYear()/_e)*_e),et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,tt)=>{et.setUTCFullYear(et.getUTCFullYear()+tt*_e)});utcYear.range;function ticker(_e,et,tt,rt,nt,ot){const st=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[ot,1,durationMinute],[ot,5,5*durationMinute],[ot,15,15*durationMinute],[ot,30,30*durationMinute],[nt,1,durationHour],[nt,3,3*durationHour],[nt,6,6*durationHour],[nt,12,12*durationHour],[rt,1,durationDay],[rt,2,2*durationDay],[tt,1,durationWeek],[et,1,durationMonth],[et,3,3*durationMonth],[_e,1,durationYear]];function at(lt,dt,ft){const ht=dt<lt;ht&&([lt,dt]=[dt,lt]);const pt=ft&&typeof ft.range=="function"?ft:ct(lt,dt,ft),gt=pt?pt.range(lt,+dt+1):[];return ht?gt.reverse():gt}function ct(lt,dt,ft){const ht=Math.abs(dt-lt)/ft,pt=bisector(([,,vt])=>vt).right(st,ht);if(pt===st.length)return _e.every(tickStep(lt/durationYear,dt/durationYear,ft));if(pt===0)return millisecond.every(Math.max(tickStep(lt,dt,ft),1));const[gt,mt]=st[ht/st[pt-1][2]<st[pt][2]/ht?pt-1:pt];return gt.every(mt)}return[at,ct]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return et.setFullYear(_e.y),et}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var et=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return et.setUTCFullYear(_e.y),et}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,et,tt){return{y:_e,m:et,d:tt,H:0,M:0,S:0,L:0}}function formatLocale(_e){var et=_e.dateTime,tt=_e.date,rt=_e.time,nt=_e.periods,ot=_e.days,st=_e.shortDays,at=_e.months,ct=_e.shortMonths,lt=formatRe(nt),dt=formatLookup(nt),ft=formatRe(ot),ht=formatLookup(ot),pt=formatRe(st),gt=formatLookup(st),mt=formatRe(at),vt=formatLookup(at),yt=formatRe(ct),bt=formatLookup(ct),xt={a:Vt,A:Lt,b:Ht,B:Kt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Qt,q:Yt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},wt={a:ar,A:sr,b:tr,B:It,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ft,q:Jt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},At={a:_t,A:Tt,b:jt,B:Bt,c:Gt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Ct,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Rt,X:Wt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};xt.x=St(tt,xt),xt.X=St(rt,xt),xt.c=St(et,xt),wt.x=St(tt,wt),wt.X=St(rt,wt),wt.c=St(et,wt);function St(Dt,qt){return function(Xt){var Mt=[],nr=-1,er=0,cr=Dt.length,lr,Nn,Ws;for(Xt instanceof Date||(Xt=new Date(+Xt));++nr<cr;)Dt.charCodeAt(nr)===37&&(Mt.push(Dt.slice(er,nr)),(Nn=pads[lr=Dt.charAt(++nr)])!=null?lr=Dt.charAt(++nr):Nn=lr==="e"?" ":"0",(Ws=qt[lr])&&(lr=Ws(Xt,Nn)),Mt.push(lr),er=nr+1);return Mt.push(Dt.slice(er,nr)),Mt.join("")}}function $t(Dt,qt){return function(Xt){var Mt=newDate(1900,void 0,1),nr=kt(Mt,Dt,Xt+="",0),er,cr;if(nr!=Xt.length)return null;if("Q"in Mt)return new Date(Mt.Q);if("s"in Mt)return new Date(Mt.s*1e3+("L"in Mt?Mt.L:0));if(qt&&!("Z"in Mt)&&(Mt.Z=0),"p"in Mt&&(Mt.H=Mt.H%12+Mt.p*12),Mt.m===void 0&&(Mt.m="q"in Mt?Mt.q:0),"V"in Mt){if(Mt.V<1||Mt.V>53)return null;"w"in Mt||(Mt.w=1),"Z"in Mt?(er=utcDate(newDate(Mt.y,0,1)),cr=er.getUTCDay(),er=cr>4||cr===0?utcMonday.ceil(er):utcMonday(er),er=utcDay.offset(er,(Mt.V-1)*7),Mt.y=er.getUTCFullYear(),Mt.m=er.getUTCMonth(),Mt.d=er.getUTCDate()+(Mt.w+6)%7):(er=localDate(newDate(Mt.y,0,1)),cr=er.getDay(),er=cr>4||cr===0?timeMonday.ceil(er):timeMonday(er),er=timeDay.offset(er,(Mt.V-1)*7),Mt.y=er.getFullYear(),Mt.m=er.getMonth(),Mt.d=er.getDate()+(Mt.w+6)%7)}else("W"in Mt||"U"in Mt)&&("w"in Mt||(Mt.w="u"in Mt?Mt.u%7:"W"in Mt?1:0),cr="Z"in Mt?utcDate(newDate(Mt.y,0,1)).getUTCDay():localDate(newDate(Mt.y,0,1)).getDay(),Mt.m=0,Mt.d="W"in Mt?(Mt.w+6)%7+Mt.W*7-(cr+5)%7:Mt.w+Mt.U*7-(cr+6)%7);return"Z"in Mt?(Mt.H+=Mt.Z/100|0,Mt.M+=Mt.Z%100,utcDate(Mt)):localDate(Mt)}}function kt(Dt,qt,Xt,Mt){for(var nr=0,er=qt.length,cr=Xt.length,lr,Nn;nr<er;){if(Mt>=cr)return-1;if(lr=qt.charCodeAt(nr++),lr===37){if(lr=qt.charAt(nr++),Nn=At[lr in pads?qt.charAt(nr++):lr],!Nn||(Mt=Nn(Dt,Xt,Mt))<0)return-1}else if(lr!=Xt.charCodeAt(Mt++))return-1}return Mt}function Ct(Dt,qt,Xt){var Mt=lt.exec(qt.slice(Xt));return Mt?(Dt.p=dt.get(Mt[0].toLowerCase()),Xt+Mt[0].length):-1}function _t(Dt,qt,Xt){var Mt=pt.exec(qt.slice(Xt));return Mt?(Dt.w=gt.get(Mt[0].toLowerCase()),Xt+Mt[0].length):-1}function Tt(Dt,qt,Xt){var Mt=ft.exec(qt.slice(Xt));return Mt?(Dt.w=ht.get(Mt[0].toLowerCase()),Xt+Mt[0].length):-1}function jt(Dt,qt,Xt){var Mt=yt.exec(qt.slice(Xt));return Mt?(Dt.m=bt.get(Mt[0].toLowerCase()),Xt+Mt[0].length):-1}function Bt(Dt,qt,Xt){var Mt=mt.exec(qt.slice(Xt));return Mt?(Dt.m=vt.get(Mt[0].toLowerCase()),Xt+Mt[0].length):-1}function Gt(Dt,qt,Xt){return kt(Dt,et,qt,Xt)}function Rt(Dt,qt,Xt){return kt(Dt,tt,qt,Xt)}function Wt(Dt,qt,Xt){return kt(Dt,rt,qt,Xt)}function Vt(Dt){return st[Dt.getDay()]}function Lt(Dt){return ot[Dt.getDay()]}function Ht(Dt){return ct[Dt.getMonth()]}function Kt(Dt){return at[Dt.getMonth()]}function Qt(Dt){return nt[+(Dt.getHours()>=12)]}function Yt(Dt){return 1+~~(Dt.getMonth()/3)}function ar(Dt){return st[Dt.getUTCDay()]}function sr(Dt){return ot[Dt.getUTCDay()]}function tr(Dt){return ct[Dt.getUTCMonth()]}function It(Dt){return at[Dt.getUTCMonth()]}function Ft(Dt){return nt[+(Dt.getUTCHours()>=12)]}function Jt(Dt){return 1+~~(Dt.getUTCMonth()/3)}return{format:function(Dt){var qt=St(Dt+="",xt);return qt.toString=function(){return Dt},qt},parse:function(Dt){var qt=$t(Dt+="",!1);return qt.toString=function(){return Dt},qt},utcFormat:function(Dt){var qt=St(Dt+="",wt);return qt.toString=function(){return Dt},qt},utcParse:function(Dt){var qt=$t(Dt+="",!0);return qt.toString=function(){return Dt},qt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,et,tt){var rt=_e<0?"-":"",nt=(rt?-_e:_e)+"",ot=nt.length;return rt+(ot<tt?new Array(tt-ot+1).join(et)+nt:nt)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map((et,tt)=>[et.toLowerCase(),tt]))}function parseWeekdayNumberSunday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+1));return rt?(_e.w=+rt[0],tt+rt[0].length):-1}function parseWeekdayNumberMonday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+1));return rt?(_e.u=+rt[0],tt+rt[0].length):-1}function parseWeekNumberSunday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.U=+rt[0],tt+rt[0].length):-1}function parseWeekNumberISO(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.V=+rt[0],tt+rt[0].length):-1}function parseWeekNumberMonday(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.W=+rt[0],tt+rt[0].length):-1}function parseFullYear(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+4));return rt?(_e.y=+rt[0],tt+rt[0].length):-1}function parseYear(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.y=+rt[0]+(+rt[0]>68?1900:2e3),tt+rt[0].length):-1}function parseZone(_e,et,tt){var rt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(tt,tt+6));return rt?(_e.Z=rt[1]?0:-(rt[2]+(rt[3]||"00")),tt+rt[0].length):-1}function parseQuarter(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+1));return rt?(_e.q=rt[0]*3-3,tt+rt[0].length):-1}function parseMonthNumber(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.m=rt[0]-1,tt+rt[0].length):-1}function parseDayOfMonth(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.d=+rt[0],tt+rt[0].length):-1}function parseDayOfYear(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+3));return rt?(_e.m=0,_e.d=+rt[0],tt+rt[0].length):-1}function parseHour24(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.H=+rt[0],tt+rt[0].length):-1}function parseMinutes(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.M=+rt[0],tt+rt[0].length):-1}function parseSeconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+2));return rt?(_e.S=+rt[0],tt+rt[0].length):-1}function parseMilliseconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+3));return rt?(_e.L=+rt[0],tt+rt[0].length):-1}function parseMicroseconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt,tt+6));return rt?(_e.L=Math.floor(rt[0]/1e3),tt+rt[0].length):-1}function parseLiteralPercent(_e,et,tt){var rt=percentRe.exec(et.slice(tt,tt+1));return rt?tt+rt[0].length:-1}function parseUnixTimestamp(_e,et,tt){var rt=numberRe.exec(et.slice(tt));return rt?(_e.Q=+rt[0],tt+rt[0].length):-1}function parseUnixTimestampSeconds(_e,et,tt){var rt=numberRe.exec(et.slice(tt));return rt?(_e.s=+rt[0],tt+rt[0].length):-1}function formatDayOfMonth(_e,et){return pad(_e.getDate(),et,2)}function formatHour24(_e,et){return pad(_e.getHours(),et,2)}function formatHour12(_e,et){return pad(_e.getHours()%12||12,et,2)}function formatDayOfYear(_e,et){return pad(1+timeDay.count(timeYear(_e),_e),et,3)}function formatMilliseconds(_e,et){return pad(_e.getMilliseconds(),et,3)}function formatMicroseconds(_e,et){return formatMilliseconds(_e,et)+"000"}function formatMonthNumber(_e,et){return pad(_e.getMonth()+1,et,2)}function formatMinutes(_e,et){return pad(_e.getMinutes(),et,2)}function formatSeconds(_e,et){return pad(_e.getSeconds(),et,2)}function formatWeekdayNumberMonday(_e){var et=_e.getDay();return et===0?7:et}function formatWeekNumberSunday(_e,et){return pad(timeSunday.count(timeYear(_e)-1,_e),et,2)}function dISO(_e){var et=_e.getDay();return et>=4||et===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,et){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),et,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,et){return pad(timeMonday.count(timeYear(_e)-1,_e),et,2)}function formatYear(_e,et){return pad(_e.getFullYear()%100,et,2)}function formatYearISO(_e,et){return _e=dISO(_e),pad(_e.getFullYear()%100,et,2)}function formatFullYear(_e,et){return pad(_e.getFullYear()%1e4,et,4)}function formatFullYearISO(_e,et){var tt=_e.getDay();return _e=tt>=4||tt===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,et,4)}function formatZone(_e){var et=_e.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+pad(et/60|0,"0",2)+pad(et%60,"0",2)}function formatUTCDayOfMonth(_e,et){return pad(_e.getUTCDate(),et,2)}function formatUTCHour24(_e,et){return pad(_e.getUTCHours(),et,2)}function formatUTCHour12(_e,et){return pad(_e.getUTCHours()%12||12,et,2)}function formatUTCDayOfYear(_e,et){return pad(1+utcDay.count(utcYear(_e),_e),et,3)}function formatUTCMilliseconds(_e,et){return pad(_e.getUTCMilliseconds(),et,3)}function formatUTCMicroseconds(_e,et){return formatUTCMilliseconds(_e,et)+"000"}function formatUTCMonthNumber(_e,et){return pad(_e.getUTCMonth()+1,et,2)}function formatUTCMinutes(_e,et){return pad(_e.getUTCMinutes(),et,2)}function formatUTCSeconds(_e,et){return pad(_e.getUTCSeconds(),et,2)}function formatUTCWeekdayNumberMonday(_e){var et=_e.getUTCDay();return et===0?7:et}function formatUTCWeekNumberSunday(_e,et){return pad(utcSunday.count(utcYear(_e)-1,_e),et,2)}function UTCdISO(_e){var et=_e.getUTCDay();return et>=4||et===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,et){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),et,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,et){return pad(utcMonday.count(utcYear(_e)-1,_e),et,2)}function formatUTCYear(_e,et){return pad(_e.getUTCFullYear()%100,et,2)}function formatUTCYearISO(_e,et){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,et,2)}function formatUTCFullYear(_e,et){return pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCFullYearISO(_e,et){var tt=_e.getUTCDay();return _e=tt>=4||tt===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,et,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number$1(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,et,tt,rt,nt,ot,st,at,ct,lt){var dt=continuous(),ft=dt.invert,ht=dt.domain,pt=lt(".%L"),gt=lt(":%S"),mt=lt("%I:%M"),vt=lt("%I %p"),yt=lt("%a %d"),bt=lt("%b %d"),xt=lt("%B"),wt=lt("%Y");function At(St){return(ct(St)<St?pt:at(St)<St?gt:st(St)<St?mt:ot(St)<St?vt:rt(St)<St?nt(St)<St?yt:bt:tt(St)<St?xt:wt)(St)}return dt.invert=function(St){return new Date(ft(St))},dt.domain=function(St){return arguments.length?ht(Array.from(St,number$1)):ht().map(date)},dt.ticks=function(St){var $t=ht();return _e($t[0],$t[$t.length-1],St??10)},dt.tickFormat=function(St,$t){return $t==null?At:lt($t)},dt.nice=function(St){var $t=ht();return(!St||typeof St.range!="function")&&(St=et($t[0],$t[$t.length-1],St??10)),St?ht(nice($t,St)):dt},dt.copy=function(){return copy$1(dt,calendar(_e,et,tt,rt,nt,ot,st,at,ct,lt))},dt}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var _e=0,et=1,tt,rt,nt,ot,st=identity$4,at=!1,ct;function lt(ft){return ft==null||isNaN(ft=+ft)?ct:st(nt===0?.5:(ft=(ot(ft)-tt)*nt,at?Math.max(0,Math.min(1,ft)):ft))}lt.domain=function(ft){return arguments.length?([_e,et]=ft,tt=ot(_e=+_e),rt=ot(et=+et),nt=tt===rt?0:1/(rt-tt),lt):[_e,et]},lt.clamp=function(ft){return arguments.length?(at=!!ft,lt):at},lt.interpolator=function(ft){return arguments.length?(st=ft,lt):st};function dt(ft){return function(ht){var pt,gt;return arguments.length?([pt,gt]=ht,st=ft(pt,gt),lt):[st(0),st(1)]}}return lt.range=dt(interpolate),lt.rangeRound=dt(interpolateRound),lt.unknown=function(ft){return arguments.length?(ct=ft,lt):ct},function(ft){return ot=ft,tt=ft(_e),rt=ft(et),nt=tt===rt?0:1/(rt-tt),lt}}function copy(_e,et){return et.domain(_e.domain()).interpolator(_e.interpolator()).clamp(_e.clamp()).unknown(_e.unknown())}function sequential(){var _e=linearish(transformer$1()(identity$4));return _e.copy=function(){return copy(_e,sequential())},initInterpolator.apply(_e,arguments)}function sequentialLog(){var _e=loggish(transformer$1()).domain([1,10]);return _e.copy=function(){return copy(_e,sequentialLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function sequentialSymlog(){var _e=symlogish(transformer$1());return _e.copy=function(){return copy(_e,sequentialSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function sequentialPow(){var _e=powish(transformer$1());return _e.copy=function(){return copy(_e,sequentialPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var _e=[],et=identity$4;function tt(rt){if(rt!=null&&!isNaN(rt=+rt))return et((bisectRight(_e,rt,1)-1)/(_e.length-1))}return tt.domain=function(rt){if(!arguments.length)return _e.slice();_e=[];for(let nt of rt)nt!=null&&!isNaN(nt=+nt)&&_e.push(nt);return _e.sort(ascending),tt},tt.interpolator=function(rt){return arguments.length?(et=rt,tt):et},tt.range=function(){return _e.map((rt,nt)=>et(nt/(_e.length-1)))},tt.quantiles=function(rt){return Array.from({length:rt+1},(nt,ot)=>quantile$1(_e,ot/rt))},tt.copy=function(){return sequentialQuantile(et).domain(_e)},initInterpolator.apply(tt,arguments)}function transformer(){var _e=0,et=.5,tt=1,rt=1,nt,ot,st,at,ct,lt=identity$4,dt,ft=!1,ht;function pt(mt){return isNaN(mt=+mt)?ht:(mt=.5+((mt=+dt(mt))-ot)*(rt*mt<rt*ot?at:ct),lt(ft?Math.max(0,Math.min(1,mt)):mt))}pt.domain=function(mt){return arguments.length?([_e,et,tt]=mt,nt=dt(_e=+_e),ot=dt(et=+et),st=dt(tt=+tt),at=nt===ot?0:.5/(ot-nt),ct=ot===st?0:.5/(st-ot),rt=ot<nt?-1:1,pt):[_e,et,tt]},pt.clamp=function(mt){return arguments.length?(ft=!!mt,pt):ft},pt.interpolator=function(mt){return arguments.length?(lt=mt,pt):lt};function gt(mt){return function(vt){var yt,bt,xt;return arguments.length?([yt,bt,xt]=vt,lt=piecewise(mt,[yt,bt,xt]),pt):[lt(0),lt(.5),lt(1)]}}return pt.range=gt(interpolate),pt.rangeRound=gt(interpolateRound),pt.unknown=function(mt){return arguments.length?(ht=mt,pt):ht},function(mt){return dt=mt,nt=mt(_e),ot=mt(et),st=mt(tt),at=nt===ot?0:.5/(ot-nt),ct=ot===st?0:.5/(st-ot),rt=ot<nt?-1:1,pt}}function diverging(){var _e=linearish(transformer()(identity$4));return _e.copy=function(){return copy(_e,diverging())},initInterpolator.apply(_e,arguments)}function divergingLog(){var _e=loggish(transformer()).domain([.1,1,10]);return _e.copy=function(){return copy(_e,divergingLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function divergingSymlog(){var _e=symlogish(transformer());return _e.copy=function(){return copy(_e,divergingSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function divergingPow(){var _e=powish(transformer());return _e.copy=function(){return copy(_e,divergingPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$2,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=_e=>_e.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],_e=>{var et=_e.chartData!=null?_e.chartData.length-1:0;return{chartData:_e.chartData,computedData:_e.computedData,dataEndIndex:et,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(_e,et,tt,rt)=>rt?selectChartDataAndAlwaysIgnoreIndexes(_e):selectChartDataWithIndexes(_e);function isWellFormedNumberDomain(_e){if(Array.isArray(_e)&&_e.length===2){var[et,tt]=_e;if(isWellBehavedNumber(et)&&isWellBehavedNumber(tt))return!0}return!1}function extendDomain(_e,et,tt){return tt?_e:[Math.min(_e[0],et[0]),Math.max(_e[1],et[1])]}function numericalDomainSpecifiedWithoutRequiringData(_e,et){if(et&&typeof _e!="function"&&Array.isArray(_e)&&_e.length===2){var[tt,rt]=_e,nt,ot;if(isWellBehavedNumber(tt))nt=tt;else if(typeof tt=="function")return;if(isWellBehavedNumber(rt))ot=rt;else if(typeof rt=="function")return;var st=[nt,ot];if(isWellFormedNumberDomain(st))return st}}function parseNumericalUserDomain(_e,et,tt){if(!(!tt&&et==null)){if(typeof _e=="function"&&et!=null)try{var rt=_e(et,tt);if(isWellFormedNumberDomain(rt))return extendDomain(rt,et,tt)}catch{}if(Array.isArray(_e)&&_e.length===2){var[nt,ot]=_e,st,at;if(nt==="auto")et!=null&&(st=Math.min(...et));else if(isNumber(nt))st=nt;else if(typeof nt=="function")try{et!=null&&(st=nt(et==null?void 0:et[0]))}catch{}else if(typeof nt=="string"&&MIN_VALUE_REG.test(nt)){var ct=MIN_VALUE_REG.exec(nt);if(ct==null||et==null)st=void 0;else{var lt=+ct[1];st=et[0]-lt}}else st=et==null?void 0:et[0];if(ot==="auto")et!=null&&(at=Math.max(...et));else if(isNumber(ot))at=ot;else if(typeof ot=="function")try{et!=null&&(at=ot(et==null?void 0:et[1]))}catch{}else if(typeof ot=="string"&&MAX_VALUE_REG.test(ot)){var dt=MAX_VALUE_REG.exec(ot);if(dt==null||et==null)at=void 0;else{var ft=+dt[1];at=et[1]+ft}}else at=et==null?void 0:et[1];var ht=[st,at];if(isWellFormedNumberDomain(ht))return et==null?ht:extendDomain(ht,et,tt)}}}var MAX_DIGITS=1e9,defaults$2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var _e=new this.constructor(this);return _e.s&&(_e.s=1),_e};P.comparedTo=P.cmp=function(_e){var et,tt,rt,nt,ot=this;if(_e=new ot.constructor(_e),ot.s!==_e.s)return ot.s||-_e.s;if(ot.e!==_e.e)return ot.e>_e.e^ot.s<0?1:-1;for(rt=ot.d.length,nt=_e.d.length,et=0,tt=rt<nt?rt:nt;et<tt;++et)if(ot.d[et]!==_e.d[et])return ot.d[et]>_e.d[et]^ot.s<0?1:-1;return rt===nt?0:rt>nt^ot.s<0?1:-1};P.decimalPlaces=P.dp=function(){var _e=this,et=_e.d.length-1,tt=(et-_e.e)*LOG_BASE;if(et=_e.d[et],et)for(;et%10==0;et/=10)tt--;return tt<0?0:tt};P.dividedBy=P.div=function(_e){return divide(this,new this.constructor(_e))};P.dividedToIntegerBy=P.idiv=function(_e){var et=this,tt=et.constructor;return round(divide(et,new tt(_e),0,1),tt.precision)};P.equals=P.eq=function(_e){return!this.cmp(_e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(_e){return this.cmp(_e)>0};P.greaterThanOrEqualTo=P.gte=function(_e){return this.cmp(_e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(_e){return this.cmp(_e)<0};P.lessThanOrEqualTo=P.lte=function(_e){return this.cmp(_e)<1};P.logarithm=P.log=function(_e){var et,tt=this,rt=tt.constructor,nt=rt.precision,ot=nt+5;if(_e===void 0)_e=new rt(10);else if(_e=new rt(_e),_e.s<1||_e.eq(ONE))throw Error(decimalError+"NaN");if(tt.s<1)throw Error(decimalError+(tt.s?"NaN":"-Infinity"));return tt.eq(ONE)?new rt(0):(external=!1,et=divide(ln(tt,ot),ln(_e,ot),ot),external=!0,round(et,nt))};P.minus=P.sub=function(_e){var et=this;return _e=new et.constructor(_e),et.s==_e.s?subtract(et,_e):add$6(et,(_e.s=-_e.s,_e))};P.modulo=P.mod=function(_e){var et,tt=this,rt=tt.constructor,nt=rt.precision;if(_e=new rt(_e),!_e.s)throw Error(decimalError+"NaN");return tt.s?(external=!1,et=divide(tt,_e,0,1).times(_e),external=!0,tt.minus(et)):round(new rt(tt),nt)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var _e=new this.constructor(this);return _e.s=-_e.s||0,_e};P.plus=P.add=function(_e){var et=this;return _e=new et.constructor(_e),et.s==_e.s?add$6(et,_e):subtract(et,(_e.s=-_e.s,_e))};P.precision=P.sd=function(_e){var et,tt,rt,nt=this;if(_e!==void 0&&_e!==!!_e&&_e!==1&&_e!==0)throw Error(invalidArgument+_e);if(et=getBase10Exponent(nt)+1,rt=nt.d.length-1,tt=rt*LOG_BASE+1,rt=nt.d[rt],rt){for(;rt%10==0;rt/=10)tt--;for(rt=nt.d[0];rt>=10;rt/=10)tt++}return _e&&et>tt?et:tt};P.squareRoot=P.sqrt=function(){var _e,et,tt,rt,nt,ot,st,at=this,ct=at.constructor;if(at.s<1){if(!at.s)return new ct(0);throw Error(decimalError+"NaN")}for(_e=getBase10Exponent(at),external=!1,nt=Math.sqrt(+at),nt==0||nt==1/0?(et=digitsToString(at.d),(et.length+_e)%2==0&&(et+="0"),nt=Math.sqrt(et),_e=mathfloor((_e+1)/2)-(_e<0||_e%2),nt==1/0?et="5e"+_e:(et=nt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+_e),rt=new ct(et)):rt=new ct(nt.toString()),tt=ct.precision,nt=st=tt+3;;)if(ot=rt,rt=ot.plus(divide(at,ot,st+2)).times(.5),digitsToString(ot.d).slice(0,st)===(et=digitsToString(rt.d)).slice(0,st)){if(et=et.slice(st-3,st+1),nt==st&&et=="4999"){if(round(ot,tt+1,0),ot.times(ot).eq(at)){rt=ot;break}}else if(et!="9999")break;st+=4}return external=!0,round(rt,tt)};P.times=P.mul=function(_e){var et,tt,rt,nt,ot,st,at,ct,lt,dt=this,ft=dt.constructor,ht=dt.d,pt=(_e=new ft(_e)).d;if(!dt.s||!_e.s)return new ft(0);for(_e.s*=dt.s,tt=dt.e+_e.e,ct=ht.length,lt=pt.length,ct<lt&&(ot=ht,ht=pt,pt=ot,st=ct,ct=lt,lt=st),ot=[],st=ct+lt,rt=st;rt--;)ot.push(0);for(rt=lt;--rt>=0;){for(et=0,nt=ct+rt;nt>rt;)at=ot[nt]+pt[rt]*ht[nt-rt-1]+et,ot[nt--]=at%BASE|0,et=at/BASE|0;ot[nt]=(ot[nt]+et)%BASE|0}for(;!ot[--st];)ot.pop();return et?++tt:ot.shift(),_e.d=ot,_e.e=tt,external?round(_e,ft.precision):_e};P.toDecimalPlaces=P.todp=function(_e,et){var tt=this,rt=tt.constructor;return tt=new rt(tt),_e===void 0?tt:(checkInt32(_e,0,MAX_DIGITS),et===void 0?et=rt.rounding:checkInt32(et,0,8),round(tt,_e+getBase10Exponent(tt)+1,et))};P.toExponential=function(_e,et){var tt,rt=this,nt=rt.constructor;return _e===void 0?tt=toString$3(rt,!0):(checkInt32(_e,0,MAX_DIGITS),et===void 0?et=nt.rounding:checkInt32(et,0,8),rt=round(new nt(rt),_e+1,et),tt=toString$3(rt,!0,_e+1)),tt};P.toFixed=function(_e,et){var tt,rt,nt=this,ot=nt.constructor;return _e===void 0?toString$3(nt):(checkInt32(_e,0,MAX_DIGITS),et===void 0?et=ot.rounding:checkInt32(et,0,8),rt=round(new ot(nt),_e+getBase10Exponent(nt)+1,et),tt=toString$3(rt.abs(),!1,_e+getBase10Exponent(rt)+1),nt.isneg()&&!nt.isZero()?"-"+tt:tt)};P.toInteger=P.toint=function(){var _e=this,et=_e.constructor;return round(new et(_e),getBase10Exponent(_e)+1,et.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(_e){var et,tt,rt,nt,ot,st,at=this,ct=at.constructor,lt=12,dt=+(_e=new ct(_e));if(!_e.s)return new ct(ONE);if(at=new ct(at),!at.s){if(_e.s<1)throw Error(decimalError+"Infinity");return at}if(at.eq(ONE))return at;if(rt=ct.precision,_e.eq(ONE))return round(at,rt);if(et=_e.e,tt=_e.d.length-1,st=et>=tt,ot=at.s,st){if((tt=dt<0?-dt:dt)<=MAX_SAFE_INTEGER){for(nt=new ct(ONE),et=Math.ceil(rt/LOG_BASE+4),external=!1;tt%2&&(nt=nt.times(at),truncate$1(nt.d,et)),tt=mathfloor(tt/2),tt!==0;)at=at.times(at),truncate$1(at.d,et);return external=!0,_e.s<0?new ct(ONE).div(nt):round(nt,rt)}}else if(ot<0)throw Error(decimalError+"NaN");return ot=ot<0&&_e.d[Math.max(et,tt)]&1?-1:1,at.s=1,external=!1,nt=_e.times(ln(at,rt+lt)),external=!0,nt=exp(nt),nt.s=ot,nt};P.toPrecision=function(_e,et){var tt,rt,nt=this,ot=nt.constructor;return _e===void 0?(tt=getBase10Exponent(nt),rt=toString$3(nt,tt<=ot.toExpNeg||tt>=ot.toExpPos)):(checkInt32(_e,1,MAX_DIGITS),et===void 0?et=ot.rounding:checkInt32(et,0,8),nt=round(new ot(nt),_e,et),tt=getBase10Exponent(nt),rt=toString$3(nt,_e<=tt||tt<=ot.toExpNeg,_e)),rt};P.toSignificantDigits=P.tosd=function(_e,et){var tt=this,rt=tt.constructor;return _e===void 0?(_e=rt.precision,et=rt.rounding):(checkInt32(_e,1,MAX_DIGITS),et===void 0?et=rt.rounding:checkInt32(et,0,8)),round(new rt(tt),_e,et)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var _e=this,et=getBase10Exponent(_e),tt=_e.constructor;return toString$3(_e,et<=tt.toExpNeg||et>=tt.toExpPos)};function add$6(_e,et){var tt,rt,nt,ot,st,at,ct,lt,dt=_e.constructor,ft=dt.precision;if(!_e.s||!et.s)return et.s||(et=new dt(_e)),external?round(et,ft):et;if(ct=_e.d,lt=et.d,st=_e.e,nt=et.e,ct=ct.slice(),ot=st-nt,ot){for(ot<0?(rt=ct,ot=-ot,at=lt.length):(rt=lt,nt=st,at=ct.length),st=Math.ceil(ft/LOG_BASE),at=st>at?st+1:at+1,ot>at&&(ot=at,rt.length=1),rt.reverse();ot--;)rt.push(0);rt.reverse()}for(at=ct.length,ot=lt.length,at-ot<0&&(ot=at,rt=lt,lt=ct,ct=rt),tt=0;ot;)tt=(ct[--ot]=ct[ot]+lt[ot]+tt)/BASE|0,ct[ot]%=BASE;for(tt&&(ct.unshift(tt),++nt),at=ct.length;ct[--at]==0;)ct.pop();return et.d=ct,et.e=nt,external?round(et,ft):et}function checkInt32(_e,et,tt){if(_e!==~~_e||_e<et||_e>tt)throw Error(invalidArgument+_e)}function digitsToString(_e){var et,tt,rt,nt=_e.length-1,ot="",st=_e[0];if(nt>0){for(ot+=st,et=1;et<nt;et++)rt=_e[et]+"",tt=LOG_BASE-rt.length,tt&&(ot+=getZeroString(tt)),ot+=rt;st=_e[et],rt=st+"",tt=LOG_BASE-rt.length,tt&&(ot+=getZeroString(tt))}else if(st===0)return"0";for(;st%10===0;)st/=10;return ot+st}var divide=function(){function _e(rt,nt){var ot,st=0,at=rt.length;for(rt=rt.slice();at--;)ot=rt[at]*nt+st,rt[at]=ot%BASE|0,st=ot/BASE|0;return st&&rt.unshift(st),rt}function et(rt,nt,ot,st){var at,ct;if(ot!=st)ct=ot>st?1:-1;else for(at=ct=0;at<ot;at++)if(rt[at]!=nt[at]){ct=rt[at]>nt[at]?1:-1;break}return ct}function tt(rt,nt,ot){for(var st=0;ot--;)rt[ot]-=st,st=rt[ot]<nt[ot]?1:0,rt[ot]=st*BASE+rt[ot]-nt[ot];for(;!rt[0]&&rt.length>1;)rt.shift()}return function(rt,nt,ot,st){var at,ct,lt,dt,ft,ht,pt,gt,mt,vt,yt,bt,xt,wt,At,St,$t,kt,Ct=rt.constructor,_t=rt.s==nt.s?1:-1,Tt=rt.d,jt=nt.d;if(!rt.s)return new Ct(rt);if(!nt.s)throw Error(decimalError+"Division by zero");for(ct=rt.e-nt.e,$t=jt.length,At=Tt.length,pt=new Ct(_t),gt=pt.d=[],lt=0;jt[lt]==(Tt[lt]||0);)++lt;if(jt[lt]>(Tt[lt]||0)&&--ct,ot==null?bt=ot=Ct.precision:st?bt=ot+(getBase10Exponent(rt)-getBase10Exponent(nt))+1:bt=ot,bt<0)return new Ct(0);if(bt=bt/LOG_BASE+2|0,lt=0,$t==1)for(dt=0,jt=jt[0],bt++;(lt<At||dt)&&bt--;lt++)xt=dt*BASE+(Tt[lt]||0),gt[lt]=xt/jt|0,dt=xt%jt|0;else{for(dt=BASE/(jt[0]+1)|0,dt>1&&(jt=_e(jt,dt),Tt=_e(Tt,dt),$t=jt.length,At=Tt.length),wt=$t,mt=Tt.slice(0,$t),vt=mt.length;vt<$t;)mt[vt++]=0;kt=jt.slice(),kt.unshift(0),St=jt[0],jt[1]>=BASE/2&&++St;do dt=0,at=et(jt,mt,$t,vt),at<0?(yt=mt[0],$t!=vt&&(yt=yt*BASE+(mt[1]||0)),dt=yt/St|0,dt>1?(dt>=BASE&&(dt=BASE-1),ft=_e(jt,dt),ht=ft.length,vt=mt.length,at=et(ft,mt,ht,vt),at==1&&(dt--,tt(ft,$t<ht?kt:jt,ht))):(dt==0&&(at=dt=1),ft=jt.slice()),ht=ft.length,ht<vt&&ft.unshift(0),tt(mt,ft,vt),at==-1&&(vt=mt.length,at=et(jt,mt,$t,vt),at<1&&(dt++,tt(mt,$t<vt?kt:jt,vt))),vt=mt.length):at===0&&(dt++,mt=[0]),gt[lt++]=dt,at&&mt[0]?mt[vt++]=Tt[wt]||0:(mt=[Tt[wt]],vt=1);while((wt++<At||mt[0]!==void 0)&&bt--)}return gt[0]||gt.shift(),pt.e=ct,round(pt,st?ot+getBase10Exponent(pt)+1:ot)}}();function exp(_e,et){var tt,rt,nt,ot,st,at,ct=0,lt=0,dt=_e.constructor,ft=dt.precision;if(getBase10Exponent(_e)>16)throw Error(exponentOutOfRange+getBase10Exponent(_e));if(!_e.s)return new dt(ONE);for(external=!1,at=ft,st=new dt(.03125);_e.abs().gte(.1);)_e=_e.times(st),lt+=5;for(rt=Math.log(mathpow(2,lt))/Math.LN10*2+5|0,at+=rt,tt=nt=ot=new dt(ONE),dt.precision=at;;){if(nt=round(nt.times(_e),at),tt=tt.times(++ct),st=ot.plus(divide(nt,tt,at)),digitsToString(st.d).slice(0,at)===digitsToString(ot.d).slice(0,at)){for(;lt--;)ot=round(ot.times(ot),at);return dt.precision=ft,et==null?(external=!0,round(ot,ft)):ot}ot=st}}function getBase10Exponent(_e){for(var et=_e.e*LOG_BASE,tt=_e.d[0];tt>=10;tt/=10)et++;return et}function getLn10(_e,et,tt){if(et>_e.LN10.sd())throw external=!0,tt&&(_e.precision=tt),Error(decimalError+"LN10 precision limit exceeded");return round(new _e(_e.LN10),et)}function getZeroString(_e){for(var et="";_e--;)et+="0";return et}function ln(_e,et){var tt,rt,nt,ot,st,at,ct,lt,dt,ft=1,ht=10,pt=_e,gt=pt.d,mt=pt.constructor,vt=mt.precision;if(pt.s<1)throw Error(decimalError+(pt.s?"NaN":"-Infinity"));if(pt.eq(ONE))return new mt(0);if(et==null?(external=!1,lt=vt):lt=et,pt.eq(10))return et==null&&(external=!0),getLn10(mt,lt);if(lt+=ht,mt.precision=lt,tt=digitsToString(gt),rt=tt.charAt(0),ot=getBase10Exponent(pt),Math.abs(ot)<15e14){for(;rt<7&&rt!=1||rt==1&&tt.charAt(1)>3;)pt=pt.times(_e),tt=digitsToString(pt.d),rt=tt.charAt(0),ft++;ot=getBase10Exponent(pt),rt>1?(pt=new mt("0."+tt),ot++):pt=new mt(rt+"."+tt.slice(1))}else return ct=getLn10(mt,lt+2,vt).times(ot+""),pt=ln(new mt(rt+"."+tt.slice(1)),lt-ht).plus(ct),mt.precision=vt,et==null?(external=!0,round(pt,vt)):pt;for(at=st=pt=divide(pt.minus(ONE),pt.plus(ONE),lt),dt=round(pt.times(pt),lt),nt=3;;){if(st=round(st.times(dt),lt),ct=at.plus(divide(st,new mt(nt),lt)),digitsToString(ct.d).slice(0,lt)===digitsToString(at.d).slice(0,lt))return at=at.times(2),ot!==0&&(at=at.plus(getLn10(mt,lt+2,vt).times(ot+""))),at=divide(at,new mt(ft),lt),mt.precision=vt,et==null?(external=!0,round(at,vt)):at;at=ct,nt+=2}}function parseDecimal(_e,et){var tt,rt,nt;for((tt=et.indexOf("."))>-1&&(et=et.replace(".","")),(rt=et.search(/e/i))>0?(tt<0&&(tt=rt),tt+=+et.slice(rt+1),et=et.substring(0,rt)):tt<0&&(tt=et.length),rt=0;et.charCodeAt(rt)===48;)++rt;for(nt=et.length;et.charCodeAt(nt-1)===48;)--nt;if(et=et.slice(rt,nt),et){if(nt-=rt,tt=tt-rt-1,_e.e=mathfloor(tt/LOG_BASE),_e.d=[],rt=(tt+1)%LOG_BASE,tt<0&&(rt+=LOG_BASE),rt<nt){for(rt&&_e.d.push(+et.slice(0,rt)),nt-=LOG_BASE;rt<nt;)_e.d.push(+et.slice(rt,rt+=LOG_BASE));et=et.slice(rt),rt=LOG_BASE-et.length}else rt-=nt;for(;rt--;)et+="0";if(_e.d.push(+et),external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+tt)}else _e.s=0,_e.e=0,_e.d=[0];return _e}function round(_e,et,tt){var rt,nt,ot,st,at,ct,lt,dt,ft=_e.d;for(st=1,ot=ft[0];ot>=10;ot/=10)st++;if(rt=et-st,rt<0)rt+=LOG_BASE,nt=et,lt=ft[dt=0];else{if(dt=Math.ceil((rt+1)/LOG_BASE),ot=ft.length,dt>=ot)return _e;for(lt=ot=ft[dt],st=1;ot>=10;ot/=10)st++;rt%=LOG_BASE,nt=rt-LOG_BASE+st}if(tt!==void 0&&(ot=mathpow(10,st-nt-1),at=lt/ot%10|0,ct=et<0||ft[dt+1]!==void 0||lt%ot,ct=tt<4?(at||ct)&&(tt==0||tt==(_e.s<0?3:2)):at>5||at==5&&(tt==4||ct||tt==6&&(rt>0?nt>0?lt/mathpow(10,st-nt):0:ft[dt-1])%10&1||tt==(_e.s<0?8:7))),et<1||!ft[0])return ct?(ot=getBase10Exponent(_e),ft.length=1,et=et-ot-1,ft[0]=mathpow(10,(LOG_BASE-et%LOG_BASE)%LOG_BASE),_e.e=mathfloor(-et/LOG_BASE)||0):(ft.length=1,ft[0]=_e.e=_e.s=0),_e;if(rt==0?(ft.length=dt,ot=1,dt--):(ft.length=dt+1,ot=mathpow(10,LOG_BASE-rt),ft[dt]=nt>0?(lt/mathpow(10,st-nt)%mathpow(10,nt)|0)*ot:0),ct)for(;;)if(dt==0){(ft[0]+=ot)==BASE&&(ft[0]=1,++_e.e);break}else{if(ft[dt]+=ot,ft[dt]!=BASE)break;ft[dt--]=0,ot=1}for(rt=ft.length;ft[--rt]===0;)ft.pop();if(external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(_e));return _e}function subtract(_e,et){var tt,rt,nt,ot,st,at,ct,lt,dt,ft,ht=_e.constructor,pt=ht.precision;if(!_e.s||!et.s)return et.s?et.s=-et.s:et=new ht(_e),external?round(et,pt):et;if(ct=_e.d,ft=et.d,rt=et.e,lt=_e.e,ct=ct.slice(),st=lt-rt,st){for(dt=st<0,dt?(tt=ct,st=-st,at=ft.length):(tt=ft,rt=lt,at=ct.length),nt=Math.max(Math.ceil(pt/LOG_BASE),at)+2,st>nt&&(st=nt,tt.length=1),tt.reverse(),nt=st;nt--;)tt.push(0);tt.reverse()}else{for(nt=ct.length,at=ft.length,dt=nt<at,dt&&(at=nt),nt=0;nt<at;nt++)if(ct[nt]!=ft[nt]){dt=ct[nt]<ft[nt];break}st=0}for(dt&&(tt=ct,ct=ft,ft=tt,et.s=-et.s),at=ct.length,nt=ft.length-at;nt>0;--nt)ct[at++]=0;for(nt=ft.length;nt>st;){if(ct[--nt]<ft[nt]){for(ot=nt;ot&&ct[--ot]===0;)ct[ot]=BASE-1;--ct[ot],ct[nt]+=BASE}ct[nt]-=ft[nt]}for(;ct[--at]===0;)ct.pop();for(;ct[0]===0;ct.shift())--rt;return ct[0]?(et.d=ct,et.e=rt,external?round(et,pt):et):new ht(0)}function toString$3(_e,et,tt){var rt,nt=getBase10Exponent(_e),ot=digitsToString(_e.d),st=ot.length;return et?(tt&&(rt=tt-st)>0?ot=ot.charAt(0)+"."+ot.slice(1)+getZeroString(rt):st>1&&(ot=ot.charAt(0)+"."+ot.slice(1)),ot=ot+(nt<0?"e":"e+")+nt):nt<0?(ot="0."+getZeroString(-nt-1)+ot,tt&&(rt=tt-st)>0&&(ot+=getZeroString(rt))):nt>=st?(ot+=getZeroString(nt+1-st),tt&&(rt=tt-nt-1)>0&&(ot=ot+"."+getZeroString(rt))):((rt=nt+1)<st&&(ot=ot.slice(0,rt)+"."+ot.slice(rt)),tt&&(rt=tt-st)>0&&(nt+1===st&&(ot+="."),ot+=getZeroString(rt))),_e.s<0?"-"+ot:ot}function truncate$1(_e,et){if(_e.length>et)return _e.length=et,!0}function clone(_e){var et,tt,rt;function nt(ot){var st=this;if(!(st instanceof nt))return new nt(ot);if(st.constructor=nt,ot instanceof nt){st.s=ot.s,st.e=ot.e,st.d=(ot=ot.d)?ot.slice():ot;return}if(typeof ot=="number"){if(ot*0!==0)throw Error(invalidArgument+ot);if(ot>0)st.s=1;else if(ot<0)ot=-ot,st.s=-1;else{st.s=0,st.e=0,st.d=[0];return}if(ot===~~ot&&ot<1e7){st.e=0,st.d=[ot];return}return parseDecimal(st,ot.toString())}else if(typeof ot!="string")throw Error(invalidArgument+ot);if(ot.charCodeAt(0)===45?(ot=ot.slice(1),st.s=-1):st.s=1,isDecimal.test(ot))parseDecimal(st,ot);else throw Error(invalidArgument+ot)}if(nt.prototype=P,nt.ROUND_UP=0,nt.ROUND_DOWN=1,nt.ROUND_CEIL=2,nt.ROUND_FLOOR=3,nt.ROUND_HALF_UP=4,nt.ROUND_HALF_DOWN=5,nt.ROUND_HALF_EVEN=6,nt.ROUND_HALF_CEIL=7,nt.ROUND_HALF_FLOOR=8,nt.clone=clone,nt.config=nt.set=config,_e===void 0&&(_e={}),_e)for(rt=["precision","rounding","toExpNeg","toExpPos","LN10"],et=0;et<rt.length;)_e.hasOwnProperty(tt=rt[et++])||(_e[tt]=this[tt]);return nt.config(_e),nt}function config(_e){if(!_e||typeof _e!="object")throw Error(decimalError+"Object expected");var et,tt,rt,nt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(et=0;et<nt.length;et+=3)if((rt=_e[tt=nt[et]])!==void 0)if(mathfloor(rt)===rt&&rt>=nt[et+1]&&rt<=nt[et+2])this[tt]=rt;else throw Error(invalidArgument+tt+": "+rt);if((rt=_e[tt="LN10"])!==void 0)if(rt==Math.LN10)this[tt]=new this(rt);else throw Error(invalidArgument+tt+": "+rt);return this}var Decimal=clone(defaults$2);ONE=new Decimal(1);const Decimal$1=Decimal;var identity$1=_e=>_e,PLACE_HOLDER={},isPlaceHolder=_e=>_e===PLACE_HOLDER,curry0=_e=>function et(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?et:_e(...arguments)},curryN=(_e,et)=>_e===1?et:curry0(function(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var ot=rt.filter(st=>st!==PLACE_HOLDER).length;return ot>=_e?et(...rt):curryN(_e-ot,curry0(function(){for(var st=arguments.length,at=new Array(st),ct=0;ct<st;ct++)at[ct]=arguments[ct];var lt=rt.map(dt=>isPlaceHolder(dt)?at.shift():dt);return et(...lt,...at)}))}),curry=_e=>curryN(_e.length,_e),range=(_e,et)=>{for(var tt=[],rt=_e;rt<et;++rt)tt[rt-_e]=rt;return tt},map=curry((_e,et)=>Array.isArray(et)?et.map(_e):Object.keys(et).map(tt=>et[tt]).map(_e)),compose=function(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];if(!tt.length)return identity$1;var nt=tt.reverse(),ot=nt[0],st=nt.slice(1);return function(){return st.reduce((at,ct)=>ct(at),ot(...arguments))}},reverse=_e=>Array.isArray(_e)?_e.reverse():_e.split("").reverse().join(""),memoize=_e=>{var et=null,tt=null;return function(){for(var rt=arguments.length,nt=new Array(rt),ot=0;ot<rt;ot++)nt[ot]=arguments[ot];return et&&nt.every((st,at)=>{var ct;return st===((ct=et)===null||ct===void 0?void 0:ct[at])})||(et=nt,tt=_e(...nt)),tt}};function getDigitCount(_e){var et;return _e===0?et=1:et=Math.floor(new Decimal$1(_e).abs().log(10).toNumber())+1,et}function rangeStep(_e,et,tt){for(var rt=new Decimal$1(_e),nt=0,ot=[];rt.lt(et)&&nt<1e5;)ot.push(rt.toNumber()),rt=rt.add(tt),nt++;return ot}curry((_e,et,tt)=>{var rt=+_e,nt=+et;return rt+tt*(nt-rt)});curry((_e,et,tt)=>{var rt=et-+_e;return rt=rt||1/0,(tt-_e)/rt});curry((_e,et,tt)=>{var rt=et-+_e;return rt=rt||1/0,Math.max(0,Math.min(1,(tt-_e)/rt))});var getValidInterval=_e=>{var[et,tt]=_e,[rt,nt]=[et,tt];return et>tt&&([rt,nt]=[tt,et]),[rt,nt]},getFormatStep=(_e,et,tt)=>{if(_e.lte(0))return new Decimal$1(0);var rt=getDigitCount(_e.toNumber()),nt=new Decimal$1(10).pow(rt),ot=_e.div(nt),st=rt!==1?.05:.1,at=new Decimal$1(Math.ceil(ot.div(st).toNumber())).add(tt).mul(st),ct=at.mul(nt);return et?new Decimal$1(ct.toNumber()):new Decimal$1(Math.ceil(ct.toNumber()))},getTickOfSingleValue=(_e,et,tt)=>{var rt=new Decimal$1(1),nt=new Decimal$1(_e);if(!nt.isint()&&tt){var ot=Math.abs(_e);ot<1?(rt=new Decimal$1(10).pow(getDigitCount(_e)-1),nt=new Decimal$1(Math.floor(nt.div(rt).toNumber())).mul(rt)):ot>1&&(nt=new Decimal$1(Math.floor(_e)))}else _e===0?nt=new Decimal$1(Math.floor((et-1)/2)):tt||(nt=new Decimal$1(Math.floor(_e)));var st=Math.floor((et-1)/2),at=compose(map(ct=>nt.add(new Decimal$1(ct-st).mul(rt)).toNumber()),range);return at(0,et)},_calculateStep=function(et,tt,rt,nt){var ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((tt-et)/(rt-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var st=getFormatStep(new Decimal$1(tt).sub(et).div(rt-1),nt,ot),at;et<=0&&tt>=0?at=new Decimal$1(0):(at=new Decimal$1(et).add(tt).div(2),at=at.sub(new Decimal$1(at).mod(st)));var ct=Math.ceil(at.sub(et).div(st).toNumber()),lt=Math.ceil(new Decimal$1(tt).sub(at).div(st).toNumber()),dt=ct+lt+1;return dt>rt?_calculateStep(et,tt,rt,nt,ot+1):(dt<rt&&(lt=tt>0?lt+(rt-dt):lt,ct=tt>0?ct:ct+(rt-dt)),{step:st,tickMin:at.sub(new Decimal$1(ct).mul(st)),tickMax:at.add(new Decimal$1(lt).mul(st))})};function getNiceTickValuesFn(_e){var[et,tt]=_e,rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,ot=Math.max(rt,2),[st,at]=getValidInterval([et,tt]);if(st===-1/0||at===1/0){var ct=at===1/0?[st,...range(0,rt-1).map(()=>1/0)]:[...range(0,rt-1).map(()=>-1/0),at];return et>tt?reverse(ct):ct}if(st===at)return getTickOfSingleValue(st,rt,nt);var{step:lt,tickMin:dt,tickMax:ft}=_calculateStep(st,at,ot,nt,0),ht=rangeStep(dt,ft.add(new Decimal$1(.1).mul(lt)),lt);return et>tt?reverse(ht):ht}function getTickValuesFixedDomainFn(_e,et){var[tt,rt]=_e,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[ot,st]=getValidInterval([tt,rt]);if(ot===-1/0||st===1/0)return[tt,rt];if(ot===st)return[ot];var at=Math.max(et,2),ct=getFormatStep(new Decimal$1(st).sub(ot).div(at-1),nt,0),lt=[...rangeStep(new Decimal$1(ot),new Decimal$1(st),ct),st];return nt===!1&&(lt=lt.map(dt=>Math.round(dt))),tt>rt?reverse(lt):lt}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectBarCategoryGap=_e=>_e.rootProps.barCategoryGap,selectStackOffsetType=_e=>_e.rootProps.stackOffset,selectChartName=_e=>_e.options.chartName,selectSyncId=_e=>_e.rootProps.syncId,selectSyncMethod=_e=>_e.rootProps.syncMethod,selectEventEmitter=_e=>_e.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(_e,et)=>{if(!(!_e||!et))return _e!=null&&_e.reversed?[et[1],et[0]]:et},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(_e,et)=>_e.polarAxis.angleAxis[et]!=null?_e.polarAxis.angleAxis[et]:_e.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(_e,et)=>_e.polarAxis.radiusAxis[et]!=null?_e.polarAxis.radiusAxis[et]:_e.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=_e=>_e.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(_e,et)=>{if(_e!=null)return getPercentValue(_e.innerRadius,et,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(_e,et)=>{if(_e!=null)return getPercentValue(_e.outerRadius,et,et*.8)}),combineAngleAxisRange=_e=>{if(_e==null)return[0,0];var{startAngle:et,endAngle:tt}=_e;return[et,tt]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(_e,et,tt)=>{if(!(_e==null||et==null||tt==null))return[et,tt]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(_e,et,tt,rt,nt,ot)=>{if(!(_e!=="centric"&&_e!=="radial"||et==null||tt==null||rt==null)){var{cx:st,cy:at,startAngle:ct,endAngle:lt}=et;return{cx:getPercentValue(st,nt,nt/2),cy:getPercentValue(at,ot,ot/2),innerRadius:tt,outerRadius:rt,startAngle:ct,endAngle:lt,clockWise:!1}}}),pickAxisType=(_e,et)=>et,pickAxisId=(_e,et,tt)=>tt;function getStackSeriesIdentifier(_e){return _e==null?void 0:_e.id}var selectTooltipAxisType=_e=>{var et=selectChartLayout(_e);return et==="horizontal"?"xAxis":et==="vertical"?"yAxis":et==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=_e=>_e.tooltip.settings.axisId,selectTooltipAxis=_e=>{var et=selectTooltipAxisType(_e),tt=selectTooltipAxisId(_e);return selectAxisSettings(_e,et,tt)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],_e=>_e==null?void 0:_e.dataKey);function combineDisplayedStackedData(_e,et,tt){var{chartData:rt=[]}=et,{allowDuplicatedCategory:nt,dataKey:ot}=tt,st=new Map;return _e.forEach(at=>{var ct,lt=(ct=at.data)!==null&&ct!==void 0?ct:rt;if(!(lt==null||lt.length===0)){var dt=getStackSeriesIdentifier(at);lt.forEach((ft,ht)=>{var pt=ot==null||nt?ht:String(getValueByDataKey(ft,ot,null)),gt=getValueByDataKey(ft,at.dataKey,0),mt;st.has(pt)?mt=st.get(pt):mt={},Object.assign(mt,{[dt]:gt}),st.set(pt,mt)})}}),Array.from(st.values())}function isStacked(_e){return _e.stackId!=null&&_e.dataKey!=null}var numberDomainEqualityCheck=(_e,et)=>_e===et?!0:_e==null||et==null?!1:_e[0]===et[0]&&_e[1]===et[1];function arrayEqualityCheck(_e,et){return Array.isArray(_e)&&Array.isArray(et)&&_e.length===0&&et.length===0?!0:_e===et}function ownKeys$f(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$f(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$f(Object(tt),!0).forEach(function(rt){_defineProperty$h(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$f(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$h(_e,et,tt){return(et=_toPropertyKey$h(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$h(_e){var et=_toPrimitive$h(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$h(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(_e,et)=>_e.cartesianAxis.xAxis[et],selectXAxisSettings=(_e,et)=>{var tt=selectXAxisSettingsNoDefaults(_e,et);return tt??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(_e,et)=>_e.cartesianAxis.yAxis[et],selectYAxisSettings=(_e,et)=>{var tt=selectYAxisSettingsNoDefaults(_e,et);return tt??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(_e,et)=>{var tt=_e.cartesianAxis.zAxis[et];return tt??implicitZAxis},selectBaseAxis=(_e,et,tt)=>{switch(et){case"xAxis":return selectXAxisSettings(_e,tt);case"yAxis":return selectYAxisSettings(_e,tt);case"zAxis":return selectZAxisSettings(_e,tt);case"angleAxis":return selectAngleAxis(_e,tt);case"radiusAxis":return selectRadiusAxis(_e,tt);default:throw new Error("Unexpected axis type: ".concat(et))}},selectCartesianAxisSettings=(_e,et,tt)=>{switch(et){case"xAxis":return selectXAxisSettings(_e,tt);case"yAxis":return selectYAxisSettings(_e,tt);default:throw new Error("Unexpected axis type: ".concat(et))}},selectAxisSettings=(_e,et,tt)=>{switch(et){case"xAxis":return selectXAxisSettings(_e,tt);case"yAxis":return selectYAxisSettings(_e,tt);case"angleAxis":return selectAngleAxis(_e,tt);case"radiusAxis":return selectRadiusAxis(_e,tt);default:throw new Error("Unexpected axis type: ".concat(et))}},selectHasBar=_e=>_e.graphicalItems.cartesianItems.some(et=>et.type==="bar")||_e.graphicalItems.polarItems.some(et=>et.type==="radialBar");function itemAxisPredicate(_e,et){return tt=>{switch(_e){case"xAxis":return"xAxisId"in tt&&tt.xAxisId===et;case"yAxis":return"yAxisId"in tt&&tt.yAxisId===et;case"zAxis":return"zAxisId"in tt&&tt.zAxisId===et;case"angleAxis":return"angleAxisId"in tt&&tt.angleAxisId===et;case"radiusAxis":return"radiusAxisId"in tt&&tt.radiusAxisId===et;default:return!1}}}var selectUnfilteredCartesianItems=_e=>_e.graphicalItems.cartesianItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(_e,et,tt)=>_e.filter(tt).filter(rt=>(et==null?void 0:et.includeHidden)===!0?!0:!rt.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],_e=>_e.filter(et=>et.type==="area"||et.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=_e=>_e.filter(et=>!("stackId"in et)||et.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=_e=>_e.map(et=>et.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),combineDisplayedData=(_e,et)=>{var{chartData:tt=[],dataStartIndex:rt,dataEndIndex:nt}=et;return _e.length>0?_e:tt.slice(rt,nt+1)},selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(_e,et,tt)=>(et==null?void 0:et.dataKey)!=null?_e.map(rt=>({value:getValueByDataKey(rt,et.dataKey)})):tt.length>0?tt.map(rt=>rt.dataKey).flatMap(rt=>_e.map(nt=>({value:getValueByDataKey(nt,rt)}))):_e.map(rt=>({value:rt})),selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(_e,et){switch(_e){case"xAxis":return et.direction==="x";case"yAxis":return et.direction==="y";default:return!1}}function makeNumber(_e){if(isNumOrStr(_e)||_e instanceof Date){var et=Number(_e);if(isWellBehavedNumber(et))return et}}function makeDomain(_e){if(Array.isArray(_e)){var et=[makeNumber(_e[0]),makeNumber(_e[1])];return isWellFormedNumberDomain(et)?et:void 0}var tt=makeNumber(_e);if(tt!=null)return[tt,tt]}function onlyAllowNumbers(_e){return _e.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(_e,et,tt){return!tt||typeof et!="number"||isNan(et)?[]:tt.length?onlyAllowNumbers(tt.flatMap(rt=>{var nt=getValueByDataKey(_e,rt.dataKey),ot,st;if(Array.isArray(nt)?[ot,st]=nt:ot=st=nt,!(!isWellBehavedNumber(ot)||!isWellBehavedNumber(st)))return[et-ot,et+st]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(_e,et,tt)=>{var rt={},nt=et.reduce((ot,st)=>(st.stackId==null||(ot[st.stackId]==null&&(ot[st.stackId]=[]),ot[st.stackId].push(st)),ot),rt);return Object.fromEntries(Object.entries(nt).map(ot=>{var[st,at]=ot,ct=at.map(getStackSeriesIdentifier);return[st,{stackedData:getStackedData(_e,ct,tt),graphicalItems:at}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(_e,et,tt,rt)=>{var{dataStartIndex:nt,dataEndIndex:ot}=et;if(rt==null&&tt!=="zAxis"){var st=getDomainOfStackGroups(_e,nt,ot);if(!(st!=null&&st[0]===0&&st[1]===0))return st}},selectAllowsDataOverflow=createSelector([selectBaseAxis],_e=>_e.allowDataOverflow),getDomainDefinition=_e=>{var et;if(_e==null||!("domain"in _e))return defaultNumericDomain;if(_e.domain!=null)return _e.domain;if(_e.ticks!=null){if(_e.type==="number"){var tt=onlyAllowNumbers(_e.ticks);return[Math.min(...tt),Math.max(...tt)]}if(_e.type==="category")return _e.ticks.map(String)}return(et=_e==null?void 0:_e.domain)!==null&&et!==void 0?et:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=_e=>_e.errorBars,combineRelevantErrorBarSettings=(_e,et,tt)=>_e.flatMap(rt=>et[rt.id]).filter(Boolean).filter(rt=>isErrorBarRelevantForAxisType(tt,rt)),mergeDomains=function(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];var nt=tt.filter(Boolean);if(nt.length!==0){var ot=nt.flat(),st=Math.min(...ot),at=Math.max(...ot);return[st,at]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(_e,et,tt,rt,nt)=>{var ot,st;if(tt.length>0&&_e.forEach(at=>{tt.forEach(ct=>{var lt,dt,ft=(lt=rt[ct.id])===null||lt===void 0?void 0:lt.filter(yt=>isErrorBarRelevantForAxisType(nt,yt)),ht=getValueByDataKey(at,(dt=et.dataKey)!==null&&dt!==void 0?dt:ct.dataKey),pt=getErrorDomainByDataKey(at,ht,ft);if(pt.length>=2){var gt=Math.min(...pt),mt=Math.max(...pt);(ot==null||gt<ot)&&(ot=gt),(st==null||mt>st)&&(st=mt)}var vt=makeDomain(ht);vt!=null&&(ot=ot==null?vt[0]:Math.min(ot,vt[0]),st=st==null?vt[1]:Math.max(st,vt[1]))})}),(et==null?void 0:et.dataKey)!=null&&_e.forEach(at=>{var ct=makeDomain(getValueByDataKey(at,et.dataKey));ct!=null&&(ot=ot==null?ct[0]:Math.min(ot,ct[0]),st=st==null?ct[1]:Math.max(st,ct[1]))}),isWellBehavedNumber(ot)&&isWellBehavedNumber(st))return[ot,st]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(_e){var{value:et}=_e;if(isNumOrStr(et)||et instanceof Date)return et}var computeDomainOfTypeCategory=(_e,et,tt)=>{var rt=_e.map(onlyAllowNumbersAndStringsAndDates).filter(nt=>nt!=null);return tt&&(et.dataKey==null||et.allowDuplicatedCategory&&hasDuplicate(rt))?range$3(0,_e.length):et.allowDuplicatedCategory?rt:Array.from(new Set(rt))},selectReferenceDots=_e=>_e.referenceElements.dots,filterReferenceElements=(_e,et,tt)=>_e.filter(rt=>rt.ifOverflow==="extendDomain").filter(rt=>et==="xAxis"?rt.xAxisId===tt:rt.yAxisId===tt),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=_e=>_e.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=_e=>_e.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(_e,et)=>{var tt=onlyAllowNumbers(_e.map(rt=>et==="xAxis"?rt.x:rt.y));if(tt.length!==0)return[Math.min(...tt),Math.max(...tt)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(_e,et)=>{var tt=onlyAllowNumbers(_e.flatMap(rt=>[et==="xAxis"?rt.x1:rt.y1,et==="xAxis"?rt.x2:rt.y2]));if(tt.length!==0)return[Math.min(...tt),Math.max(...tt)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(_e,et)=>{var tt=onlyAllowNumbers(_e.map(rt=>et==="xAxis"?rt.x:rt.y));if(tt.length!==0)return[Math.min(...tt),Math.max(...tt)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(_e,et,tt)=>mergeDomains(_e,tt,et)),combineNumericalDomain=(_e,et,tt,rt,nt,ot,st,at)=>{if(tt!=null)return tt;var ct=st==="vertical"&&at==="xAxis"||st==="horizontal"&&at==="yAxis",lt=ct?mergeDomains(rt,ot,nt):mergeDomains(ot,nt);return parseNumericalUserDomain(et,lt,_e.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(_e,et,tt,rt,nt,ot,st)=>{if(!((_e==null||tt==null||tt.length===0)&&st===void 0)){var{dataKey:at,type:ct}=_e,lt=isCategoricalAxis(et,ot);return lt&&at==null?range$3(0,tt.length):ct==="category"?computeDomainOfTypeCategory(rt,_e,lt):nt==="expand"?expandDomain:st}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(_e,et,tt,rt,nt)=>{if(_e!=null){var{scale:ot,type:st}=_e;if(ot==="auto")return et==="radial"&&nt==="radiusAxis"?"band":et==="radial"&&nt==="angleAxis"?"linear":st==="category"&&rt&&(rt.indexOf("LineChart")>=0||rt.indexOf("AreaChart")>=0||rt.indexOf("ComposedChart")>=0&&!tt)?"point":st==="category"?"band":"linear";if(typeof ot=="string"){var at="scale".concat(upperFirst(ot));return at in d3Scales?at:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(_e){if(_e!=null){if(_e in d3Scales)return d3Scales[_e]();var et="scale".concat(upperFirst(_e));if(et in d3Scales)return d3Scales[et]()}}function combineScaleFunction(_e,et,tt,rt){if(!(tt==null||rt==null)){if(typeof _e.scale=="function")return _e.scale.copy().domain(tt).range(rt);var nt=getD3ScaleFromType(et);if(nt!=null){var ot=nt.domain(tt).range(rt);return checkDomainOfScale(ot),ot}}}var combineNiceTicks=(_e,et,tt)=>{var rt=getDomainDefinition(et);if(!(tt!=="auto"&&tt!=="linear")){if(et!=null&&et.tickCount&&Array.isArray(rt)&&(rt[0]==="auto"||rt[1]==="auto")&&isWellFormedNumberDomain(_e))return getNiceTickValues(_e,et.tickCount,et.allowDecimals);if(et!=null&&et.tickCount&&et.type==="number"&&isWellFormedNumberDomain(_e))return getTickValuesFixedDomain(_e,et.tickCount,et.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(_e,et,tt,rt)=>{if(rt!=="angleAxis"&&(_e==null?void 0:_e.type)==="number"&&isWellFormedNumberDomain(et)&&Array.isArray(tt)&&tt.length>0){var nt=et[0],ot=tt[0],st=et[1],at=tt[tt.length-1];return[Math.min(nt,ot),Math.max(st,at)]}return et},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(_e,et)=>{if(!(!et||et.type!=="number")){var tt=1/0,rt=Array.from(onlyAllowNumbers(_e.map(at=>at.value))).sort((at,ct)=>at-ct);if(rt.length<2)return 1/0;var nt=rt[rt.length-1]-rt[0];if(nt===0)return 1/0;for(var ot=0;ot<rt.length-1;ot++){var st=rt[ot+1]-rt[ot];tt=Math.min(tt,st)}return tt/nt}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(_e,et,tt,rt)=>rt,(_e,et,tt,rt,nt)=>{if(!isWellBehavedNumber(_e))return 0;var ot=et==="vertical"?rt.height:rt.width;if(nt==="gap")return _e*ot/2;if(nt==="no-gap"){var st=getPercentValue(tt,_e*ot),at=_e*ot/2;return at-st-(at-st)/ot*st}return 0}),selectCalculatedXAxisPadding=(_e,et)=>{var tt=selectXAxisSettings(_e,et);return tt==null||typeof tt.padding!="string"?0:selectCalculatedPadding(_e,"xAxis",et,tt.padding)},selectCalculatedYAxisPadding=(_e,et)=>{var tt=selectYAxisSettings(_e,et);return tt==null||typeof tt.padding!="string"?0:selectCalculatedPadding(_e,"yAxis",et,tt.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(_e,et)=>{var tt,rt;if(_e==null)return{left:0,right:0};var{padding:nt}=_e;return typeof nt=="string"?{left:et,right:et}:{left:((tt=nt.left)!==null&&tt!==void 0?tt:0)+et,right:((rt=nt.right)!==null&&rt!==void 0?rt:0)+et}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(_e,et)=>{var tt,rt;if(_e==null)return{top:0,bottom:0};var{padding:nt}=_e;return typeof nt=="string"?{top:et,bottom:et}:{top:((tt=nt.top)!==null&&tt!==void 0?tt:0)+et,bottom:((rt=nt.bottom)!==null&&rt!==void 0?rt:0)+et}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(_e,et,tt)=>tt],(_e,et,tt,rt,nt)=>{var{padding:ot}=rt;return nt?[ot.left,tt.width-ot.right]:[_e.left+et.left,_e.left+_e.width-et.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(_e,et,tt)=>tt],(_e,et,tt,rt,nt,ot)=>{var{padding:st}=nt;return ot?[rt.height-st.bottom,st.top]:et==="horizontal"?[_e.top+_e.height-tt.bottom,_e.top+tt.top]:[_e.top+tt.top,_e.top+_e.height-tt.bottom]}),selectAxisRange=(_e,et,tt,rt)=>{var nt;switch(et){case"xAxis":return combineXAxisRange(_e,tt,rt);case"yAxis":return combineYAxisRange(_e,tt,rt);case"zAxis":return(nt=selectZAxisSettings(_e,tt))===null||nt===void 0?void 0:nt.range;case"angleAxis":return selectAngleAxisRange(_e);case"radiusAxis":return selectRadiusAxisRange(_e,tt);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(_e,et){return _e.id<et.id?-1:_e.id>et.id?1:0}var pickAxisOrientation=(_e,et)=>et,pickMirror=(_e,et,tt)=>tt,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(_e,et,tt)=>_e.filter(rt=>rt.orientation===et).filter(rt=>rt.mirror===tt).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(_e,et,tt)=>_e.filter(rt=>rt.orientation===et).filter(rt=>rt.mirror===tt).sort(compareIds)),getXAxisSize=(_e,et)=>({width:_e.width,height:et.height}),getYAxisSize=(_e,et)=>{var tt=typeof et.width=="number"?et.width:DEFAULT_Y_AXIS_WIDTH;return{width:tt,height:_e.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(_e,et,tt)=>{switch(et){case"top":return _e.top;case"bottom":return tt-_e.bottom;default:return 0}},combineYAxisPositionStartingPoint=(_e,et,tt)=>{switch(et){case"left":return _e.left;case"right":return tt-_e.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(_e,et,tt,rt,nt)=>{var ot={},st;return tt.forEach(at=>{var ct=getXAxisSize(et,at);st==null&&(st=combineXAxisPositionStartingPoint(et,rt,_e));var lt=rt==="top"&&!nt||rt==="bottom"&&nt;ot[at.id]=st-Number(lt)*ct.height,st+=(lt?-1:1)*ct.height}),ot}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(_e,et,tt,rt,nt)=>{var ot={},st;return tt.forEach(at=>{var ct=getYAxisSize(et,at);st==null&&(st=combineYAxisPositionStartingPoint(et,rt,_e));var lt=rt==="left"&&!nt||rt==="right"&&nt;ot[at.id]=st-Number(lt)*ct.width,st+=(lt?-1:1)*ct.width}),ot}),selectXAxisOffsetSteps=(_e,et)=>{var tt=selectXAxisSettings(_e,et);if(tt!=null)return selectAllXAxesOffsetSteps(_e,tt.orientation,tt.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(_e,et)=>et],(_e,et,tt,rt)=>{if(et!=null){var nt=tt==null?void 0:tt[rt];return nt==null?{x:_e.left,y:0}:{x:_e.left,y:nt}}}),selectYAxisOffsetSteps=(_e,et)=>{var tt=selectYAxisSettings(_e,et);if(tt!=null)return selectAllYAxesOffsetSteps(_e,tt.orientation,tt.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(_e,et)=>et],(_e,et,tt,rt)=>{if(et!=null){var nt=tt==null?void 0:tt[rt];return nt==null?{x:0,y:_e.top}:{x:nt,y:_e.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(_e,et)=>{var tt=typeof et.width=="number"?et.width:DEFAULT_Y_AXIS_WIDTH;return{width:tt,height:_e.height}}),combineDuplicateDomain=(_e,et,tt,rt)=>{if(tt!=null){var{allowDuplicatedCategory:nt,type:ot,dataKey:st}=tt,at=isCategoricalAxis(_e,rt),ct=et.map(lt=>lt.value);if(st&&at&&ot==="category"&&nt&&hasDuplicate(ct))return ct}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(_e,et,tt,rt)=>{if(!(tt==null||tt.dataKey==null)){var{type:nt,scale:ot}=tt,st=isCategoricalAxis(_e,rt);if(st&&(nt==="number"||ot!=="auto"))return et.map(at=>at.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(_e,et,tt,rt,nt,ot,st,at,ct)=>{if(et==null)return null;var lt=isCategoricalAxis(_e,ct);return{angle:et.angle,interval:et.interval,minTickGap:et.minTickGap,orientation:et.orientation,tick:et.tick,tickCount:et.tickCount,tickFormatter:et.tickFormatter,ticks:et.ticks,type:et.type,unit:et.unit,axisType:ct,categoricalDomain:ot,duplicateDomain:nt,isCategorical:lt,niceTicks:at,range:st,realScaleType:tt,scale:rt}}),combineAxisTicks=(_e,et,tt,rt,nt,ot,st,at,ct)=>{if(!(et==null||rt==null)){var lt=isCategoricalAxis(_e,ct),{type:dt,ticks:ft,tickCount:ht}=et,pt=tt==="scaleBand"&&typeof rt.bandwidth=="function"?rt.bandwidth()/2:2,gt=dt==="category"&&rt.bandwidth?rt.bandwidth()/pt:0;gt=ct==="angleAxis"&&ot!=null&&ot.length>=2?mathSign(ot[0]-ot[1])*2*gt:gt;var mt=ft||nt;if(mt){var vt=mt.map((yt,bt)=>{var xt=st?st.indexOf(yt):yt;return{index:bt,coordinate:rt(xt)+gt,value:yt,offset:gt}});return vt.filter(yt=>!isNan(yt.coordinate))}return lt&&at?at.map((yt,bt)=>({coordinate:rt(yt)+gt,value:yt,index:bt,offset:gt})):rt.ticks?rt.ticks(ht).map(yt=>({coordinate:rt(yt)+gt,value:yt,offset:gt})):rt.domain().map((yt,bt)=>({coordinate:rt(yt)+gt,value:st?st[yt]:yt,index:bt,offset:gt}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(_e,et,tt,rt,nt,ot,st)=>{if(!(et==null||tt==null||rt==null||rt[0]===rt[1])){var at=isCategoricalAxis(_e,st),{tickCount:ct}=et,lt=0;return lt=st==="angleAxis"&&(rt==null?void 0:rt.length)>=2?mathSign(rt[0]-rt[1])*2*lt:lt,at&&ot?ot.map((dt,ft)=>({coordinate:tt(dt)+lt,value:dt,index:ft,offset:lt})):tt.ticks?tt.ticks(ct).map(dt=>({coordinate:tt(dt)+lt,value:dt,offset:lt})):tt.domain().map((dt,ft)=>({coordinate:tt(dt)+lt,value:nt?nt[dt]:dt,index:ft,offset:lt}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(_e,et)=>{if(!(_e==null||et==null))return _objectSpread$f(_objectSpread$f({},_e),{},{scale:et})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((_e,et,tt)=>selectZAxisSettings(_e,tt),selectZAxisScale,(_e,et)=>{if(!(_e==null||et==null))return _objectSpread$f(_objectSpread$f({},_e),{},{scale:et})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(_e,et,tt)=>{switch(_e){case"horizontal":return et.some(rt=>rt.reversed)?"right-to-left":"left-to-right";case"vertical":return tt.some(rt=>rt.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=_e=>_e.options.defaultTooltipEventType,selectValidateTooltipEventTypes=_e=>_e.options.validateTooltipEventTypes;function combineTooltipEventType(_e,et,tt){if(_e==null)return et;var rt=_e?"axis":"item";return tt==null?et:tt.includes(rt)?rt:et}function selectTooltipEventType$1(_e,et){var tt=selectDefaultTooltipEventType(_e),rt=selectValidateTooltipEventTypes(_e);return combineTooltipEventType(et,tt,rt)}function useTooltipEventType(_e){return useAppSelector(et=>selectTooltipEventType$1(et,_e))}var combineActiveLabel=(_e,et)=>{var tt,rt=Number(et);if(!(isNan(rt)||et==null))return rt>=0?_e==null||(tt=_e[rt])===null||tt===void 0?void 0:tt.value:void 0},selectTooltipSettings=_e=>_e.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings:{reducer(_e,et){_e.tooltipItemPayloads.push(et.payload)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(_e,et){var tt=current(_e).tooltipItemPayloads.indexOf(et.payload);tt>-1&&_e.tooltipItemPayloads.splice(tt,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(_e,et){_e.settings=et.payload},setActiveMouseOverItemIndex(_e,et){_e.syncInteraction.active=!1,_e.keyboardInteraction.active=!1,_e.itemInteraction.hover.active=!0,_e.itemInteraction.hover.index=et.payload.activeIndex,_e.itemInteraction.hover.dataKey=et.payload.activeDataKey,_e.itemInteraction.hover.coordinate=et.payload.activeCoordinate},mouseLeaveChart(_e){_e.itemInteraction.hover.active=!1,_e.axisInteraction.hover.active=!1},mouseLeaveItem(_e){_e.itemInteraction.hover.active=!1},setActiveClickItemIndex(_e,et){_e.syncInteraction.active=!1,_e.itemInteraction.click.active=!0,_e.keyboardInteraction.active=!1,_e.itemInteraction.click.index=et.payload.activeIndex,_e.itemInteraction.click.dataKey=et.payload.activeDataKey,_e.itemInteraction.click.coordinate=et.payload.activeCoordinate},setMouseOverAxisIndex(_e,et){_e.syncInteraction.active=!1,_e.axisInteraction.hover.active=!0,_e.keyboardInteraction.active=!1,_e.axisInteraction.hover.index=et.payload.activeIndex,_e.axisInteraction.hover.dataKey=et.payload.activeDataKey,_e.axisInteraction.hover.coordinate=et.payload.activeCoordinate},setMouseClickAxisIndex(_e,et){_e.syncInteraction.active=!1,_e.keyboardInteraction.active=!1,_e.axisInteraction.click.active=!0,_e.axisInteraction.click.index=et.payload.activeIndex,_e.axisInteraction.click.dataKey=et.payload.activeDataKey,_e.axisInteraction.click.coordinate=et.payload.activeCoordinate},setSyncInteraction(_e,et){_e.syncInteraction=et.payload},setKeyboardInteraction(_e,et){_e.keyboardInteraction.active=et.payload.active,_e.keyboardInteraction.index=et.payload.activeIndex,_e.keyboardInteraction.coordinate=et.payload.activeCoordinate,_e.keyboardInteraction.dataKey=et.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$e(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$e(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$e(Object(tt),!0).forEach(function(rt){_defineProperty$g(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$e(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$g(_e,et,tt){return(et=_toPropertyKey$g(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$g(_e){var et=_toPrimitive$g(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$g(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function chooseAppropriateMouseInteraction(_e,et,tt){return et==="axis"?tt==="click"?_e.axisInteraction.click:_e.axisInteraction.hover:tt==="click"?_e.itemInteraction.click:_e.itemInteraction.hover}function hasBeenActivePreviously(_e){return _e.index!=null}var combineTooltipInteractionState=(_e,et,tt,rt)=>{if(et==null)return noInteraction;var nt=chooseAppropriateMouseInteraction(_e,et,tt);if(nt==null)return noInteraction;if(nt.active)return nt;if(_e.keyboardInteraction.active)return _e.keyboardInteraction;if(_e.syncInteraction.active&&_e.syncInteraction.index!=null)return _e.syncInteraction;var ot=_e.settings.active===!0;if(hasBeenActivePreviously(nt)){if(ot)return _objectSpread$e(_objectSpread$e({},nt),{},{active:!0})}else if(rt!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:rt};return _objectSpread$e(_objectSpread$e({},noInteraction),{},{coordinate:nt.coordinate})},combineActiveTooltipIndex=(_e,et)=>{var tt=_e==null?void 0:_e.index;if(tt==null)return null;var rt=Number(tt);if(!isWellBehavedNumber(rt))return tt;var nt=0,ot=1/0;return et.length>0&&(ot=et.length-1),String(Math.max(nt,Math.min(rt,ot)))},combineCoordinateForDefaultIndex=(_e,et,tt,rt,nt,ot,st,at)=>{if(!(ot==null||at==null)){var ct=st[0],lt=ct==null?void 0:at(ct.positions,ot);if(lt!=null)return lt;var dt=nt==null?void 0:nt[Number(ot)];if(dt)switch(tt){case"horizontal":return{x:dt.coordinate,y:(rt.top+et)/2};default:return{x:(rt.left+_e)/2,y:dt.coordinate}}}},combineTooltipPayloadConfigurations=(_e,et,tt,rt)=>{if(et==="axis")return _e.tooltipItemPayloads;if(_e.tooltipItemPayloads.length===0)return[];var nt;return tt==="hover"?nt=_e.itemInteraction.hover.dataKey:nt=_e.itemInteraction.click.dataKey,nt==null&&rt!=null?[_e.tooltipItemPayloads[0]]:_e.tooltipItemPayloads.filter(ot=>{var st;return((st=ot.settings)===null||st===void 0?void 0:st.dataKey)===nt})},selectTooltipPayloadSearcher=_e=>_e.options.tooltipPayloadSearcher,selectTooltipState=_e=>_e.tooltip;function ownKeys$d(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$d(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$d(Object(tt),!0).forEach(function(rt){_defineProperty$f(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$d(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$f(_e,et,tt){return(et=_toPropertyKey$f(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$f(_e){var et=_toPrimitive$f(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$f(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function selectFinalData(_e,et){return _e??et}var combineTooltipPayload=(_e,et,tt,rt,nt,ot,st)=>{if(!(et==null||ot==null)){var{chartData:at,computedData:ct,dataStartIndex:lt,dataEndIndex:dt}=tt,ft=[];return _e.reduce((ht,pt)=>{var gt,{dataDefinedOnItem:mt,settings:vt}=pt,yt=selectFinalData(mt,at),bt=Array.isArray(yt)?getSliced(yt,lt,dt):yt,xt=(gt=vt==null?void 0:vt.dataKey)!==null&&gt!==void 0?gt:rt,wt=vt==null?void 0:vt.nameKey,At;if(rt&&Array.isArray(bt)&&!Array.isArray(bt[0])&&st==="axis"?At=findEntryInArray(bt,rt,nt):At=ot(bt,et,ct,wt),Array.isArray(At))At.forEach($t=>{var kt=_objectSpread$d(_objectSpread$d({},vt),{},{name:$t.name,unit:$t.unit,color:void 0,fill:void 0});ht.push(getTooltipEntry({tooltipEntrySettings:kt,dataKey:$t.dataKey,payload:$t.payload,value:getValueByDataKey($t.payload,$t.dataKey),name:$t.name}))});else{var St;ht.push(getTooltipEntry({tooltipEntrySettings:vt,dataKey:xt,payload:At,value:getValueByDataKey(At,xt),name:(St=getValueByDataKey(At,wt))!==null&&St!==void 0?St:vt==null?void 0:vt.name}))}return ht},ft)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([_e=>_e.graphicalItems.cartesianItems,_e=>_e.graphicalItems.polarItems],(_e,et)=>[..._e,...et]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],_e=>_e.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:arrayEqualityCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],_e=>_e.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],_e=>_e.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=_e=>{var et=selectTooltipAxisType(_e),tt=selectTooltipAxisId(_e),rt=!1;return selectAxisRange(_e,et,tt,rt)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(_e,et,tt,rt,nt,ot,st,at)=>{if(et){var{type:ct}=et,lt=isCategoricalAxis(_e,at);if(rt){var dt=tt==="scaleBand"&&rt.bandwidth?rt.bandwidth()/2:2,ft=ct==="category"&&rt.bandwidth?rt.bandwidth()/dt:0;return ft=at==="angleAxis"&&nt!=null&&(nt==null?void 0:nt.length)>=2?mathSign(nt[0]-nt[1])*2*ft:ft,lt&&st?st.map((ht,pt)=>({coordinate:rt(ht)+ft,value:ht,index:pt,offset:ft})):rt.domain().map((ht,pt)=>({coordinate:rt(ht)+ft,value:ot?ot[ht]:ht,index:pt,offset:ft}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(_e,et,tt)=>combineTooltipEventType(tt.shared,_e,et)),selectTooltipTrigger=_e=>_e.tooltip.settings.trigger,selectDefaultIndex=_e=>_e.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],_e=>{if(_e)return _e.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(_e,et)=>_e!=null&&_e.coordinate?_e.coordinate:et),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],_e=>_e.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],_e=>{if(_e!=null){var et=_e.map(tt=>tt.payload).filter(tt=>tt!=null);return Array.from(new Set(et))}});function ownKeys$c(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$c(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$c(Object(tt),!0).forEach(function(rt){_defineProperty$e(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$c(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$e(_e,et,tt){return(et=_toPropertyKey$e(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$e(_e){var et=_toPrimitive$e(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$e(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var _e=useTooltipAxis(),et=useAppSelector(selectTooltipAxisTicks),tt=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$c(_objectSpread$c({},_e),{},{scale:tt}),et)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(_e,et)=>et,pickTrigger=(_e,et,tt)=>tt,pickDefaultIndex=(_e,et,tt,rt)=>rt,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,_e=>sortBy$1(_e,et=>et.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(_e,et,tt)=>{if(et!=null){var rt=selectTooltipState(_e);return et==="axis"?tt==="hover"?rt.axisInteraction.hover.dataKey:rt.axisInteraction.click.dataKey:tt==="hover"?rt.itemInteraction.hover.dataKey:rt.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(_e,et)=>{var tt;return(tt=_e.coordinate)!==null&&tt!==void 0?tt:et}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],_e=>({isActive:_e.active,activeIndex:_e.index})),combineActiveProps=(_e,et,tt,rt,nt,ot,st,at)=>{if(!(!_e||!et||!rt||!nt||!ot)){var ct=inRange(_e.chartX,_e.chartY,et,tt,at);if(ct){var lt=calculateTooltipPos(ct,et),dt=calculateActiveTickIndex(lt,st,ot,rt,nt),ft=getActiveCoordinate(et,ot,dt,ct);return{activeIndex:String(dt),activeCoordinate:ft}}}};function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$c.apply(null,arguments)}function ownKeys$b(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$b(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$b(Object(tt),!0).forEach(function(rt){_defineProperty$d(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$b(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$d(_e,et,tt){return(et=_toPropertyKey$d(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$d(_e){var et=_toPrimitive$d(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$d(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function CursorInternal(_e){var{coordinate:et,payload:tt,index:rt,offset:nt,tooltipAxisBandSize:ot,layout:st,cursor:at,tooltipEventType:ct,chartName:lt}=_e,dt=et,ft=tt,ht=rt;if(!at||!dt||lt!=="ScatterChart"&&ct!=="axis")return null;var pt,gt;if(lt==="ScatterChart")pt=dt,gt=Cross;else if(lt==="BarChart")pt=getCursorRectangle(st,dt,nt,ot),gt=Rectangle;else if(st==="radial"){var{cx:mt,cy:vt,radius:yt,startAngle:bt,endAngle:xt}=getRadialCursorPoints(dt);pt={cx:mt,cy:vt,startAngle:bt,endAngle:xt,innerRadius:yt,outerRadius:yt},gt=Sector}else pt={points:getCursorPoints(st,dt,nt)},gt=Curve;var wt=typeof at=="object"&&"className"in at?at.className:void 0,At=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({stroke:"#ccc",pointerEvents:"none"},nt),pt),svgPropertiesNoEventsFromUnknown(at)),{},{payload:ft,payloadIndex:ht,className:clsx("recharts-tooltip-cursor",wt)});return reactExports.isValidElement(at)?reactExports.cloneElement(at,At):reactExports.createElement(gt,At)}function Cursor(_e){var et=useTooltipAxisBandSize(),tt=useOffsetInternal(),rt=useChartLayout(),nt=useChartName();return reactExports.createElement(CursorInternal,_extends$c({},_e,{coordinate:_e.coordinate,index:_e.index,payload:_e.payload,offset:tt,layout:rt,tooltipAxisBandSize:et,chartName:nt}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}};(function(_e){var et=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ct,lt,dt){this.fn=ct,this.context=lt,this.once=dt||!1}function ot(ct,lt,dt,ft,ht){if(typeof dt!="function")throw new TypeError("The listener must be a function");var pt=new nt(dt,ft||ct,ht),gt=tt?tt+lt:lt;return ct._events[gt]?ct._events[gt].fn?ct._events[gt]=[ct._events[gt],pt]:ct._events[gt].push(pt):(ct._events[gt]=pt,ct._eventsCount++),ct}function st(ct,lt){--ct._eventsCount===0?ct._events=new rt:delete ct._events[lt]}function at(){this._events=new rt,this._eventsCount=0}at.prototype.eventNames=function(){var lt=[],dt,ft;if(this._eventsCount===0)return lt;for(ft in dt=this._events)et.call(dt,ft)&&lt.push(tt?ft.slice(1):ft);return Object.getOwnPropertySymbols?lt.concat(Object.getOwnPropertySymbols(dt)):lt},at.prototype.listeners=function(lt){var dt=tt?tt+lt:lt,ft=this._events[dt];if(!ft)return[];if(ft.fn)return[ft.fn];for(var ht=0,pt=ft.length,gt=new Array(pt);ht<pt;ht++)gt[ht]=ft[ht].fn;return gt},at.prototype.listenerCount=function(lt){var dt=tt?tt+lt:lt,ft=this._events[dt];return ft?ft.fn?1:ft.length:0},at.prototype.emit=function(lt,dt,ft,ht,pt,gt){var mt=tt?tt+lt:lt;if(!this._events[mt])return!1;var vt=this._events[mt],yt=arguments.length,bt,xt;if(vt.fn){switch(vt.once&&this.removeListener(lt,vt.fn,void 0,!0),yt){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,dt),!0;case 3:return vt.fn.call(vt.context,dt,ft),!0;case 4:return vt.fn.call(vt.context,dt,ft,ht),!0;case 5:return vt.fn.call(vt.context,dt,ft,ht,pt),!0;case 6:return vt.fn.call(vt.context,dt,ft,ht,pt,gt),!0}for(xt=1,bt=new Array(yt-1);xt<yt;xt++)bt[xt-1]=arguments[xt];vt.fn.apply(vt.context,bt)}else{var wt=vt.length,At;for(xt=0;xt<wt;xt++)switch(vt[xt].once&&this.removeListener(lt,vt[xt].fn,void 0,!0),yt){case 1:vt[xt].fn.call(vt[xt].context);break;case 2:vt[xt].fn.call(vt[xt].context,dt);break;case 3:vt[xt].fn.call(vt[xt].context,dt,ft);break;case 4:vt[xt].fn.call(vt[xt].context,dt,ft,ht);break;default:if(!bt)for(At=1,bt=new Array(yt-1);At<yt;At++)bt[At-1]=arguments[At];vt[xt].fn.apply(vt[xt].context,bt)}}return!0},at.prototype.on=function(lt,dt,ft){return ot(this,lt,dt,ft,!1)},at.prototype.once=function(lt,dt,ft){return ot(this,lt,dt,ft,!0)},at.prototype.removeListener=function(lt,dt,ft,ht){var pt=tt?tt+lt:lt;if(!this._events[pt])return this;if(!dt)return st(this,pt),this;var gt=this._events[pt];if(gt.fn)gt.fn===dt&&(!ht||gt.once)&&(!ft||gt.context===ft)&&st(this,pt);else{for(var mt=0,vt=[],yt=gt.length;mt<yt;mt++)(gt[mt].fn!==dt||ht&&!gt[mt].once||ft&&gt[mt].context!==ft)&&vt.push(gt[mt]);vt.length?this._events[pt]=vt.length===1?vt[0]:vt:st(this,pt)}return this},at.prototype.removeAllListeners=function(lt){var dt;return lt?(dt=tt?tt+lt:lt,this._events[dt]&&st(this,dt)):(this._events=new rt,this._eventsCount=0),this},at.prototype.off=at.prototype.removeListener,at.prototype.addListener=at.prototype.on,at.prefixed=tt,at.EventEmitter=at,_e.exports=at})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter$1,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(_e,et){if(et){var tt=Number.parseInt(et,10);if(!isNan(tt))return _e==null?void 0:_e[tt]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:_e=>{_e.eventEmitter==null&&(_e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(_e){return _e.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(_e,et){if(_e.chartData=et.payload,et.payload==null){_e.dataStartIndex=0,_e.dataEndIndex=0;return}et.payload.length>0&&_e.dataEndIndex!==et.payload.length-1&&(_e.dataEndIndex=et.payload.length-1)},setComputedData(_e,et){_e.computedData=et.payload},setDataStartEndIndexes(_e,et){var{startIndex:tt,endIndex:rt}=et.payload;tt!=null&&(_e.dataStartIndex=tt),rt!=null&&(_e.dataEndIndex=rt)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$b=["x","y"];function ownKeys$a(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$a(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$a(Object(tt),!0).forEach(function(rt){_defineProperty$c(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$a(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$c(_e,et,tt){return(et=_toPropertyKey$c(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$c(_e){var et=_toPrimitive$c(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$c(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$b(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$b(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$b(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var noop$3=()=>{};function useTooltipSyncEventsListener(){var _e=useAppSelector(selectSyncId),et=useAppSelector(selectEventEmitter),tt=useAppDispatch(),rt=useAppSelector(selectSyncMethod),nt=useAppSelector(selectTooltipAxisTicks),ot=useChartLayout(),st=useViewBox(),at=useAppSelector(ct=>ct.rootProps.className);reactExports.useEffect(()=>{if(_e==null)return noop$3;var ct=(lt,dt,ft)=>{if(et!==ft&&_e===lt){if(rt==="index"){var ht;if(st&&dt!==null&&dt!==void 0&&(ht=dt.payload)!==null&&ht!==void 0&&ht.coordinate&&dt.payload.sourceViewBox){var pt=dt.payload.coordinate,{x:gt,y:mt}=pt,vt=_objectWithoutProperties$b(pt,_excluded$b),{x:yt,y:bt,width:xt,height:wt}=dt.payload.sourceViewBox,At=_objectSpread$a(_objectSpread$a({},vt),{},{x:st.x+(xt?(gt-yt)/xt:0)*st.width,y:st.y+(wt?(mt-bt)/wt:0)*st.height});tt(_objectSpread$a(_objectSpread$a({},dt),{},{payload:_objectSpread$a(_objectSpread$a({},dt.payload),{},{coordinate:At})}))}else tt(dt);return}if(nt!=null){var St;if(typeof rt=="function"){var $t={activeTooltipIndex:dt.payload.index==null?void 0:Number(dt.payload.index),isTooltipActive:dt.payload.active,activeIndex:dt.payload.index==null?void 0:Number(dt.payload.index),activeLabel:dt.payload.label,activeDataKey:dt.payload.dataKey,activeCoordinate:dt.payload.coordinate},kt=rt(nt,$t);St=nt[kt]}else rt==="value"&&(St=nt.find(Wt=>String(Wt.value)===dt.payload.label));var{coordinate:Ct}=dt.payload;if(St==null||dt.payload.active===!1||Ct==null||st==null){tt(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:_t,y:Tt}=Ct,jt=Math.min(_t,st.x+st.width),Bt=Math.min(Tt,st.y+st.height),Gt={x:ot==="horizontal"?St.coordinate:jt,y:ot==="horizontal"?Bt:St.coordinate},Rt=setSyncInteraction({active:dt.payload.active,coordinate:Gt,dataKey:dt.payload.dataKey,index:String(St.index),label:dt.payload.label,sourceViewBox:dt.payload.sourceViewBox});tt(Rt)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,ct),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,ct)}},[at,tt,et,_e,rt,nt,ot,st])}function useBrushSyncEventsListener(){var _e=useAppSelector(selectSyncId),et=useAppSelector(selectEventEmitter),tt=useAppDispatch();reactExports.useEffect(()=>{if(_e==null)return noop$3;var rt=(nt,ot,st)=>{et!==st&&_e===nt&&tt(setDataStartEndIndexes(ot))};return eventCenter.on(BRUSH_SYNC_EVENT,rt),()=>{eventCenter.off(BRUSH_SYNC_EVENT,rt)}},[tt,et,_e])}function useSynchronisedEventsFromOtherCharts(){var _e=useAppDispatch();reactExports.useEffect(()=>{_e(createEventEmitter())},[_e]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(_e,et,tt,rt,nt,ot){var st=useAppSelector(pt=>selectTooltipDataKey(pt,_e,et)),at=useAppSelector(selectEventEmitter),ct=useAppSelector(selectSyncId),lt=useAppSelector(selectSyncMethod),dt=useAppSelector(selectSynchronisedTooltipState),ft=dt==null?void 0:dt.active,ht=useViewBox();reactExports.useEffect(()=>{if(!ft&&ct!=null&&at!=null){var pt=setSyncInteraction({active:ot,coordinate:tt,dataKey:st,index:nt,label:typeof rt=="number"?String(rt):rt,sourceViewBox:ht});eventCenter.emit(TOOLTIP_SYNC_EVENT,ct,pt,at)}},[ft,tt,st,nt,rt,at,ct,lt,ot,ht])}function ownKeys$9(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$9(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$9(Object(tt),!0).forEach(function(rt){_defineProperty$b(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$9(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$b(_e,et,tt){return(et=_toPropertyKey$b(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$b(_e){var et=_toPrimitive$b(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$b(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function defaultUniqBy(_e){return _e.dataKey}function renderContent(_e,et){return reactExports.isValidElement(_e)?reactExports.cloneElement(_e,et):typeof _e=="function"?reactExports.createElement(_e,et):reactExports.createElement(DefaultTooltipContent,et)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(_e){var et=resolveDefaultProps(_e,defaultTooltipProps),{active:tt,allowEscapeViewBox:rt,animationDuration:nt,animationEasing:ot,content:st,filterNull:at,isAnimationActive:ct,offset:lt,payloadUniqBy:dt,position:ft,reverseDirection:ht,useTranslate3d:pt,wrapperStyle:gt,cursor:mt,shared:vt,trigger:yt,defaultIndex:bt,portal:xt,axisId:wt}=et,At=useAppDispatch(),St=typeof bt=="number"?String(bt):bt;reactExports.useEffect(()=>{At(setTooltipSettingsState({shared:vt,trigger:yt,axisId:wt,active:tt,defaultIndex:St}))},[At,vt,yt,wt,tt,St]);var $t=useViewBox(),kt=useAccessibilityLayer(),Ct=useTooltipEventType(vt),{activeIndex:_t,isActive:Tt}=useAppSelector(tr=>selectIsTooltipActive(tr,Ct,yt,St)),jt=useAppSelector(tr=>selectTooltipPayload(tr,Ct,yt,St)),Bt=useAppSelector(tr=>selectActiveLabel(tr,Ct,yt,St)),Gt=useAppSelector(tr=>selectActiveCoordinate(tr,Ct,yt,St)),Rt=jt,Wt=useTooltipPortal(),Vt=tt??Tt,[Lt,Ht]=useElementOffset([Rt,Vt]),Kt=Ct==="axis"?Bt:void 0;useTooltipChartSynchronisation(Ct,yt,Gt,Kt,_t,Vt);var Qt=xt??Wt;if(Qt==null)return null;var Yt=Rt??emptyPayload;Vt||(Yt=emptyPayload),at&&Yt.length&&(Yt=getUniqPayload(Rt.filter(tr=>tr.value!=null&&(tr.hide!==!0||et.includeHidden)),dt,defaultUniqBy));var ar=Yt.length>0,sr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:rt,animationDuration:nt,animationEasing:ot,isAnimationActive:ct,active:Vt,coordinate:Gt,hasPayload:ar,offset:lt,position:ft,reverseDirection:ht,useTranslate3d:pt,viewBox:$t,wrapperStyle:gt,lastBoundingBox:Lt,innerRef:Ht,hasPortalFromProps:!!xt},renderContent(st,_objectSpread$9(_objectSpread$9({},et),{},{payload:Yt,label:Kt,active:Vt,coordinate:Gt,accessibilityLayer:kt})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(sr,Qt),Vt&&reactExports.createElement(Cursor,{cursor:mt,tooltipEventType:Ct,coordinate:Gt,payload:Rt,index:_t}))}function _defineProperty$a(_e,et,tt){return(et=_toPropertyKey$a(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$a(_e){var et=_toPrimitive$a(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$a(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}class LRUCache{constructor(et){_defineProperty$a(this,"cache",new Map),this.maxSize=et}get(et){var tt=this.cache.get(et);return tt!==void 0&&(this.cache.delete(et),this.cache.set(et,tt)),tt}set(et,tt){if(this.cache.has(et))this.cache.delete(et);else if(this.cache.size>=this.maxSize){var rt=this.cache.keys().next().value;this.cache.delete(rt)}this.cache.set(et,tt)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$8(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$8(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$8(Object(tt),!0).forEach(function(rt){_defineProperty$9(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$8(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$9(_e,et,tt){return(et=_toPropertyKey$9(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$9(_e){var et=_toPrimitive$9(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$9(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$8({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(_e,et){var tt=et.fontSize||"",rt=et.fontFamily||"",nt=et.fontWeight||"",ot=et.fontStyle||"",st=et.letterSpacing||"",at=et.textTransform||"";return"".concat(_e,"|").concat(tt,"|").concat(rt,"|").concat(nt,"|").concat(ot,"|").concat(st,"|").concat(at)}var measureTextWithDOM=(_e,et)=>{try{var tt=document.getElementById(MEASUREMENT_SPAN_ID);tt||(tt=document.createElement("span"),tt.setAttribute("id",MEASUREMENT_SPAN_ID),tt.setAttribute("aria-hidden","true"),document.body.appendChild(tt)),Object.assign(tt.style,SPAN_STYLE,et),tt.textContent="".concat(_e);var rt=tt.getBoundingClientRect();return{width:rt.width,height:rt.height}}catch{return{width:0,height:0}}},getStringSize=function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(et==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(et,tt);var rt=createCacheKey(et,tt),nt=stringCache.get(rt);if(nt)return nt;var ot=measureTextWithDOM(et,tt);return stringCache.set(rt,ot),ot},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(_e,et){return _e*CONVERSION_RATES[et]}class DecimalCSS{static parse(et){var tt,[,rt,nt]=(tt=NUM_SPLIT_REGEX.exec(et))!==null&&tt!==void 0?tt:[];return new DecimalCSS(parseFloat(rt),nt??"")}constructor(et,tt){this.num=et,this.unit=tt,this.num=et,this.unit=tt,isNan(et)&&(this.unit=""),tt!==""&&!CSS_LENGTH_UNIT_REGEX.test(tt)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(tt)&&(this.num=convertToPx(et,tt),this.unit="px")}add(et){return this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+et.num,this.unit)}subtract(et){return this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-et.num,this.unit)}multiply(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*et.num,this.unit||et.unit)}divide(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/et.num,this.unit||et.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(_e){if(_e.includes(STR_NAN))return STR_NAN;for(var et=_e;et.includes("*")||et.includes("/");){var tt,[,rt,nt,ot]=(tt=MULTIPLY_OR_DIVIDE_REGEX.exec(et))!==null&&tt!==void 0?tt:[],st=DecimalCSS.parse(rt??""),at=DecimalCSS.parse(ot??""),ct=nt==="*"?st.multiply(at):st.divide(at);if(ct.isNaN())return STR_NAN;et=et.replace(MULTIPLY_OR_DIVIDE_REGEX,ct.toString())}for(;et.includes("+")||/.-\d+(?:\.\d+)?/.test(et);){var lt,[,dt,ft,ht]=(lt=ADD_OR_SUBTRACT_REGEX.exec(et))!==null&&lt!==void 0?lt:[],pt=DecimalCSS.parse(dt??""),gt=DecimalCSS.parse(ht??""),mt=ft==="+"?pt.add(gt):pt.subtract(gt);if(mt.isNaN())return STR_NAN;et=et.replace(ADD_OR_SUBTRACT_REGEX,mt.toString())}return et}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(_e){for(var et=_e,tt;(tt=PARENTHESES_REGEX.exec(et))!=null;){var[,rt]=tt;et=et.replace(PARENTHESES_REGEX,calculateArithmetic(rt))}return et}function evaluateExpression(_e){var et=_e.replace(/\s+/g,"");return et=calculateParentheses(et),et=calculateArithmetic(et),et}function safeEvaluateExpression(_e){try{return evaluateExpression(_e)}catch{return STR_NAN}}function reduceCSSCalc(_e){var et=safeEvaluateExpression(_e.slice(5,-1));return et===STR_NAN?"":et}var _excluded$a=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$b.apply(null,arguments)}function _objectWithoutProperties$a(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$a(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$a(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=_e=>{var{children:et,breakAll:tt,style:rt}=_e;try{var nt=[];isNullish(et)||(tt?nt=et.toString().split(""):nt=et.toString().split(BREAKING_SPACES));var ot=nt.map(at=>({word:at,width:getStringSize(at,rt).width})),st=tt?0:getStringSize(" ",rt).width;return{wordsWithComputedWidth:ot,spaceWidth:st}}catch{return null}},calculateWordsByLines=(_e,et,tt,rt,nt)=>{var{maxLines:ot,children:st,style:at,breakAll:ct}=_e,lt=isNumber(ot),dt=st,ft=function(){var Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Tt.reduce((jt,Bt)=>{var{word:Gt,width:Rt}=Bt,Wt=jt[jt.length-1];if(Wt&&(rt==null||nt||Wt.width+Rt+tt<Number(rt)))Wt.words.push(Gt),Wt.width+=Rt+tt;else{var Vt={words:[Gt],width:Rt};jt.push(Vt)}return jt},[])},ht=ft(et),pt=_t=>_t.reduce((Tt,jt)=>Tt.width>jt.width?Tt:jt);if(!lt||nt)return ht;var gt=ht.length>ot||pt(ht).width>Number(rt);if(!gt)return ht;for(var mt="…",vt=_t=>{var Tt=dt.slice(0,_t),jt=calculateWordWidths({breakAll:ct,style:at,children:Tt+mt}).wordsWithComputedWidth,Bt=ft(jt),Gt=Bt.length>ot||pt(Bt).width>Number(rt);return[Gt,Bt]},yt=0,bt=dt.length-1,xt=0,wt;yt<=bt&&xt<=dt.length-1;){var At=Math.floor((yt+bt)/2),St=At-1,[$t,kt]=vt(St),[Ct]=vt(At);if(!$t&&!Ct&&(yt=At+1),$t&&Ct&&(bt=At-1),!$t&&Ct){wt=kt;break}xt++}return wt||ht},getWordsWithoutCalculate=_e=>{var et=isNullish(_e)?[]:_e.toString().split(BREAKING_SPACES);return[{words:et}]},getWordsByLines=_e=>{var{width:et,scaleToFit:tt,children:rt,style:nt,breakAll:ot,maxLines:st}=_e;if((et||tt)&&!Global.isSsr){var at,ct,lt=calculateWordWidths({breakAll:ot,children:rt,style:nt});if(lt){var{wordsWithComputedWidth:dt,spaceWidth:ft}=lt;at=dt,ct=ft}else return getWordsWithoutCalculate(rt);return calculateWordsByLines({breakAll:ot,children:rt,maxLines:st,style:nt},at,ct,et,tt)}return getWordsWithoutCalculate(rt)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((_e,et)=>{var{x:tt=0,y:rt=0,lineHeight:nt="1em",capHeight:ot="0.71em",scaleToFit:st=!1,textAnchor:at="start",verticalAnchor:ct="end",fill:lt=DEFAULT_FILL}=_e,dt=_objectWithoutProperties$a(_e,_excluded$a),ft=reactExports.useMemo(()=>getWordsByLines({breakAll:dt.breakAll,children:dt.children,maxLines:dt.maxLines,scaleToFit:st,style:dt.style,width:dt.width}),[dt.breakAll,dt.children,dt.maxLines,st,dt.style,dt.width]),{dx:ht,dy:pt,angle:gt,className:mt,breakAll:vt}=dt,yt=_objectWithoutProperties$a(dt,_excluded2$6);if(!isNumOrStr(tt)||!isNumOrStr(rt)||ft.length===0)return null;var bt=tt+(isNumber(ht)?ht:0),xt=rt+(isNumber(pt)?pt:0),wt;switch(ct){case"start":wt=reduceCSSCalc("calc(".concat(ot,")"));break;case"middle":wt=reduceCSSCalc("calc(".concat((ft.length-1)/2," * -").concat(nt," + (").concat(ot," / 2))"));break;default:wt=reduceCSSCalc("calc(".concat(ft.length-1," * -").concat(nt,")"));break}var At=[];if(st){var St=ft[0].width,{width:$t}=dt;At.push("scale(".concat(isNumber($t)?$t/St:1,")"))}return gt&&At.push("rotate(".concat(gt,", ").concat(bt,", ").concat(xt,")")),At.length&&(yt.transform=At.join(" ")),reactExports.createElement("text",_extends$b({},svgPropertiesAndEvents(yt),{ref:et,x:bt,y:xt,className:clsx("recharts-text",mt),textAnchor:at,fill:lt.includes("url")?DEFAULT_FILL:lt}),ft.map((kt,Ct)=>{var _t=kt.words.join(vt?"":" ");return reactExports.createElement("tspan",{x:bt,dy:Ct===0?wt:nt,key:"".concat(_t,"-").concat(Ct)},_t)}))});Text.displayName="Text";var _excluded$9=["labelRef"];function _objectWithoutProperties$9(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$9(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$9(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}function ownKeys$7(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$7(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$7(Object(tt),!0).forEach(function(rt){_defineProperty$8(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$7(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$8(_e,et,tt){return(et=_toPropertyKey$8(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$8(_e){var et=_toPrimitive$8(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$8(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$a.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=_e=>{var{x:et,y:tt,width:rt,height:nt,children:ot}=_e,st=reactExports.useMemo(()=>({x:et,y:tt,width:rt,height:nt}),[et,tt,rt,nt]);return reactExports.createElement(CartesianLabelContext.Provider,{value:st},ot)},useCartesianLabelContext=()=>{var _e=reactExports.useContext(CartesianLabelContext),et=useViewBox();return _e||et},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var _e=reactExports.useContext(PolarLabelContext),et=useAppSelector(selectPolarViewBox);return _e||et},getLabel=_e=>{var{value:et,formatter:tt}=_e,rt=isNullish(_e.children)?et:_e.children;return typeof tt=="function"?tt(rt):rt},isLabelContentAFunction=_e=>_e!=null&&typeof _e=="function",getDeltaAngle=(_e,et)=>{var tt=mathSign(et-_e),rt=Math.min(Math.abs(et-_e),360);return tt*rt},renderRadialLabel=(_e,et,tt,rt,nt)=>{var{offset:ot,className:st}=_e,{cx:at,cy:ct,innerRadius:lt,outerRadius:dt,startAngle:ft,endAngle:ht,clockWise:pt}=nt,gt=(lt+dt)/2,mt=getDeltaAngle(ft,ht),vt=mt>=0?1:-1,yt,bt;switch(et){case"insideStart":yt=ft+vt*ot,bt=pt;break;case"insideEnd":yt=ht-vt*ot,bt=!pt;break;case"end":yt=ht+vt*ot,bt=pt;break;default:throw new Error("Unsupported position ".concat(et))}bt=mt<=0?bt:!bt;var xt=polarToCartesian(at,ct,gt,yt),wt=polarToCartesian(at,ct,gt,yt+(bt?1:-1)*359),At="M".concat(xt.x,",").concat(xt.y,`
    A`).concat(gt,",").concat(gt,",0,1,").concat(bt?0:1,`,
    `).concat(wt.x,",").concat(wt.y),St=isNullish(_e.id)?uniqueId("recharts-radial-line-"):_e.id;return reactExports.createElement("text",_extends$a({},rt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",st)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:St,d:At})),reactExports.createElement("textPath",{xlinkHref:"#".concat(St)},tt))},getAttrsOfPolarLabel=(_e,et,tt)=>{var{cx:rt,cy:nt,innerRadius:ot,outerRadius:st,startAngle:at,endAngle:ct}=_e,lt=(at+ct)/2;if(tt==="outside"){var{x:dt,y:ft}=polarToCartesian(rt,nt,st+et,lt);return{x:dt,y:ft,textAnchor:dt>=rt?"start":"end",verticalAnchor:"middle"}}if(tt==="center")return{x:rt,y:nt,textAnchor:"middle",verticalAnchor:"middle"};if(tt==="centerTop")return{x:rt,y:nt,textAnchor:"middle",verticalAnchor:"start"};if(tt==="centerBottom")return{x:rt,y:nt,textAnchor:"middle",verticalAnchor:"end"};var ht=(ot+st)/2,{x:pt,y:gt}=polarToCartesian(rt,nt,ht,lt);return{x:pt,y:gt,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=_e=>"cx"in _e&&isNumber(_e.cx),getAttrsOfCartesianLabel=(_e,et)=>{var{parentViewBox:tt,offset:rt,position:nt}=_e,ot;tt!=null&&!isPolar(tt)&&(ot=tt);var{x:st,y:at,width:ct,height:lt}=et,dt=lt>=0?1:-1,ft=dt*rt,ht=dt>0?"end":"start",pt=dt>0?"start":"end",gt=ct>=0?1:-1,mt=gt*rt,vt=gt>0?"end":"start",yt=gt>0?"start":"end";if(nt==="top"){var bt={x:st+ct/2,y:at-dt*rt,textAnchor:"middle",verticalAnchor:ht};return _objectSpread$7(_objectSpread$7({},bt),ot?{height:Math.max(at-ot.y,0),width:ct}:{})}if(nt==="bottom"){var xt={x:st+ct/2,y:at+lt+ft,textAnchor:"middle",verticalAnchor:pt};return _objectSpread$7(_objectSpread$7({},xt),ot?{height:Math.max(ot.y+ot.height-(at+lt),0),width:ct}:{})}if(nt==="left"){var wt={x:st-mt,y:at+lt/2,textAnchor:vt,verticalAnchor:"middle"};return _objectSpread$7(_objectSpread$7({},wt),ot?{width:Math.max(wt.x-ot.x,0),height:lt}:{})}if(nt==="right"){var At={x:st+ct+mt,y:at+lt/2,textAnchor:yt,verticalAnchor:"middle"};return _objectSpread$7(_objectSpread$7({},At),ot?{width:Math.max(ot.x+ot.width-At.x,0),height:lt}:{})}var St=ot?{width:ct,height:lt}:{};return nt==="insideLeft"?_objectSpread$7({x:st+mt,y:at+lt/2,textAnchor:yt,verticalAnchor:"middle"},St):nt==="insideRight"?_objectSpread$7({x:st+ct-mt,y:at+lt/2,textAnchor:vt,verticalAnchor:"middle"},St):nt==="insideTop"?_objectSpread$7({x:st+ct/2,y:at+ft,textAnchor:"middle",verticalAnchor:pt},St):nt==="insideBottom"?_objectSpread$7({x:st+ct/2,y:at+lt-ft,textAnchor:"middle",verticalAnchor:ht},St):nt==="insideTopLeft"?_objectSpread$7({x:st+mt,y:at+ft,textAnchor:yt,verticalAnchor:pt},St):nt==="insideTopRight"?_objectSpread$7({x:st+ct-mt,y:at+ft,textAnchor:vt,verticalAnchor:pt},St):nt==="insideBottomLeft"?_objectSpread$7({x:st+mt,y:at+lt-ft,textAnchor:yt,verticalAnchor:ht},St):nt==="insideBottomRight"?_objectSpread$7({x:st+ct-mt,y:at+lt-ft,textAnchor:vt,verticalAnchor:ht},St):nt&&typeof nt=="object"&&(isNumber(nt.x)||isPercent(nt.x))&&(isNumber(nt.y)||isPercent(nt.y))?_objectSpread$7({x:st+getPercentValue(nt.x,ct),y:at+getPercentValue(nt.y,lt),textAnchor:"end",verticalAnchor:"end"},St):_objectSpread$7({x:st+ct/2,y:at+lt/2,textAnchor:"middle",verticalAnchor:"middle"},St)},defaultLabelProps={offset:5};function Label(_e){var et=resolveDefaultProps(_e,defaultLabelProps),{viewBox:tt,position:rt,value:nt,children:ot,content:st,className:at="",textBreakAll:ct,labelRef:lt}=et,dt=usePolarLabelContext(),ft=useCartesianLabelContext(),ht=rt==="center"?ft:dt??ft,pt=tt||ht;if(!pt||isNullish(nt)&&isNullish(ot)&&!reactExports.isValidElement(st)&&typeof st!="function")return null;var gt=_objectSpread$7(_objectSpread$7({},et),{},{viewBox:pt});if(reactExports.isValidElement(st)){var{labelRef:mt}=gt,vt=_objectWithoutProperties$9(gt,_excluded$9);return reactExports.cloneElement(st,vt)}var yt;if(typeof st=="function"){if(yt=reactExports.createElement(st,gt),reactExports.isValidElement(yt))return yt}else yt=getLabel(et);var bt=isPolar(pt),xt=svgPropertiesAndEvents(et);if(bt&&(rt==="insideStart"||rt==="insideEnd"||rt==="end"))return renderRadialLabel(et,rt,yt,xt,pt);var wt=bt?getAttrsOfPolarLabel(pt,et.offset,et.position):getAttrsOfCartesianLabel(et,pt);return reactExports.createElement(Text,_extends$a({ref:lt,className:clsx("recharts-label",at)},xt,wt,{breakAll:ct}),yt)}Label.displayName="Label";var parseLabel=(_e,et,tt)=>{if(!_e)return null;var rt={viewBox:et,labelRef:tt};return _e===!0?reactExports.createElement(Label,_extends$a({key:"label-implicit"},rt)):isNumOrStr(_e)?reactExports.createElement(Label,_extends$a({key:"label-implicit",value:_e},rt)):reactExports.isValidElement(_e)?_e.type===Label?reactExports.cloneElement(_e,_objectSpread$7({key:"label-implicit"},rt)):reactExports.createElement(Label,_extends$a({key:"label-implicit",content:_e},rt)):isLabelContentAFunction(_e)?reactExports.createElement(Label,_extends$a({key:"label-implicit",content:_e},rt)):_e&&typeof _e=="object"?reactExports.createElement(Label,_extends$a({},_e,{key:"label-implicit"},rt)):null};function CartesianLabelFromLabelProp(_e){var{label:et,labelRef:tt}=_e,rt=useCartesianLabelContext();return parseLabel(et,rt,tt)||null}var last$3={},last$2={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return tt[tt.length-1]}_e.last=et})(last$2);var toArray={};(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});function et(tt){return Array.isArray(tt)?tt:Array.from(tt)}_e.toArray=et})(toArray);(function(_e){Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"});const et=last$2,tt=toArray,rt=isArrayLike;function nt(ot){if(rt.isArrayLike(ot))return et.last(tt.toArray(ot))}_e.last=nt})(last$3);var last=last$3.last;const last$1=getDefaultExportFromCjs(last);var _excluded$8=["valueAccessor"],_excluded2$5=["dataKey","clockWise","id","textBreakAll"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$9.apply(null,arguments)}function _objectWithoutProperties$8(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$8(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$8(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var defaultAccessor=_e=>Array.isArray(_e.value)?last$1(_e.value):_e.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0);PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(_e){var{valueAccessor:et=defaultAccessor}=_e,tt=_objectWithoutProperties$8(_e,_excluded$8),{dataKey:rt,clockWise:nt,id:ot,textBreakAll:st}=tt,at=_objectWithoutProperties$8(tt,_excluded2$5),ct=useCartesianLabelListContext(),lt=usePolarLabelListContext(),dt=ct||lt;return!dt||!dt.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},dt.map((ft,ht)=>{var pt,gt=isNullish(rt)?et(ft,ht):getValueByDataKey(ft&&ft.payload,rt),mt=isNullish(ot)?{}:{id:"".concat(ot,"-").concat(ht)};return reactExports.createElement(Label,_extends$9({key:"label-".concat(ht)},svgPropertiesAndEvents(ft),at,mt,{fill:(pt=tt.fill)!==null&&pt!==void 0?pt:ft.fill,parentViewBox:ft.parentViewBox,value:gt,textBreakAll:st,viewBox:ft.viewBox,index:ht}))}))}LabelList.displayName="LabelList";function LabelListFromLabelProp(_e){var{label:et}=_e;return et?et===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(et)||isLabelContentAFunction(et)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:et}):typeof et=="object"?reactExports.createElement(LabelList,_extends$9({key:"labelList-implicit"},et,{type:String(et.type)})):null:null}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$8.apply(null,arguments)}var Dot=_e=>{var{cx:et,cy:tt,r:rt,className:nt}=_e,ot=clsx("recharts-dot",nt);return et===+et&&tt===+tt&&rt===+rt?reactExports.createElement("circle",_extends$8({},svgPropertiesNoEvents(_e),adaptEventHandlers(_e),{className:ot,cx:et,cy:tt,r:rt})):null},initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(_e,et){_e.radiusAxis[et.payload.id]=et.payload},removeRadiusAxis(_e,et){delete _e.radiusAxis[et.payload.id]},addAngleAxis(_e,et){_e.angleAxis[et.payload.id]=et.payload},removeAngleAxis(_e,et){delete _e.angleAxis[et.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,isClipDot=_e=>_e&&typeof _e=="object"&&"clipDot"in _e?!!_e.clipDot:!0;function SetTooltipEntrySettings(_e){var{fn:et,args:tt}=_e,rt=useAppDispatch(),nt=useIsPanorama();return reactExports.useLayoutEffect(()=>{if(!nt){var ot=et(tt);return rt(addTooltipEntrySettings(ot)),()=>{rt(removeTooltipEntrySettings(ot))}}},[et,tt,rt,nt]),null}var noop$2=()=>{};function SetLegendPayload(_e){var{legendPayload:et}=_e,tt=useAppDispatch(),rt=useIsPanorama();return reactExports.useLayoutEffect(()=>rt?noop$2:(tt(addLegendPayload(et)),()=>{tt(removeLegendPayload(et))}),[tt,rt,et]),null}var _ref,useIdFallback=()=>{var[_e]=reactExports.useState(()=>uniqueId("uid-"));return _e},useId=(_ref=React$4.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(_e,et){var tt=useId();return et||(_e?"".concat(_e,"-").concat(tt):tt)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=_e=>{var{id:et,type:tt,children:rt}=_e,nt=useUniqueId("recharts-".concat(tt),et);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:nt},rt(nt))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(_e,et){_e.cartesianItems.push(et.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(_e,et){var{prev:tt,next:rt}=et.payload,nt=current(_e).cartesianItems.indexOf(tt);nt>-1&&(_e.cartesianItems[nt]=rt)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(_e,et){var tt=current(_e).cartesianItems.indexOf(et.payload);tt>-1&&_e.cartesianItems.splice(tt,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(_e,et){_e.polarItems.push(et.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(_e,et){var tt=current(_e).polarItems.indexOf(et.payload);tt>-1&&_e.polarItems.splice(tt,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(_e){var et=useAppDispatch(),tt=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{tt.current===null?et(addCartesianGraphicalItem(_e)):tt.current!==_e&&et(replaceCartesianGraphicalItem({prev:tt.current,next:_e})),tt.current=_e},[et,_e]),reactExports.useLayoutEffect(()=>()=>{tt.current&&(et(removeCartesianGraphicalItem(tt.current)),tt.current=null)},[et]),null}function ownKeys$6(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$6(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$6(Object(tt),!0).forEach(function(rt){_defineProperty$7(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$6(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$7(_e,et,tt){return(et=_toPropertyKey$7(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$7(_e){var et=_toPrimitive$7(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$7(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(_e,et){_e.xAxis[et.payload.id]=et.payload},prepare:prepareAutoBatched()},removeXAxis:{reducer(_e,et){delete _e.xAxis[et.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(_e,et){_e.yAxis[et.payload.id]=et.payload},prepare:prepareAutoBatched()},removeYAxis:{reducer(_e,et){delete _e.yAxis[et.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(_e,et){_e.zAxis[et.payload.id]=et.payload},prepare:prepareAutoBatched()},removeZAxis:{reducer(_e,et){delete _e.zAxis[et.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(_e,et){var{id:tt,width:rt}=et.payload,nt=_e.yAxis[tt];if(nt){var ot=nt.widthHistory||[];if(ot.length===3&&ot[0]===ot[2]&&rt===ot[1]&&rt!==nt.width&&Math.abs(rt-ot[0])<=1)return;var st=[...ot,rt].slice(-3);_e.yAxis[tt]=_objectSpread$6(_objectSpread$6({},_e.yAxis[tt]),{},{width:rt,widthHistory:st})}}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],_e=>{if(_e)return{top:_e.top,bottom:_e.bottom,left:_e.left,right:_e.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(_e,et,tt)=>{if(!(!_e||et==null||tt==null))return{x:_e.left,y:_e.top,width:Math.max(0,et-_e.left-_e.right),height:Math.max(0,tt-_e.top-_e.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$5(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$5(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$5(Object(tt),!0).forEach(function(rt){_defineProperty$6(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$5(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$6(_e,et,tt){return(et=_toPropertyKey$6(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$6(_e){var et=_toPrimitive$6(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$6(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var renderActivePoint=_e=>{var{point:et,childIndex:tt,mainColor:rt,activeDot:nt,dataKey:ot}=_e;if(nt===!1||et.x==null||et.y==null)return null;var st=_objectSpread$5(_objectSpread$5({index:tt,dataKey:ot,cx:et.x,cy:et.y,r:4,fill:rt??"none",strokeWidth:2,stroke:"#fff",payload:et.payload,value:et.value},svgPropertiesNoEventsFromUnknown(nt)),adaptEventHandlers(nt)),at;return reactExports.isValidElement(nt)?at=reactExports.cloneElement(nt,st):typeof nt=="function"?at=nt(st):at=reactExports.createElement(Dot,st),reactExports.createElement(Layer,{className:"recharts-active-dot"},at)};function ActivePoints(_e){var{points:et,mainColor:tt,activeDot:rt,itemDataKey:nt}=_e,ot=useAppSelector(selectActiveTooltipIndex),st=useActiveTooltipDataPoints();if(et==null||st==null)return null;var at=et.find(ct=>st.includes(ct.payload));return isNullish(at)?null:renderActivePoint({point:at,childIndex:Number(ot),mainColor:tt,dataKey:nt,activeDot:rt})}var initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(_e,et)=>{var{itemId:tt,errorBar:rt}=et.payload;_e[tt]||(_e[tt]=[]),_e[tt].push(rt)},replaceErrorBar:(_e,et)=>{var{itemId:tt,prev:rt,next:nt}=et.payload;_e[tt]&&(_e[tt]=_e[tt].map(ot=>ot.dataKey===rt.dataKey&&ot.direction===rt.direction?nt:ot))},removeErrorBar:(_e,et)=>{var{itemId:tt,errorBar:rt}=et.payload;_e[tt]&&(_e[tt]=_e[tt].filter(nt=>nt.dataKey!==rt.dataKey||nt.direction!==rt.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$7=["children"];function _objectWithoutProperties$7(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$7(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$7(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(_e){var{children:et}=_e,tt=_objectWithoutProperties$7(_e,_excluded$7);return reactExports.createElement(ErrorBarContext.Provider,{value:tt},et)}function useNeedsClip(_e,et){var tt,rt,nt=useAppSelector(lt=>selectXAxisSettings(lt,_e)),ot=useAppSelector(lt=>selectYAxisSettings(lt,et)),st=(tt=nt==null?void 0:nt.allowDataOverflow)!==null&&tt!==void 0?tt:implicitXAxis.allowDataOverflow,at=(rt=ot==null?void 0:ot.allowDataOverflow)!==null&&rt!==void 0?rt:implicitYAxis.allowDataOverflow,ct=st||at;return{needClip:ct,needClipX:st,needClipY:at}}function GraphicalItemClipPath(_e){var{xAxisId:et,yAxisId:tt,clipPathId:rt}=_e,nt=usePlotArea(),{needClipX:ot,needClipY:st,needClip:at}=useNeedsClip(et,tt);if(!at)return null;var{x:ct,y:lt,width:dt,height:ft}=nt;return reactExports.createElement("clipPath",{id:"clipPath-".concat(rt)},reactExports.createElement("rect",{x:ot?ct:ct-dt/2,y:st?lt:lt-ft/2,width:ot?dt:dt*2,height:st?ft:ft*2}))}var ChartDataContextProvider=_e=>{var{chartData:et}=_e,tt=useAppDispatch(),rt=useIsPanorama();return reactExports.useEffect(()=>rt?()=>{}:(tt(setChartData(et)),()=>{tt(setChartData(void 0))}),[et,tt,rt]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(_e,et){return et.payload==null?initialState$2:et.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$5(_e,et,tt){return(et=_toPropertyKey$5(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$5(_e){var et=_toPrimitive$5(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$5(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}class ScaleHelper{static create(et){return new ScaleHelper(et)}constructor(et){this.scale=et}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(et){var{bandAware:tt,position:rt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(et!==void 0){if(rt)switch(rt){case"start":return this.scale(et);case"middle":{var nt=this.bandwidth?this.bandwidth()/2:0;return this.scale(et)+nt}case"end":{var ot=this.bandwidth?this.bandwidth():0;return this.scale(et)+ot}default:return this.scale(et)}if(tt){var st=this.bandwidth?this.bandwidth()/2:0;return this.scale(et)+st}return this.scale(et)}}isInRange(et){var tt=this.range(),rt=tt[0],nt=tt[tt.length-1];return rt<=nt?et>=rt&&et<=nt:et>=nt&&et<=rt}}_defineProperty$5(ScaleHelper,"EPS",1e-4);function normalizeAngle(_e){return(_e%180+180)%180}var getAngledRectangleWidth=function(et){var{width:tt,height:rt}=et,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ot=normalizeAngle(nt),st=ot*Math.PI/180,at=Math.atan(rt/tt),ct=st>at&&st<Math.PI-at?rt/Math.sin(st):tt/Math.cos(st);return Math.abs(ct)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(_e,et)=>{_e.dots.push(et.payload)},removeDot:(_e,et)=>{var tt=current(_e).dots.findIndex(rt=>rt===et.payload);tt!==-1&&_e.dots.splice(tt,1)},addArea:(_e,et)=>{_e.areas.push(et.payload)},removeArea:(_e,et)=>{var tt=current(_e).areas.findIndex(rt=>rt===et.payload);tt!==-1&&_e.areas.splice(tt,1)},addLine:(_e,et)=>{_e.lines.push(et.payload)},removeLine:(_e,et)=>{var tt=current(_e).lines.findIndex(rt=>rt===et.payload);tt!==-1&&_e.lines.splice(tt,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=_e=>{var{children:et}=_e,[tt]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),rt=usePlotArea();if(rt==null)return null;var{x:nt,y:ot,width:st,height:at}=rt;return reactExports.createElement(ClipPathIdContext.Provider,{value:tt},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:tt},reactExports.createElement("rect",{x:nt,y:ot,height:at,width:st}))),et)};function shallowEqual(_e,et){for(var tt in _e)if({}.hasOwnProperty.call(_e,tt)&&(!{}.hasOwnProperty.call(et,tt)||_e[tt]!==et[tt]))return!1;for(var rt in et)if({}.hasOwnProperty.call(et,rt)&&!{}.hasOwnProperty.call(_e,rt))return!1;return!0}function getEveryNthWithCondition(_e,et,tt){if(et<1)return[];if(et===1&&tt===void 0)return _e;for(var rt=[],nt=0;nt<_e.length;nt+=et)rt.push(_e[nt]);return rt}function getAngledTickWidth(_e,et,tt){var rt={width:_e.width+et.width,height:_e.height+et.height};return getAngledRectangleWidth(rt,tt)}function getTickBoundaries(_e,et,tt){var rt=tt==="width",{x:nt,y:ot,width:st,height:at}=_e;return et===1?{start:rt?nt:ot,end:rt?nt+st:ot+at}:{start:rt?nt+st:ot+at,end:rt?nt:ot}}function isVisible(_e,et,tt,rt,nt){if(_e*et<_e*rt||_e*et>_e*nt)return!1;var ot=tt();return _e*(et-_e*ot/2-rt)>=0&&_e*(et+_e*ot/2-nt)<=0}function getNumberIntervalTicks(_e,et){return getEveryNthWithCondition(_e,et+1)}function getEquidistantTicks(_e,et,tt,rt,nt){for(var ot=(rt||[]).slice(),{start:st,end:at}=et,ct=0,lt=1,dt=st,ft=function(){var gt=rt==null?void 0:rt[ct];if(gt===void 0)return{v:getEveryNthWithCondition(rt,lt)};var mt=ct,vt,yt=()=>(vt===void 0&&(vt=tt(gt,mt)),vt),bt=gt.coordinate,xt=ct===0||isVisible(_e,bt,yt,dt,at);xt||(ct=0,dt=st,lt+=1),xt&&(dt=bt+_e*(yt()/2+nt),ct+=lt)},ht;lt<=ot.length;)if(ht=ft(),ht)return ht.v;return[]}function ownKeys$4(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$4(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$4(Object(tt),!0).forEach(function(rt){_defineProperty$4(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$4(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$4(_e,et,tt){return(et=_toPropertyKey$4(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$4(_e){var et=_toPrimitive$4(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$4(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function getTicksEnd(_e,et,tt,rt,nt){for(var ot=(rt||[]).slice(),st=ot.length,{start:at}=et,{end:ct}=et,lt=function(ht){var pt=ot[ht],gt,mt=()=>(gt===void 0&&(gt=tt(pt,ht)),gt);if(ht===st-1){var vt=_e*(pt.coordinate+_e*mt()/2-ct);ot[ht]=pt=_objectSpread$4(_objectSpread$4({},pt),{},{tickCoord:vt>0?pt.coordinate-vt*_e:pt.coordinate})}else ot[ht]=pt=_objectSpread$4(_objectSpread$4({},pt),{},{tickCoord:pt.coordinate});var yt=isVisible(_e,pt.tickCoord,mt,at,ct);yt&&(ct=pt.tickCoord-_e*(mt()/2+nt),ot[ht]=_objectSpread$4(_objectSpread$4({},pt),{},{isShow:!0}))},dt=st-1;dt>=0;dt--)lt(dt);return ot}function getTicksStart(_e,et,tt,rt,nt,ot){var st=(rt||[]).slice(),at=st.length,{start:ct,end:lt}=et;if(ot){var dt=rt[at-1],ft=tt(dt,at-1),ht=_e*(dt.coordinate+_e*ft/2-lt);st[at-1]=dt=_objectSpread$4(_objectSpread$4({},dt),{},{tickCoord:ht>0?dt.coordinate-ht*_e:dt.coordinate});var pt=isVisible(_e,dt.tickCoord,()=>ft,ct,lt);pt&&(lt=dt.tickCoord-_e*(ft/2+nt),st[at-1]=_objectSpread$4(_objectSpread$4({},dt),{},{isShow:!0}))}for(var gt=ot?at-1:at,mt=function(bt){var xt=st[bt],wt,At=()=>(wt===void 0&&(wt=tt(xt,bt)),wt);if(bt===0){var St=_e*(xt.coordinate-_e*At()/2-ct);st[bt]=xt=_objectSpread$4(_objectSpread$4({},xt),{},{tickCoord:St<0?xt.coordinate-St*_e:xt.coordinate})}else st[bt]=xt=_objectSpread$4(_objectSpread$4({},xt),{},{tickCoord:xt.coordinate});var $t=isVisible(_e,xt.tickCoord,At,ct,lt);$t&&(ct=xt.tickCoord+_e*(At()/2+nt),st[bt]=_objectSpread$4(_objectSpread$4({},xt),{},{isShow:!0}))},vt=0;vt<gt;vt++)mt(vt);return st}function getTicks(_e,et,tt){var{tick:rt,ticks:nt,viewBox:ot,minTickGap:st,orientation:at,interval:ct,tickFormatter:lt,unit:dt,angle:ft}=_e;if(!nt||!nt.length||!rt)return[];if(isNumber(ct)||Global.isSsr){var ht;return(ht=getNumberIntervalTicks(nt,isNumber(ct)?ct:0))!==null&&ht!==void 0?ht:[]}var pt=[],gt=at==="top"||at==="bottom"?"width":"height",mt=dt&&gt==="width"?getStringSize(dt,{fontSize:et,letterSpacing:tt}):{width:0,height:0},vt=(xt,wt)=>{var At=typeof lt=="function"?lt(xt.value,wt):xt.value;return gt==="width"?getAngledTickWidth(getStringSize(At,{fontSize:et,letterSpacing:tt}),mt,ft):getStringSize(At,{fontSize:et,letterSpacing:tt})[gt]},yt=nt.length>=2?mathSign(nt[1].coordinate-nt[0].coordinate):1,bt=getTickBoundaries(ot,yt,gt);return ct==="equidistantPreserveStart"?getEquidistantTicks(yt,bt,vt,nt,st):(ct==="preserveStart"||ct==="preserveStartEnd"?pt=getTicksStart(yt,bt,vt,nt,st,ct==="preserveStartEnd"):pt=getTicksEnd(yt,bt,vt,nt,st),pt.filter(xt=>xt.isShow))}var getCalculatedYAxisWidth=_e=>{var{ticks:et,label:tt,labelGapWithTick:rt=5,tickSize:nt=0,tickMargin:ot=0}=_e,st=0;if(et){Array.from(et).forEach(dt=>{if(dt){var ft=dt.getBoundingClientRect();ft.width>st&&(st=ft.width)}});var at=tt?tt.getBoundingClientRect().width:0,ct=nt+ot,lt=st+ct+at+(tt?rt:0);return Math.round(lt)}return 0},_excluded$6=["axisLine","width","height","className","hide","ticks"],_excluded2$4=["viewBox"],_excluded3$4=["viewBox"];function _objectWithoutProperties$6(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$6(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$6(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$7.apply(null,arguments)}function ownKeys$3(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$3(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$3(Object(tt),!0).forEach(function(rt){_defineProperty$3(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$3(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$3(_e,et,tt){return(et=_toPropertyKey$3(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$3(_e){var et=_toPrimitive$3(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$3(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function AxisLine(_e){var{x:et,y:tt,width:rt,height:nt,orientation:ot,mirror:st,axisLine:at,otherSvgProps:ct}=_e;if(!at)return null;var lt=_objectSpread$3(_objectSpread$3(_objectSpread$3({},ct),svgPropertiesNoEvents(at)),{},{fill:"none"});if(ot==="top"||ot==="bottom"){var dt=+(ot==="top"&&!st||ot==="bottom"&&st);lt=_objectSpread$3(_objectSpread$3({},lt),{},{x1:et,y1:tt+dt*nt,x2:et+rt,y2:tt+dt*nt})}else{var ft=+(ot==="left"&&!st||ot==="right"&&st);lt=_objectSpread$3(_objectSpread$3({},lt),{},{x1:et+ft*rt,y1:tt,x2:et+ft*rt,y2:tt+nt})}return reactExports.createElement("line",_extends$7({},lt,{className:clsx("recharts-cartesian-axis-line",get$a(at,"className"))}))}function getTickLineCoord(_e,et,tt,rt,nt,ot,st,at,ct){var lt,dt,ft,ht,pt,gt,mt=at?-1:1,vt=_e.tickSize||st,yt=isNumber(_e.tickCoord)?_e.tickCoord:_e.coordinate;switch(ot){case"top":lt=dt=_e.coordinate,ht=tt+ +!at*nt,ft=ht-mt*vt,gt=ft-mt*ct,pt=yt;break;case"left":ft=ht=_e.coordinate,dt=et+ +!at*rt,lt=dt-mt*vt,pt=lt-mt*ct,gt=yt;break;case"right":ft=ht=_e.coordinate,dt=et+ +at*rt,lt=dt+mt*vt,pt=lt+mt*ct,gt=yt;break;default:lt=dt=_e.coordinate,ht=tt+ +at*nt,ft=ht+mt*vt,gt=ft+mt*ct,pt=yt;break}return{line:{x1:lt,y1:ft,x2:dt,y2:ht},tick:{x:pt,y:gt}}}function getTickTextAnchor(_e,et){switch(_e){case"left":return et?"start":"end";case"right":return et?"end":"start";default:return"middle"}}function getTickVerticalAnchor(_e,et){switch(_e){case"left":case"right":return"middle";case"top":return et?"start":"end";default:return et?"end":"start"}}function TickItem(_e){var{option:et,tickProps:tt,value:rt}=_e,nt,ot=clsx(tt.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(et))nt=reactExports.cloneElement(et,_objectSpread$3(_objectSpread$3({},tt),{},{className:ot}));else if(typeof et=="function")nt=et(_objectSpread$3(_objectSpread$3({},tt),{},{className:ot}));else{var st="recharts-cartesian-axis-tick-value";typeof et!="boolean"&&(st=clsx(st,et==null?void 0:et.className)),nt=reactExports.createElement(Text,_extends$7({},tt,{className:st}),rt)}return nt}function Ticks(_e){var{ticks:et=[],tick:tt,tickLine:rt,stroke:nt,tickFormatter:ot,unit:st,padding:at,tickTextProps:ct,orientation:lt,mirror:dt,x:ft,y:ht,width:pt,height:gt,tickSize:mt,tickMargin:vt,fontSize:yt,letterSpacing:bt,getTicksConfig:xt,events:wt}=_e,At=getTicks(_objectSpread$3(_objectSpread$3({},xt),{},{ticks:et}),yt,bt),St=getTickTextAnchor(lt,dt),$t=getTickVerticalAnchor(lt,dt),kt=svgPropertiesNoEvents(xt),Ct=svgPropertiesNoEventsFromUnknown(tt),_t={};typeof rt=="object"&&(_t=rt);var Tt=_objectSpread$3(_objectSpread$3({},kt),{},{fill:"none"},_t),jt=At.map((Bt,Gt)=>{var{line:Rt,tick:Wt}=getTickLineCoord(Bt,ft,ht,pt,gt,lt,mt,dt,vt),Vt=_objectSpread$3(_objectSpread$3(_objectSpread$3(_objectSpread$3({textAnchor:St,verticalAnchor:$t},kt),{},{stroke:"none",fill:nt},Ct),Wt),{},{index:Gt,payload:Bt,visibleTicksCount:At.length,tickFormatter:ot,padding:at},ct);return reactExports.createElement(Layer,_extends$7({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Bt.value,"-").concat(Bt.coordinate,"-").concat(Bt.tickCoord)},adaptEventsOfChild(wt,Bt,Gt)),rt&&reactExports.createElement("line",_extends$7({},Tt,Rt,{className:clsx("recharts-cartesian-axis-tick-line",get$a(rt,"className"))})),tt&&reactExports.createElement(TickItem,{option:tt,tickProps:Vt,value:"".concat(typeof ot=="function"?ot(Bt.value,Gt):Bt.value).concat(st||"")}))});return jt.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},jt):null}var CartesianAxisComponent=reactExports.forwardRef((_e,et)=>{var{axisLine:tt,width:rt,height:nt,className:ot,hide:st,ticks:at}=_e,ct=_objectWithoutProperties$6(_e,_excluded$6),[lt,dt]=reactExports.useState(""),[ft,ht]=reactExports.useState(""),pt=reactExports.useRef(null);reactExports.useImperativeHandle(et,()=>({getCalculatedWidth:()=>{var mt;return getCalculatedYAxisWidth({ticks:pt.current,label:(mt=_e.labelRef)===null||mt===void 0?void 0:mt.current,labelGapWithTick:5,tickSize:_e.tickSize,tickMargin:_e.tickMargin})}}));var gt=reactExports.useCallback(mt=>{if(mt){var vt=mt.getElementsByClassName("recharts-cartesian-axis-tick-value");pt.current=vt;var yt=vt[0];if(yt){var bt=window.getComputedStyle(yt),xt=bt.fontSize,wt=bt.letterSpacing;(xt!==lt||wt!==ft)&&(dt(xt),ht(wt))}}},[lt,ft]);return st||rt!=null&&rt<=0||nt!=null&&nt<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",ot),ref:gt},reactExports.createElement(AxisLine,{x:_e.x,y:_e.y,width:rt,height:nt,orientation:_e.orientation,mirror:_e.mirror,axisLine:tt,otherSvgProps:svgPropertiesNoEvents(_e)}),reactExports.createElement(Ticks,{ticks:at,tick:_e.tick,tickLine:_e.tickLine,stroke:_e.stroke,tickFormatter:_e.tickFormatter,unit:_e.unit,padding:_e.padding,tickTextProps:_e.tickTextProps,orientation:_e.orientation,mirror:_e.mirror,x:_e.x,y:_e.y,width:_e.width,height:_e.height,tickSize:_e.tickSize,tickMargin:_e.tickMargin,fontSize:lt,letterSpacing:ft,getTicksConfig:_e,events:ct}),reactExports.createElement(CartesianLabelContextProvider,{x:_e.x,y:_e.y,width:_e.width,height:_e.height},reactExports.createElement(CartesianLabelFromLabelProp,{label:_e.label,labelRef:_e.labelRef}),_e.children))}),MemoCartesianAxis=reactExports.memo(CartesianAxisComponent,(_e,et)=>{var{viewBox:tt}=_e,rt=_objectWithoutProperties$6(_e,_excluded2$4),{viewBox:nt}=et,ot=_objectWithoutProperties$6(et,_excluded3$4);return shallowEqual(tt,nt)&&shallowEqual(rt,ot)}),CartesianAxis=reactExports.forwardRef((_e,et)=>{var tt=resolveDefaultProps(_e,defaultCartesianAxisProps);return reactExports.createElement(MemoCartesianAxis,_extends$7({},tt,{ref:et}))});CartesianAxis.displayName="CartesianAxis";var _excluded$5=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3$3=["xAxisId","yAxisId"],_excluded4$2=["xAxisId","yAxisId"];function ownKeys$2(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$2(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object(tt),!0).forEach(function(rt){_defineProperty$2(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$2(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$2(_e,et,tt){return(et=_toPropertyKey$2(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$2(_e){var et=_toPrimitive$2(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$2(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$6.apply(null,arguments)}function _objectWithoutProperties$5(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$5(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$5(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var Background=_e=>{var{fill:et}=_e;if(!et||et==="none")return null;var{fillOpacity:tt,x:rt,y:nt,width:ot,height:st,ry:at}=_e;return reactExports.createElement("rect",{x:rt,y:nt,ry:at,width:ot,height:st,stroke:"none",fill:et,fillOpacity:tt,className:"recharts-cartesian-grid-bg"})};function renderLineItem(_e,et){var tt;if(reactExports.isValidElement(_e))tt=reactExports.cloneElement(_e,et);else if(typeof _e=="function")tt=_e(et);else{var{x1:rt,y1:nt,x2:ot,y2:st,key:at}=et,ct=_objectWithoutProperties$5(et,_excluded$5),lt=svgPropertiesNoEvents(ct),{offset:dt}=lt,ft=_objectWithoutProperties$5(lt,_excluded2$3);tt=reactExports.createElement("line",_extends$6({},ft,{x1:rt,y1:nt,x2:ot,y2:st,fill:"none",key:at}))}return tt}function HorizontalGridLines(_e){var{x:et,width:tt,horizontal:rt=!0,horizontalPoints:nt}=_e;if(!rt||!nt||!nt.length)return null;var{xAxisId:ot,yAxisId:st}=_e,at=_objectWithoutProperties$5(_e,_excluded3$3),ct=nt.map((lt,dt)=>{var ft=_objectSpread$2(_objectSpread$2({},at),{},{x1:et,y1:lt,x2:et+tt,y2:lt,key:"line-".concat(dt),index:dt});return renderLineItem(rt,ft)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},ct)}function VerticalGridLines(_e){var{y:et,height:tt,vertical:rt=!0,verticalPoints:nt}=_e;if(!rt||!nt||!nt.length)return null;var{xAxisId:ot,yAxisId:st}=_e,at=_objectWithoutProperties$5(_e,_excluded4$2),ct=nt.map((lt,dt)=>{var ft=_objectSpread$2(_objectSpread$2({},at),{},{x1:lt,y1:et,x2:lt,y2:et+tt,key:"line-".concat(dt),index:dt});return renderLineItem(rt,ft)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},ct)}function HorizontalStripes(_e){var{horizontalFill:et,fillOpacity:tt,x:rt,y:nt,width:ot,height:st,horizontalPoints:at,horizontal:ct=!0}=_e;if(!ct||!et||!et.length)return null;var lt=at.map(ft=>Math.round(ft+nt-nt)).sort((ft,ht)=>ft-ht);nt!==lt[0]&&lt.unshift(0);var dt=lt.map((ft,ht)=>{var pt=!lt[ht+1],gt=pt?nt+st-ft:lt[ht+1]-ft;if(gt<=0)return null;var mt=ht%et.length;return reactExports.createElement("rect",{key:"react-".concat(ht),y:ft,x:rt,height:gt,width:ot,stroke:"none",fill:et[mt],fillOpacity:tt,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},dt)}function VerticalStripes(_e){var{vertical:et=!0,verticalFill:tt,fillOpacity:rt,x:nt,y:ot,width:st,height:at,verticalPoints:ct}=_e;if(!et||!tt||!tt.length)return null;var lt=ct.map(ft=>Math.round(ft+nt-nt)).sort((ft,ht)=>ft-ht);nt!==lt[0]&&lt.unshift(0);var dt=lt.map((ft,ht)=>{var pt=!lt[ht+1],gt=pt?nt+st-ft:lt[ht+1]-ft;if(gt<=0)return null;var mt=ht%tt.length;return reactExports.createElement("rect",{key:"react-".concat(ht),x:ft,y:ot,width:gt,height:at,stroke:"none",fill:tt[mt],fillOpacity:rt,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},dt)}var defaultVerticalCoordinatesGenerator=(_e,et)=>{var{xAxis:tt,width:rt,height:nt,offset:ot}=_e;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},defaultCartesianAxisProps),tt),{},{ticks:getTicksOfAxis(tt),viewBox:{x:0,y:0,width:rt,height:nt}})),ot.left,ot.left+ot.width,et)},defaultHorizontalCoordinatesGenerator=(_e,et)=>{var{yAxis:tt,width:rt,height:nt,offset:ot}=_e;return getCoordinatesOfGrid(getTicks(_objectSpread$2(_objectSpread$2(_objectSpread$2({},defaultCartesianAxisProps),tt),{},{ticks:getTicksOfAxis(tt),viewBox:{x:0,y:0,width:rt,height:nt}})),ot.top,ot.top+ot.height,et)},defaultProps$1={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(_e){var et=useChartWidth(),tt=useChartHeight(),rt=useOffsetInternal(),nt=_objectSpread$2(_objectSpread$2({},resolveDefaultProps(_e,defaultProps$1)),{},{x:isNumber(_e.x)?_e.x:rt.left,y:isNumber(_e.y)?_e.y:rt.top,width:isNumber(_e.width)?_e.width:rt.width,height:isNumber(_e.height)?_e.height:rt.height}),{xAxisId:ot,yAxisId:st,x:at,y:ct,width:lt,height:dt,syncWithTicks:ft,horizontalValues:ht,verticalValues:pt}=nt,gt=useIsPanorama(),mt=useAppSelector(Ct=>selectAxisPropsNeededForCartesianGridTicksGenerator(Ct,"xAxis",ot,gt)),vt=useAppSelector(Ct=>selectAxisPropsNeededForCartesianGridTicksGenerator(Ct,"yAxis",st,gt));if(!isNumber(lt)||lt<=0||!isNumber(dt)||dt<=0||!isNumber(at)||at!==+at||!isNumber(ct)||ct!==+ct)return null;var yt=nt.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,bt=nt.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:xt,verticalPoints:wt}=nt;if((!xt||!xt.length)&&typeof bt=="function"){var At=ht&&ht.length,St=bt({yAxis:vt?_objectSpread$2(_objectSpread$2({},vt),{},{ticks:At?ht:vt.ticks}):void 0,width:et,height:tt,offset:rt},At?!0:ft);warn(Array.isArray(St),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof St,"]")),Array.isArray(St)&&(xt=St)}if((!wt||!wt.length)&&typeof yt=="function"){var $t=pt&&pt.length,kt=yt({xAxis:mt?_objectSpread$2(_objectSpread$2({},mt),{},{ticks:$t?pt:mt.ticks}):void 0,width:et,height:tt,offset:rt},$t?!0:ft);warn(Array.isArray(kt),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof kt,"]")),Array.isArray(kt)&&(wt=kt)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:nt.fill,fillOpacity:nt.fillOpacity,x:nt.x,y:nt.y,width:nt.width,height:nt.height,ry:nt.ry}),reactExports.createElement(HorizontalStripes,_extends$6({},nt,{horizontalPoints:xt})),reactExports.createElement(VerticalStripes,_extends$6({},nt,{verticalPoints:wt})),reactExports.createElement(HorizontalGridLines,_extends$6({},nt,{offset:rt,horizontalPoints:xt,xAxis:mt,yAxis:vt})),reactExports.createElement(VerticalGridLines,_extends$6({},nt,{offset:rt,verticalPoints:wt,xAxis:mt,yAxis:vt})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(_e,et,tt,rt)=>selectAxisWithScale(_e,"xAxis",et,rt),selectXAxisTicks=(_e,et,tt,rt)=>selectTicksOfGraphicalItem(_e,"xAxis",et,rt),selectYAxisWithScale=(_e,et,tt,rt)=>selectAxisWithScale(_e,"yAxis",tt,rt),selectYAxisTicks=(_e,et,tt,rt)=>selectTicksOfGraphicalItem(_e,"yAxis",tt,rt),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(_e,et,tt,rt,nt)=>isCategoricalAxis(_e,"xAxis")?getBandSizeOfAxis(et,rt,!1):getBandSizeOfAxis(tt,nt,!1)),pickLineId=(_e,et,tt,rt,nt)=>nt;function isLineSettings(_e){return _e.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(_e,et)=>_e.filter(isLineSettings).find(tt=>tt.id===et)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(_e,et,tt,rt,nt,ot,st,at)=>{var{chartData:ct,dataStartIndex:lt,dataEndIndex:dt}=at;if(!(ot==null||et==null||tt==null||rt==null||nt==null||rt.length===0||nt.length===0||st==null)){var{dataKey:ft,data:ht}=ot,pt;if(ht!=null&&ht.length>0?pt=ht:pt=ct==null?void 0:ct.slice(lt,dt+1),pt!=null)return computeLinePoints({layout:_e,xAxis:et,yAxis:tt,xAxisTicks:rt,yAxisTicks:nt,dataKey:ft,bandSize:st,displayedData:pt})}});function getRadiusAndStrokeWidthFromDot(_e){var et=svgPropertiesNoEventsFromUnknown(_e),tt=3,rt=2;if(et!=null){var{r:nt,strokeWidth:ot}=et,st=Number(nt),at=Number(ot);return(Number.isNaN(st)||st<0)&&(st=tt),(Number.isNaN(at)||at<0)&&(at=rt),{r:st,strokeWidth:at}}return{r:tt,strokeWidth:rt}}var _excluded$4=["id"],_excluded2$2=["type","layout","connectNulls","needClip"],_excluded3$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$1(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread$1(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(tt),!0).forEach(function(rt){_defineProperty$1(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty$1(_e,et,tt){return(et=_toPropertyKey$1(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey$1(_e){var et=_toPrimitive$1(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive$1(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _objectWithoutProperties$4(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$4(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$4(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$5.apply(null,arguments)}var computeLegendPayloadFromAreaData=_e=>{var{dataKey:et,name:tt,stroke:rt,legendType:nt,hide:ot}=_e;return[{inactive:ot,dataKey:et,type:nt,color:rt,value:getTooltipNameProp(tt,et),payload:_e}]};function getTooltipEntrySettings(_e){var{dataKey:et,data:tt,stroke:rt,strokeWidth:nt,fill:ot,name:st,hide:at,unit:ct}=_e;return{dataDefinedOnItem:tt,positions:void 0,settings:{stroke:rt,strokeWidth:nt,fill:ot,dataKey:et,nameKey:void 0,name:getTooltipNameProp(st,et),hide:at,type:_e.tooltipType,color:_e.stroke,unit:ct}}}var generateSimpleStrokeDasharray=(_e,et)=>"".concat(et,"px ").concat(_e-et,"px");function repeat(_e,et){for(var tt=_e.length%2!==0?[..._e,0]:_e,rt=[],nt=0;nt<et;++nt)rt=[...rt,...tt];return rt}var getStrokeDasharray=(_e,et,tt)=>{var rt=tt.reduce((ft,ht)=>ft+ht);if(!rt)return generateSimpleStrokeDasharray(et,_e);for(var nt=Math.floor(_e/rt),ot=_e%rt,st=et-_e,at=[],ct=0,lt=0;ct<tt.length;lt+=tt[ct],++ct)if(lt+tt[ct]>ot){at=[...tt.slice(0,ct),ot-lt];break}var dt=at.length%2===0?[0,st]:[st];return[...repeat(tt,nt),...at,...dt].map(ft=>"".concat(ft,"px")).join(", ")};function renderDotItem(_e,et){var tt;if(reactExports.isValidElement(_e))tt=reactExports.cloneElement(_e,et);else if(typeof _e=="function")tt=_e(et);else{var rt=clsx("recharts-line-dot",typeof _e!="boolean"?_e.className:"");tt=reactExports.createElement(Dot,_extends$5({},et,{className:rt}))}return tt}function shouldRenderDots(_e,et){return _e==null?!1:et?!0:_e.length===1}function Dots(_e){var{clipPathId:et,points:tt,props:rt}=_e,{dot:nt,dataKey:ot,needClip:st}=rt;if(!shouldRenderDots(tt,nt))return null;var{id:at}=rt,ct=_objectWithoutProperties$4(rt,_excluded$4),lt=isClipDot(nt),dt=svgPropertiesNoEvents(ct),ft=svgPropertiesAndEventsFromUnknown(nt),ht=tt.map((gt,mt)=>{var vt=_objectSpread$1(_objectSpread$1(_objectSpread$1({key:"dot-".concat(mt),r:3},dt),ft),{},{index:mt,cx:gt.x,cy:gt.y,dataKey:ot,value:gt.value,payload:gt.payload,points:tt});return renderDotItem(nt,vt)}),pt={clipPath:st?"url(#clipPath-".concat(lt?"":"dots-").concat(et,")"):void 0};return reactExports.createElement(Layer,_extends$5({className:"recharts-line-dots",key:"dots"},pt),ht)}function LineLabelListProvider(_e){var{showLabels:et,children:tt,points:rt}=_e,nt=reactExports.useMemo(()=>rt==null?void 0:rt.map(ot=>{var st={x:ot.x,y:ot.y,width:0,height:0};return _objectSpread$1(_objectSpread$1({},st),{},{value:ot.value,payload:ot.payload,viewBox:st,parentViewBox:void 0,fill:void 0})}),[rt]);return reactExports.createElement(CartesianLabelListContextProvider,{value:et?nt:null},tt)}function StaticCurve(_e){var{clipPathId:et,pathRef:tt,points:rt,strokeDasharray:nt,props:ot}=_e,{type:st,layout:at,connectNulls:ct,needClip:lt}=ot,dt=_objectWithoutProperties$4(ot,_excluded2$2),ft=_objectSpread$1(_objectSpread$1({},svgPropertiesAndEvents(dt)),{},{fill:"none",className:"recharts-line-curve",clipPath:lt?"url(#clipPath-".concat(et,")"):void 0,points:rt,type:st,layout:at,connectNulls:ct,strokeDasharray:nt??ot.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,(rt==null?void 0:rt.length)>1&&reactExports.createElement(Curve,_extends$5({},ft,{pathRef:tt})),reactExports.createElement(Dots,{points:rt,clipPathId:et,props:ot}))}function getTotalLength(_e){try{return _e&&_e.getTotalLength&&_e.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(_e){var{clipPathId:et,props:tt,pathRef:rt,previousPointsRef:nt,longestAnimatedLengthRef:ot}=_e,{points:st,strokeDasharray:at,isAnimationActive:ct,animationBegin:lt,animationDuration:dt,animationEasing:ft,animateNewValues:ht,width:pt,height:gt,onAnimationEnd:mt,onAnimationStart:vt}=tt,yt=nt.current,bt=useAnimationId(tt,"recharts-line-"),[xt,wt]=reactExports.useState(!1),At=!xt,St=reactExports.useCallback(()=>{typeof mt=="function"&&mt(),wt(!1)},[mt]),$t=reactExports.useCallback(()=>{typeof vt=="function"&&vt(),wt(!0)},[vt]),kt=getTotalLength(rt.current),Ct=ot.current;return reactExports.createElement(LineLabelListProvider,{points:st,showLabels:At},tt.children,reactExports.createElement(JavascriptAnimate,{animationId:bt,begin:lt,duration:dt,isActive:ct,easing:ft,onAnimationEnd:St,onAnimationStart:$t,key:bt},_t=>{var Tt=interpolate$1(Ct,kt+Ct,_t),jt=Math.min(Tt,kt),Bt;if(ct)if(at){var Gt="".concat(at).split(/[,\s]+/gim).map(Vt=>parseFloat(Vt));Bt=getStrokeDasharray(jt,kt,Gt)}else Bt=generateSimpleStrokeDasharray(kt,jt);else Bt=at==null?void 0:String(at);if(yt){var Rt=yt.length/st.length,Wt=_t===1?st:st.map((Vt,Lt)=>{var Ht=Math.floor(Lt*Rt);if(yt[Ht]){var Kt=yt[Ht];return _objectSpread$1(_objectSpread$1({},Vt),{},{x:interpolate$1(Kt.x,Vt.x,_t),y:interpolate$1(Kt.y,Vt.y,_t)})}return ht?_objectSpread$1(_objectSpread$1({},Vt),{},{x:interpolate$1(pt*2,Vt.x,_t),y:interpolate$1(gt/2,Vt.y,_t)}):_objectSpread$1(_objectSpread$1({},Vt),{},{x:Vt.x,y:Vt.y})});return nt.current=Wt,reactExports.createElement(StaticCurve,{props:tt,points:Wt,clipPathId:et,pathRef:rt,strokeDasharray:Bt})}return _t>0&&kt>0&&(nt.current=st,ot.current=jt),reactExports.createElement(StaticCurve,{props:tt,points:st,clipPathId:et,pathRef:rt,strokeDasharray:Bt})}),reactExports.createElement(LabelListFromLabelProp,{label:tt.label}))}function RenderCurve(_e){var{clipPathId:et,props:tt}=_e,rt=reactExports.useRef(null),nt=reactExports.useRef(0),ot=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:tt,clipPathId:et,previousPointsRef:rt,longestAnimatedLengthRef:nt,pathRef:ot})}var errorBarDataPointFormatter=(_e,et)=>({x:_e.x,y:_e.y,value:_e.value,errorVal:getValueByDataKey(_e.payload,et)});class LineWithState extends reactExports.Component{render(){var{hide:et,dot:tt,points:rt,className:nt,xAxisId:ot,yAxisId:st,top:at,left:ct,width:lt,height:dt,id:ft,needClip:ht}=this.props;if(et)return null;var pt=clsx("recharts-line",nt),gt=ft,{r:mt,strokeWidth:vt}=getRadiusAndStrokeWidthFromDot(tt),yt=isClipDot(tt),bt=mt*2+vt;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:pt},ht&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:gt,xAxisId:ot,yAxisId:st}),!yt&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(gt)},reactExports.createElement("rect",{x:ct-bt/2,y:at-bt/2,width:lt+bt,height:dt+bt}))),reactExports.createElement(SetErrorBarContext,{xAxisId:ot,yAxisId:st,data:rt,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:gt}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:rt,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(_e){var et=resolveDefaultProps(_e,defaultLineProps),{activeDot:tt,animateNewValues:rt,animationBegin:nt,animationDuration:ot,animationEasing:st,connectNulls:at,dot:ct,hide:lt,isAnimationActive:dt,label:ft,legendType:ht,xAxisId:pt,yAxisId:gt,id:mt}=et,vt=_objectWithoutProperties$4(et,_excluded3$2),{needClip:yt}=useNeedsClip(pt,gt),bt=usePlotArea(),xt=useChartLayout(),wt=useIsPanorama(),At=useAppSelector(_t=>selectLinePoints(_t,pt,gt,wt,mt));if(xt!=="horizontal"&&xt!=="vertical"||At==null||bt==null)return null;var{height:St,width:$t,x:kt,y:Ct}=bt;return reactExports.createElement(LineWithState,_extends$5({},vt,{id:mt,connectNulls:at,dot:ct,activeDot:tt,animateNewValues:rt,animationBegin:nt,animationDuration:ot,animationEasing:st,isAnimationActive:dt,hide:lt,label:ft,legendType:ht,xAxisId:pt,yAxisId:gt,points:At,layout:xt,height:St,width:$t,left:kt,top:Ct,needClip:yt}))}function computeLinePoints(_e){var{layout:et,xAxis:tt,yAxis:rt,xAxisTicks:nt,yAxisTicks:ot,dataKey:st,bandSize:at,displayedData:ct}=_e;return ct.map((lt,dt)=>{var ft=getValueByDataKey(lt,st);if(et==="horizontal"){var ht=getCateCoordinateOfLine({axis:tt,ticks:nt,bandSize:at,entry:lt,index:dt}),pt=isNullish(ft)?null:rt.scale(ft);return{x:ht,y:pt,value:ft,payload:lt}}var gt=isNullish(ft)?null:tt.scale(ft),mt=getCateCoordinateOfLine({axis:rt,ticks:ot,bandSize:at,entry:lt,index:dt});return gt==null||mt==null?null:{x:gt,y:mt,value:ft,payload:lt}}).filter(Boolean)}function LineFn(_e){var et=resolveDefaultProps(_e,defaultLineProps),tt=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:et.id,type:"line"},rt=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(et)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:et}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:rt,data:et.data,xAxisId:et.xAxisId,yAxisId:et.yAxisId,zAxisId:0,dataKey:et.dataKey,hide:et.hide,isPanorama:tt}),reactExports.createElement(LineImpl,_extends$5({},et,{id:rt}))))}var Line=reactExports.memo(LineFn);Line.displayName="Line";var _excluded$3=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"],_excluded3$1=["domain"],_excluded4$1=["domain"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$4.apply(null,arguments)}function _objectWithoutProperties$3(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$3(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$3(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}function SetXAxisSettings(_e){var et=useAppDispatch();return reactExports.useLayoutEffect(()=>(et(addXAxis(_e)),()=>{et(removeXAxis(_e))}),[_e,et]),null}var XAxisImpl=_e=>{var{xAxisId:et,className:tt}=_e,rt=useAppSelector(selectAxisViewBox),nt=useIsPanorama(),ot="xAxis",st=useAppSelector(vt=>selectAxisScale(vt,ot,et,nt)),at=useAppSelector(vt=>selectTicksOfAxis(vt,ot,et,nt)),ct=useAppSelector(vt=>selectXAxisSize(vt,et)),lt=useAppSelector(vt=>selectXAxisPosition(vt,et)),dt=useAppSelector(vt=>selectXAxisSettingsNoDefaults(vt,et));if(ct==null||lt==null||dt==null)return null;var{dangerouslySetInnerHTML:ft,ticks:ht}=_e,pt=_objectWithoutProperties$3(_e,_excluded$3),{id:gt}=dt,mt=_objectWithoutProperties$3(dt,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$4({},pt,mt,{scale:st,x:lt.x,y:lt.y,width:ct.width,height:ct.height,className:clsx("recharts-".concat(ot," ").concat(ot),tt),viewBox:rt,ticks:at}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=_e=>{var et,tt,rt,nt,ot,st=resolveDefaultProps(_e,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{interval:(et=st.interval)!==null&&et!==void 0?et:"preserveEnd",id:st.xAxisId,scale:st.scale,type:st.type,padding:st.padding,allowDataOverflow:st.allowDataOverflow,domain:st.domain,dataKey:st.dataKey,allowDuplicatedCategory:st.allowDuplicatedCategory,allowDecimals:st.allowDecimals,tickCount:st.tickCount,includeHidden:(tt=st.includeHidden)!==null&&tt!==void 0?tt:!1,reversed:st.reversed,ticks:st.ticks,height:st.height,orientation:st.orientation,mirror:st.mirror,hide:st.hide,unit:st.unit,name:st.name,angle:(rt=st.angle)!==null&&rt!==void 0?rt:0,minTickGap:(nt=st.minTickGap)!==null&&nt!==void 0?nt:5,tick:(ot=st.tick)!==null&&ot!==void 0?ot:!0,tickFormatter:st.tickFormatter}),reactExports.createElement(XAxisImpl,st))},XAxisMemoComparator=(_e,et)=>{var{domain:tt}=_e,rt=_objectWithoutProperties$3(_e,_excluded3$1),{domain:nt}=et,ot=_objectWithoutProperties$3(et,_excluded4$1);return shallowEqual(rt,ot)?Array.isArray(tt)&&tt.length===2&&Array.isArray(nt)&&nt.length===2?tt[0]===nt[0]&&tt[1]===nt[1]:shallowEqual({domain:tt},{domain:nt}):!1},XAxis=reactExports.memo(XAxisSettingsDispatcher,XAxisMemoComparator);XAxis.displayName="XAxis";var _excluded$2=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"],_excluded3=["domain"],_excluded4=["domain"];function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$3.apply(null,arguments)}function _objectWithoutProperties$2(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$2(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$2(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}function SetYAxisSettings(_e){var et=useAppDispatch();return reactExports.useLayoutEffect(()=>(et(addYAxis(_e)),()=>{et(removeYAxis(_e))}),[_e,et]),null}var YAxisImpl=_e=>{var{yAxisId:et,className:tt,width:rt,label:nt}=_e,ot=reactExports.useRef(null),st=reactExports.useRef(null),at=useAppSelector(selectAxisViewBox),ct=useIsPanorama(),lt=useAppDispatch(),dt="yAxis",ft=useAppSelector(At=>selectAxisScale(At,dt,et,ct)),ht=useAppSelector(At=>selectYAxisSize(At,et)),pt=useAppSelector(At=>selectYAxisPosition(At,et)),gt=useAppSelector(At=>selectTicksOfAxis(At,dt,et,ct)),mt=useAppSelector(At=>selectYAxisSettingsNoDefaults(At,et));if(reactExports.useLayoutEffect(()=>{if(!(rt!=="auto"||!ht||isLabelContentAFunction(nt)||reactExports.isValidElement(nt)||mt==null)){var At=ot.current;if(At){var St=At.getCalculatedWidth();Math.round(ht.width)!==Math.round(St)&&lt(updateYAxisWidth({id:et,width:St}))}}},[gt,ht,lt,nt,et,rt,mt]),ht==null||pt==null||mt==null)return null;var{dangerouslySetInnerHTML:vt,ticks:yt}=_e,bt=_objectWithoutProperties$2(_e,_excluded$2),{id:xt}=mt,wt=_objectWithoutProperties$2(mt,_excluded2);return reactExports.createElement(CartesianAxis,_extends$3({},bt,wt,{ref:ot,labelRef:st,scale:ft,x:pt.x,y:pt.y,tickTextProps:rt==="auto"?{width:void 0}:{width:rt},width:ht.width,height:ht.height,className:clsx("recharts-".concat(dt," ").concat(dt),tt),viewBox:at,ticks:gt}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=_e=>{var et,tt,rt,nt,ot,st=resolveDefaultProps(_e,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(et=st.interval)!==null&&et!==void 0?et:"preserveEnd",id:st.yAxisId,scale:st.scale,type:st.type,domain:st.domain,allowDataOverflow:st.allowDataOverflow,dataKey:st.dataKey,allowDuplicatedCategory:st.allowDuplicatedCategory,allowDecimals:st.allowDecimals,tickCount:st.tickCount,padding:st.padding,includeHidden:(tt=st.includeHidden)!==null&&tt!==void 0?tt:!1,reversed:st.reversed,ticks:st.ticks,width:st.width,orientation:st.orientation,mirror:st.mirror,hide:st.hide,unit:st.unit,name:st.name,angle:(rt=st.angle)!==null&&rt!==void 0?rt:0,minTickGap:(nt=st.minTickGap)!==null&&nt!==void 0?nt:5,tick:(ot=st.tick)!==null&&ot!==void 0?ot:!0,tickFormatter:st.tickFormatter}),reactExports.createElement(YAxisImpl,st))},YAxisMemoComparator=(_e,et)=>{var{domain:tt}=_e,rt=_objectWithoutProperties$2(_e,_excluded3),{domain:nt}=et,ot=_objectWithoutProperties$2(et,_excluded4);return shallowEqual(rt,ot)?Array.isArray(tt)&&tt.length===2&&Array.isArray(nt)&&nt.length===2?tt[0]===nt[0]&&tt[1]===nt[1]:shallowEqual({domain:tt},{domain:nt}):!1},YAxis=reactExports.memo(YAxisSettingsDispatcher,YAxisMemoComparator);YAxis.displayName="YAxis";var useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$1(_e,et){return _e===et&&(_e!==0||1/_e===1/et)||_e!==_e&&et!==et}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(_e,et,tt,rt,nt){var ot=useRef(null);if(ot.current===null){var st={hasValue:!1,value:null};ot.current=st}else st=ot.current;ot=useMemo(function(){function ct(pt){if(!lt){if(lt=!0,dt=pt,pt=rt(pt),nt!==void 0&&st.hasValue){var gt=st.value;if(nt(gt,pt))return ft=gt}return ft=pt}if(gt=ft,objectIs(dt,pt))return gt;var mt=rt(pt);return nt!==void 0&&nt(gt,mt)?(dt=pt,gt):(dt=pt,ft=mt)}var lt=!1,dt,ft,ht=tt===void 0?null:tt;return[function(){return ct(et())},ht===null?void 0:function(){return ct(ht())}]},[et,tt,rt,nt]);var at=useSyncExternalStore(_e,ot[0],ot[1]);return useEffect(function(){st.hasValue=!0,st.value=at},[at]),useDebugValue(at),at};function defaultNoopBatch(_e){_e()}function createListenerCollection(){let _e=null,et=null;return{clear(){_e=null,et=null},notify(){defaultNoopBatch(()=>{let tt=_e;for(;tt;)tt.callback(),tt=tt.next})},get(){const tt=[];let rt=_e;for(;rt;)tt.push(rt),rt=rt.next;return tt},subscribe(tt){let rt=!0;const nt=et={callback:tt,next:null,prev:et};return nt.prev?nt.prev.next=nt:_e=nt,function(){!rt||_e===null||(rt=!1,nt.next?nt.next.prev=nt.prev:et=nt.prev,nt.prev?nt.prev.next=nt.next:_e=nt.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(_e,et){let tt,rt=nullListeners,nt=0,ot=!1;function st(mt){dt();const vt=rt.subscribe(mt);let yt=!1;return()=>{yt||(yt=!0,vt(),ft())}}function at(){rt.notify()}function ct(){gt.onStateChange&&gt.onStateChange()}function lt(){return ot}function dt(){nt++,tt||(tt=_e.subscribe(ct),rt=createListenerCollection())}function ft(){nt--,tt&&nt===0&&(tt(),tt=void 0,rt.clear(),rt=nullListeners)}function ht(){ot||(ot=!0,dt())}function pt(){ot&&(ot=!1,ft())}const gt={addNestedSub:st,notifyNestedSubs:at,handleChangeWrapper:ct,isSubscribed:lt,trySubscribe:ht,tryUnsubscribe:pt,getListeners:()=>rt};return gt}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const _e=gT[ContextKey]??(gT[ContextKey]=new Map);let et=_e.get(reactExports.createContext);return et||(et=reactExports.createContext(null),_e.set(reactExports.createContext,et)),et}var ReactReduxContext=getContext();function Provider$2(_e){const{children:et,context:tt,serverState:rt,store:nt}=_e,ot=reactExports.useMemo(()=>{const ct=createSubscription(nt);return{store:nt,subscription:ct,getServerState:rt?()=>rt:void 0}},[nt,rt]),st=reactExports.useMemo(()=>nt.getState(),[nt]);useIsomorphicLayoutEffect(()=>{const{subscription:ct}=ot;return ct.onStateChange=ct.notifyNestedSubs,ct.trySubscribe(),st!==nt.getState()&&ct.notifyNestedSubs(),()=>{ct.tryUnsubscribe(),ct.onStateChange=void 0}},[ot,st]);const at=tt||ReactReduxContext;return reactExports.createElement(at.Provider,{value:ot},et)}var Provider_default=Provider$2,pickChartPointer=(_e,et)=>et,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=_e=>{var et=_e.currentTarget.getBoundingClientRect(),tt=et.width/_e.currentTarget.offsetWidth,rt=et.height/_e.currentTarget.offsetHeight;return{chartX:Math.round((_e.clientX-et.left)/tt),chartY:Math.round((_e.clientY-et.top)/rt)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(_e,et)=>{var tt=_e.payload,rt=selectActivePropsFromChartPointer(et.getState(),getChartPointer(tt));(rt==null?void 0:rt.activeIndex)!=null&&et.dispatch(setMouseClickAxisIndex({activeIndex:rt.activeIndex,activeDataKey:void 0,activeCoordinate:rt.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(_e,et)=>{var tt=_e.payload,rt=et.getState(),nt=selectTooltipEventType$1(rt,rt.tooltip.settings.shared),ot=selectActivePropsFromChartPointer(rt,getChartPointer(tt));nt==="axis"&&((ot==null?void 0:ot.activeIndex)!=null?et.dispatch(setMouseOverAxisIndex({activeIndex:ot.activeIndex,activeDataKey:void 0,activeCoordinate:ot.activeCoordinate})):et.dispatch(mouseLeaveChart()))}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(_e,et)=>{var tt;_e.accessibilityLayer=et.payload.accessibilityLayer,_e.barCategoryGap=et.payload.barCategoryGap,_e.barGap=(tt=et.payload.barGap)!==null&&tt!==void 0?tt:initialState.barGap,_e.barSize=et.payload.barSize,_e.maxBarSize=et.payload.maxBarSize,_e.stackOffset=et.payload.stackOffset,_e.syncId=et.payload.syncId,_e.syncMethod=et.payload.syncMethod,_e.className=et.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(_e,et)=>et.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(_e,et)=>{var tt=et.getState(),rt=tt.rootProps.accessibilityLayer!==!1;if(rt){var{keyboardInteraction:nt}=tt.tooltip,ot=_e.payload;if(!(ot!=="ArrowRight"&&ot!=="ArrowLeft"&&ot!=="Enter")){var st=Number(combineActiveTooltipIndex(nt,selectTooltipDisplayedData(tt))),at=selectTooltipAxisTicks(tt);if(ot==="Enter"){var ct=selectCoordinateForDefaultIndex(tt,"axis","hover",String(nt.index));et.dispatch(setKeyboardInteraction({active:!nt.active,activeIndex:nt.index,activeDataKey:nt.dataKey,activeCoordinate:ct}));return}var lt=selectChartDirection(tt),dt=lt==="left-to-right"?1:-1,ft=ot==="ArrowRight"?1:-1,ht=st+ft*dt;if(!(at==null||ht>=at.length||ht<0)){var pt=selectCoordinateForDefaultIndex(tt,"axis","hover",String(ht));et.dispatch(setKeyboardInteraction({active:!0,activeIndex:ht.toString(),activeDataKey:void 0,activeCoordinate:pt}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(_e,et)=>{var tt=et.getState(),rt=tt.rootProps.accessibilityLayer!==!1;if(rt){var{keyboardInteraction:nt}=tt.tooltip;if(!nt.active&&nt.index==null){var ot="0",st=selectCoordinateForDefaultIndex(tt,"axis","hover",String(ot));et.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:ot,activeCoordinate:st}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(_e,et)=>{if(_e.payload.handler!=null){var tt=et.getState(),rt={activeCoordinate:selectActiveTooltipCoordinate(tt),activeDataKey:selectActiveTooltipDataKey(tt),activeIndex:selectActiveTooltipIndex(tt),activeLabel:selectActiveLabel$1(tt),activeTooltipIndex:selectActiveTooltipIndex(tt),isTooltipActive:selectIsTooltipActive$1(tt)};_e.payload.handler(rt,_e.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],_e=>_e.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(_e,et,tt)=>et,(_e,et,tt)=>tt],(_e,et,tt,rt)=>{var nt=_e.find(at=>at.settings.dataKey===rt);if(nt!=null){var{positions:ot}=nt;if(ot!=null){var st=et(ot,tt);return st}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(_e,et)=>{var tt=_e.payload,rt=et.getState(),nt=selectTooltipEventType$1(rt,rt.tooltip.settings.shared);if(nt==="axis"){var ot=selectActivePropsFromChartPointer(rt,getChartPointer({clientX:tt.touches[0].clientX,clientY:tt.touches[0].clientY,currentTarget:tt.currentTarget}));(ot==null?void 0:ot.activeIndex)!=null&&et.dispatch(setMouseOverAxisIndex({activeIndex:ot.activeIndex,activeDataKey:void 0,activeCoordinate:ot.activeCoordinate}))}else if(nt==="item"){var st,at=tt.touches[0],ct=document.elementFromPoint(at.clientX,at.clientY);if(!ct||!ct.getAttribute)return;var lt=ct.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),dt=(st=ct.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&st!==void 0?st:void 0,ft=selectTooltipCoordinate(et.getState(),lt,dt);et.dispatch(setActiveMouseOverItemIndex({activeDataKey:dt,activeIndex:lt,activeCoordinate:ft}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function(et){return configureStore({reducer:rootReducer,preloadedState:et,middleware:tt=>tt({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),enhancers:tt=>{var rt=tt;return typeof tt=="function"&&(rt=tt()),rt.concat(autoBatchEnhancer({type:"raf"}))},devTools:Global.devToolsEnabled})};function RechartsStoreProvider(_e){var{preloadedState:et,children:tt,reduxStoreName:rt}=_e,nt=useIsPanorama(),ot=reactExports.useRef(null);if(nt)return tt;ot.current==null&&(ot.current=createRechartsStore(et));var st=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:st,store:ot.current},tt)}function ReportMainChartProps(_e){var{layout:et,margin:tt}=_e,rt=useAppDispatch(),nt=useIsPanorama();return reactExports.useEffect(()=>{nt||(rt(setLayout(et)),rt(setMargin(tt)))},[rt,nt,et,tt]),null}function ReportChartProps(_e){var et=useAppDispatch();return reactExports.useEffect(()=>{et(updateOptions(_e))},[et,_e]),null}var _excluded$1=["children"];function _objectWithoutProperties$1(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose$1(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose$1(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$2.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((_e,et)=>{var tt=useChartWidth(),rt=useChartHeight(),nt=useAccessibilityLayer();if(!isPositiveNumber(tt)||!isPositiveNumber(rt))return null;var{children:ot,otherAttributes:st,title:at,desc:ct}=_e,lt,dt;return typeof st.tabIndex=="number"?lt=st.tabIndex:lt=nt?0:void 0,typeof st.role=="string"?dt=st.role:dt=nt?"application":void 0,reactExports.createElement(Surface,_extends$2({},st,{title:at,desc:ct,role:dt,tabIndex:lt,width:tt,height:rt,style:FULL_WIDTH_AND_HEIGHT,ref:et}),ot)}),BrushPanoramaSurface=_e=>{var{children:et}=_e,tt=useAppSelector(selectBrushDimensions);if(!tt)return null;var{width:rt,height:nt,y:ot,x:st}=tt;return reactExports.createElement(Surface,{width:rt,height:nt,x:st,y:ot},et)},RootSurface=reactExports.forwardRef((_e,et)=>{var{children:tt}=_e,rt=_objectWithoutProperties$1(_e,_excluded$1),nt=useIsPanorama();return nt?reactExports.createElement(BrushPanoramaSurface,null,tt):reactExports.createElement(MainChartSurface,_extends$2({ref:et},rt),tt)});function useReportScale(){var _e=useAppDispatch(),[et,tt]=reactExports.useState(null),rt=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(et!=null){var nt=et.getBoundingClientRect(),ot=nt.width/et.offsetWidth;isWellBehavedNumber(ot)&&ot!==rt&&_e(setScale(ot))}},[et,_e,rt]),tt}function ownKeys(_e,et){var tt=Object.keys(_e);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(_e);et&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(tt),!0).forEach(function(rt){_defineProperty(_e,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(rt){Object.defineProperty(_e,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return _e}function _defineProperty(_e,et,tt){return(et=_toPropertyKey(et))in _e?Object.defineProperty(_e,et,{value:tt,enumerable:!0,configurable:!0,writable:!0}):_e[et]=tt,_e}function _toPropertyKey(_e){var et=_toPrimitive(_e,"string");return typeof et=="symbol"?et:et+""}function _toPrimitive(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(_e,et);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(_e)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends$1.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(_e){if(typeof _e=="number")return _e;if(typeof _e=="string"){var et=parseFloat(_e);if(!Number.isNaN(et))return et}return 0}var ResponsiveDiv=reactExports.forwardRef((_e,et)=>{var tt,rt,nt=reactExports.useRef(null),[ot,st]=reactExports.useState({containerWidth:getNumberOrZero((tt=_e.style)===null||tt===void 0?void 0:tt.width),containerHeight:getNumberOrZero((rt=_e.style)===null||rt===void 0?void 0:rt.height)}),at=reactExports.useCallback((lt,dt)=>{st(ft=>{var ht=Math.round(lt),pt=Math.round(dt);return ft.containerWidth===ht&&ft.containerHeight===pt?ft:{containerWidth:ht,containerHeight:pt}})},[]),ct=reactExports.useCallback(lt=>{if(typeof et=="function"&&et(lt),lt!=null){var{width:dt,height:ft}=lt.getBoundingClientRect();at(dt,ft);var ht=gt=>{var{width:mt,height:vt}=gt[0].contentRect;at(mt,vt)},pt=new ResizeObserver(ht);pt.observe(lt),nt.current=pt}},[et,at]);return reactExports.useEffect(()=>()=>{var lt=nt.current;lt!=null&&lt.disconnect()},[at]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:ot.containerWidth,height:ot.containerHeight}),reactExports.createElement("div",_extends$1({ref:ct},_e)))}),ReadSizeOnceDiv=reactExports.forwardRef((_e,et)=>{var{width:tt,height:rt}=_e,[nt,ot]=reactExports.useState({containerWidth:getNumberOrZero(tt),containerHeight:getNumberOrZero(rt)}),st=reactExports.useCallback((ct,lt)=>{ot(dt=>{var ft=Math.round(ct),ht=Math.round(lt);return dt.containerWidth===ft&&dt.containerHeight===ht?dt:{containerWidth:ft,containerHeight:ht}})},[]),at=reactExports.useCallback(ct=>{if(typeof et=="function"&&et(ct),ct!=null){var{width:lt,height:dt}=ct.getBoundingClientRect();st(lt,dt)}},[et,st]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:nt.containerWidth,height:nt.containerHeight}),reactExports.createElement("div",_extends$1({ref:at},_e)))}),StaticDiv=reactExports.forwardRef((_e,et)=>{var{width:tt,height:rt}=_e;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:tt,height:rt}),reactExports.createElement("div",_extends$1({ref:et},_e)))}),NonResponsiveDiv=reactExports.forwardRef((_e,et)=>{var{width:tt,height:rt}=_e;return isPercent(tt)||isPercent(rt)?reactExports.createElement(ReadSizeOnceDiv,_extends$1({},_e,{ref:et})):reactExports.createElement(StaticDiv,_extends$1({},_e,{ref:et}))});function getWrapperDivComponent(_e){return _e===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((_e,et)=>{var{children:tt,className:rt,height:nt,onClick:ot,onContextMenu:st,onDoubleClick:at,onMouseDown:ct,onMouseEnter:lt,onMouseLeave:dt,onMouseMove:ft,onMouseUp:ht,onTouchEnd:pt,onTouchMove:gt,onTouchStart:mt,style:vt,width:yt,responsive:bt,dispatchTouchEvents:xt=!0}=_e,wt=reactExports.useRef(null),At=useAppDispatch(),[St,$t]=reactExports.useState(null),[kt,Ct]=reactExports.useState(null),_t=useReportScale(),Tt=useResponsiveContainerContext(),jt=(Tt==null?void 0:Tt.width)>0?Tt.width:yt,Bt=(Tt==null?void 0:Tt.height)>0?Tt.height:nt,Gt=reactExports.useCallback(Dt=>{_t(Dt),typeof et=="function"&&et(Dt),$t(Dt),Ct(Dt),Dt!=null&&(wt.current=Dt)},[_t,et,$t,Ct]),Rt=reactExports.useCallback(Dt=>{At(mouseClickAction(Dt)),At(externalEventAction({handler:ot,reactEvent:Dt}))},[At,ot]),Wt=reactExports.useCallback(Dt=>{At(mouseMoveAction(Dt)),At(externalEventAction({handler:lt,reactEvent:Dt}))},[At,lt]),Vt=reactExports.useCallback(Dt=>{At(mouseLeaveChart()),At(externalEventAction({handler:dt,reactEvent:Dt}))},[At,dt]),Lt=reactExports.useCallback(Dt=>{At(mouseMoveAction(Dt)),At(externalEventAction({handler:ft,reactEvent:Dt}))},[At,ft]),Ht=reactExports.useCallback(()=>{At(focusAction())},[At]),Kt=reactExports.useCallback(Dt=>{At(keyDownAction(Dt.key))},[At]),Qt=reactExports.useCallback(Dt=>{At(externalEventAction({handler:st,reactEvent:Dt}))},[At,st]),Yt=reactExports.useCallback(Dt=>{At(externalEventAction({handler:at,reactEvent:Dt}))},[At,at]),ar=reactExports.useCallback(Dt=>{At(externalEventAction({handler:ct,reactEvent:Dt}))},[At,ct]),sr=reactExports.useCallback(Dt=>{At(externalEventAction({handler:ht,reactEvent:Dt}))},[At,ht]),tr=reactExports.useCallback(Dt=>{At(externalEventAction({handler:mt,reactEvent:Dt}))},[At,mt]),It=reactExports.useCallback(Dt=>{xt&&At(touchEventAction(Dt)),At(externalEventAction({handler:gt,reactEvent:Dt}))},[At,xt,gt]),Ft=reactExports.useCallback(Dt=>{At(externalEventAction({handler:pt,reactEvent:Dt}))},[At,pt]),Jt=getWrapperDivComponent(bt);return reactExports.createElement(TooltipPortalContext.Provider,{value:St},reactExports.createElement(LegendPortalContext.Provider,{value:kt},reactExports.createElement(Jt,{width:jt??(vt==null?void 0:vt.width),height:Bt??(vt==null?void 0:vt.height),className:clsx("recharts-wrapper",rt),style:_objectSpread({position:"relative",cursor:"default",width:jt,height:Bt},vt),onClick:Rt,onContextMenu:Qt,onDoubleClick:Yt,onFocus:Ht,onKeyDown:Kt,onMouseDown:ar,onMouseEnter:Wt,onMouseLeave:Vt,onMouseMove:Lt,onMouseUp:sr,onTouchEnd:Ft,onTouchMove:It,onTouchStart:tr,ref:Gt},reactExports.createElement(EventSynchronizer,null),tt)))}),_excluded=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties(_e,et){if(_e==null)return{};var tt,rt,nt=_objectWithoutPropertiesLoose(_e,et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(_e);for(rt=0;rt<ot.length;rt++)tt=ot[rt],et.indexOf(tt)===-1&&{}.propertyIsEnumerable.call(_e,tt)&&(nt[tt]=_e[tt])}return nt}function _objectWithoutPropertiesLoose(_e,et){if(_e==null)return{};var tt={};for(var rt in _e)if({}.hasOwnProperty.call(_e,rt)){if(et.indexOf(rt)!==-1)continue;tt[rt]=_e[rt]}return tt}var CategoricalChart=reactExports.forwardRef((_e,et)=>{var{width:tt,height:rt,responsive:nt,children:ot,className:st,style:at,compact:ct,title:lt,desc:dt}=_e,ft=_objectWithoutProperties(_e,_excluded),ht=svgPropertiesNoEvents(ft);return ct?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:tt,height:rt}),reactExports.createElement(RootSurface,{otherAttributes:ht,title:lt,desc:dt},ot)):reactExports.createElement(RechartsWrapper,{className:st,style:at,width:tt,height:rt,responsive:nt,onClick:_e.onClick,onMouseLeave:_e.onMouseLeave,onMouseEnter:_e.onMouseEnter,onMouseMove:_e.onMouseMove,onMouseDown:_e.onMouseDown,onMouseUp:_e.onMouseUp,onContextMenu:_e.onContextMenu,onDoubleClick:_e.onDoubleClick,onTouchStart:_e.onTouchStart,onTouchMove:_e.onTouchMove,onTouchEnd:_e.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:ht,title:lt,desc:dt,ref:et},reactExports.createElement(ClipPathProvider,null,ot)))});function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(_e[rt]=tt[rt])}return _e},_extends.apply(null,arguments)}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",responsive:!1},CartesianChart=reactExports.forwardRef(function(et,tt){var rt,nt=resolveDefaultProps(et.categoricalChartProps,defaultProps),{chartName:ot,defaultTooltipEventType:st,validateTooltipEventTypes:at,tooltipPayloadSearcher:ct,categoricalChartProps:lt}=et,dt={chartName:ot,defaultTooltipEventType:st,validateTooltipEventTypes:at,tooltipPayloadSearcher:ct,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:dt},reduxStoreName:(rt=lt.id)!==null&&rt!==void 0?rt:ot},reactExports.createElement(ChartDataContextProvider,{chartData:lt.data}),reactExports.createElement(ReportMainChartProps,{layout:nt.layout,margin:nt.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:nt.accessibilityLayer,barCategoryGap:nt.barCategoryGap,maxBarSize:nt.maxBarSize,stackOffset:nt.stackOffset,barGap:nt.barGap,barSize:nt.barSize,syncId:nt.syncId,syncMethod:nt.syncMethod,className:nt.className}),reactExports.createElement(CategoricalChart,_extends({},nt,{ref:tt})))}),allowedTooltipTypes=["axis"],LineChart=reactExports.forwardRef((_e,et)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:_e,ref:et}));const Dashboard=({provider:_e,address:et})=>{const[tt,rt]=reactExports.useState("0"),[nt,ot]=reactExports.useState(0),[st,at]=reactExports.useState(0),[ct,lt]=reactExports.useState(0);reactExports.useEffect(()=>{(async()=>{const{token:ft,verifier:ht}=await getContracts(_e),[pt,gt]=await Promise.all([ft.balanceOf(et),ht.getActionCount()]);rt(formatUnits(pt,18)),ot(Number(gt));let mt=0,vt=0n;for(let yt=0;yt<Number(gt);yt++){const bt=await ht.actions(yt);bt.verified&&(mt++,vt+=BigInt(bt.reward??0n))}at(mt),lt(Number(vt)/1e18*.1)})().catch(console.error)},[_e,et]);const dt=[{name:"Jan",tokens:10},{name:"Feb",tokens:25},{name:"Mar",tokens:45},{name:"Apr",tokens:80},{name:"May",tokens:120},{name:"Jun",tokens:Number(tt)}];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"impact-stat",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:"💰"}),jsxRuntimeExports.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"GCT Balance"})]}),jsxRuntimeExports.jsx("div",{className:"number",children:Number(tt).toLocaleString(void 0,{maximumFractionDigits:4})}),jsxRuntimeExports.jsx("div",{className:"label",children:"Green Credit Tokens"})]}),jsxRuntimeExports.jsxs("div",{className:"impact-stat",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:"🌍"}),jsxRuntimeExports.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Verified Actions"})]}),jsxRuntimeExports.jsx("div",{className:"number",children:st}),jsxRuntimeExports.jsx("div",{className:"label",children:"Actions rewarded"})]}),jsxRuntimeExports.jsxs("div",{className:"impact-stat",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:"🌱"}),jsxRuntimeExports.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"CO₂ Offset"})]}),jsxRuntimeExports.jsx("div",{className:"number",children:ct.toFixed(1)}),jsxRuntimeExports.jsx("div",{className:"label",children:"Kilograms reduced"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"📈 Token Growth Trend"}),jsxRuntimeExports.jsx("div",{className:"h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(LineChart,{data:dt,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"tokens",stroke:"#6DC24B",strokeWidth:2})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"🌕 Connected to Moonbeam Network"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Your impact is transparently recorded on the Polkadot ecosystem, ensuring trust and immutability."})]})]})},typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(_e){if(_e===null)return"null";if(_e===void 0)return"undefined";if(_e===!0||_e===!1)return"boolean";const et=typeof _e;if(typeofs.includes(et))return et;if(et==="function")return"Function";if(Array.isArray(_e))return"Array";if(isBuffer$1(_e))return"Buffer";const tt=getObjectType(_e);return tt||"Object"}function isBuffer$1(_e){return _e&&_e.constructor&&_e.constructor.isBuffer&&_e.constructor.isBuffer.call(null,_e)}function getObjectType(_e){const et=Object.prototype.toString.call(_e).slice(8,-1);if(objectTypeNames.includes(et))return et}class Type{constructor(et,tt,rt){this.major=et,this.majorEncoded=et<<5,this.name=tt,this.terminal=rt}toString(){return`Type[${this.major}].${this.name}`}compare(et){return this.major<et.major?-1:this.major>et.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(et,tt,rt){this.type=et,this.value=tt,this.encodedLength=rt,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer(_e){return useBuffer&&globalThis.Buffer.isBuffer(_e)}function asU8A(_e){return _e instanceof Uint8Array?isBuffer(_e)?new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength):_e:Uint8Array.from(_e)}const toString$2=useBuffer?(_e,et,tt)=>tt-et>64?globalThis.Buffer.from(_e.subarray(et,tt)).toString("utf8"):utf8Slice(_e,et,tt):(_e,et,tt)=>tt-et>64?textDecoder$1.decode(_e.subarray(et,tt)):utf8Slice(_e,et,tt),fromString$1=useBuffer?_e=>_e.length>64?globalThis.Buffer.from(_e):utf8ToBytes(_e):_e=>_e.length>64?textEncoder$2.encode(_e):utf8ToBytes(_e),fromArray=_e=>Uint8Array.from(_e),slice=useBuffer?(_e,et,tt)=>isBuffer(_e)?new Uint8Array(_e.subarray(et,tt)):_e.slice(et,tt):(_e,et,tt)=>_e.slice(et,tt),concat$1=useBuffer?(_e,et)=>(_e=_e.map(tt=>tt instanceof Uint8Array?tt:globalThis.Buffer.from(tt)),asU8A(globalThis.Buffer.concat(_e,et))):(_e,et)=>{const tt=new Uint8Array(et);let rt=0;for(let nt of _e)rt+nt.length>tt.length&&(nt=nt.subarray(0,tt.length-rt)),tt.set(nt,rt),rt+=nt.length;return tt},alloc$1=useBuffer?_e=>globalThis.Buffer.allocUnsafe(_e):_e=>new Uint8Array(_e);function compare(_e,et){if(isBuffer(_e)&&isBuffer(et))return _e.compare(et);for(let tt=0;tt<_e.length;tt++)if(_e[tt]!==et[tt])return _e[tt]<et[tt]?-1:1;return 0}function utf8ToBytes(_e){const et=[];let tt=0;for(let rt=0;rt<_e.length;rt++){let nt=_e.charCodeAt(rt);nt<128?et[tt++]=nt:nt<2048?(et[tt++]=nt>>6|192,et[tt++]=nt&63|128):(nt&64512)===55296&&rt+1<_e.length&&(_e.charCodeAt(rt+1)&64512)===56320?(nt=65536+((nt&1023)<<10)+(_e.charCodeAt(++rt)&1023),et[tt++]=nt>>18|240,et[tt++]=nt>>12&63|128,et[tt++]=nt>>6&63|128,et[tt++]=nt&63|128):(et[tt++]=nt>>12|224,et[tt++]=nt>>6&63|128,et[tt++]=nt&63|128)}return et}function utf8Slice(_e,et,tt){const rt=[];for(;et<tt;){const nt=_e[et];let ot=null,st=nt>239?4:nt>223?3:nt>191?2:1;if(et+st<=tt){let at,ct,lt,dt;switch(st){case 1:nt<128&&(ot=nt);break;case 2:at=_e[et+1],(at&192)===128&&(dt=(nt&31)<<6|at&63,dt>127&&(ot=dt));break;case 3:at=_e[et+1],ct=_e[et+2],(at&192)===128&&(ct&192)===128&&(dt=(nt&15)<<12|(at&63)<<6|ct&63,dt>2047&&(dt<55296||dt>57343)&&(ot=dt));break;case 4:at=_e[et+1],ct=_e[et+2],lt=_e[et+3],(at&192)===128&&(ct&192)===128&&(lt&192)===128&&(dt=(nt&15)<<18|(at&63)<<12|(ct&63)<<6|lt&63,dt>65535&&dt<1114112&&(ot=dt))}}ot===null?(ot=65533,st=1):ot>65535&&(ot-=65536,rt.push(ot>>>10&1023|55296),ot=56320|ot&1023),rt.push(ot),et+=st}return decodeCodePointsArray(rt)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(_e){const et=_e.length;if(et<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,_e);let tt="",rt=0;for(;rt<et;)tt+=String.fromCharCode.apply(String,_e.slice(rt,rt+=MAX_ARGUMENTS_LENGTH));return tt}const defaultChunkSize=256;class Bl{constructor(et=defaultChunkSize){this.chunkSize=et,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(et){let tt=this.chunks[this.chunks.length-1];if(this.cursor+et.length<=this.maxCursor+1){const nt=tt.length-(this.maxCursor-this.cursor)-1;tt.set(et,nt)}else{if(tt){const nt=tt.length-(this.maxCursor-this.cursor)-1;nt<tt.length&&(this.chunks[this.chunks.length-1]=tt.subarray(0,nt),this.maxCursor=this.cursor-1)}et.length<64&&et.length<this.chunkSize?(tt=alloc$1(this.chunkSize),this.chunks.push(tt),this.maxCursor+=tt.length,this._initReuseChunk===null&&(this._initReuseChunk=tt),tt.set(et,0)):(this.chunks.push(et),this.maxCursor+=et.length)}this.cursor+=et.length}toBytes(et=!1){let tt;if(this.chunks.length===1){const rt=this.chunks[0];et&&this.cursor>rt.length/2?(tt=this.cursor===rt.length?rt:rt.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):tt=slice(rt,0,this.cursor)}else tt=concat$1(this.chunks,this.cursor);return et&&this.reset(),tt}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(_e,et,tt){if(_e.length-et<tt)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(_e,et,tt){assertEnoughData(_e,et,1);const rt=_e[et];if(tt.strict===!0&&rt<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return rt}function readUint16(_e,et,tt){assertEnoughData(_e,et,2);const rt=_e[et]<<8|_e[et+1];if(tt.strict===!0&&rt<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return rt}function readUint32(_e,et,tt){assertEnoughData(_e,et,4);const rt=_e[et]*16777216+(_e[et+1]<<16)+(_e[et+2]<<8)+_e[et+3];if(tt.strict===!0&&rt<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return rt}function readUint64(_e,et,tt){assertEnoughData(_e,et,8);const rt=_e[et]*16777216+(_e[et+1]<<16)+(_e[et+2]<<8)+_e[et+3],nt=_e[et+4]*16777216+(_e[et+5]<<16)+(_e[et+6]<<8)+_e[et+7],ot=(BigInt(rt)<<BigInt(32))+BigInt(nt);if(tt.strict===!0&&ot<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(ot<=Number.MAX_SAFE_INTEGER)return Number(ot);if(tt.allowBigInt===!0)return ot;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(_e,et,tt,rt){return new Token(Type.uint,readUint8(_e,et+1,rt),2)}function decodeUint16(_e,et,tt,rt){return new Token(Type.uint,readUint16(_e,et+1,rt),3)}function decodeUint32(_e,et,tt,rt){return new Token(Type.uint,readUint32(_e,et+1,rt),5)}function decodeUint64(_e,et,tt,rt){return new Token(Type.uint,readUint64(_e,et+1,rt),9)}function encodeUint(_e,et){return encodeUintValue(_e,0,et.value)}function encodeUintValue(_e,et,tt){if(tt<uintBoundaries[0]){const rt=Number(tt);_e.push([et|rt])}else if(tt<uintBoundaries[1]){const rt=Number(tt);_e.push([et|24,rt])}else if(tt<uintBoundaries[2]){const rt=Number(tt);_e.push([et|25,rt>>>8,rt&255])}else if(tt<uintBoundaries[3]){const rt=Number(tt);_e.push([et|26,rt>>>24&255,rt>>>16&255,rt>>>8&255,rt&255])}else{const rt=BigInt(tt);if(rt<uintBoundaries[4]){const nt=[et|27,0,0,0,0,0,0,0];let ot=Number(rt&BigInt(4294967295)),st=Number(rt>>BigInt(32)&BigInt(4294967295));nt[8]=ot&255,ot=ot>>8,nt[7]=ot&255,ot=ot>>8,nt[6]=ot&255,ot=ot>>8,nt[5]=ot&255,nt[4]=st&255,st=st>>8,nt[3]=st&255,st=st>>8,nt[2]=st&255,st=st>>8,nt[1]=st&255,_e.push(nt)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(et){return encodeUintValue.encodedSize(et.value)};encodeUintValue.encodedSize=function(et){return et<uintBoundaries[0]?1:et<uintBoundaries[1]?2:et<uintBoundaries[2]?3:et<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(et,tt){return et.value<tt.value?-1:et.value>tt.value?1:0};function decodeNegint8(_e,et,tt,rt){return new Token(Type.negint,-1-readUint8(_e,et+1,rt),2)}function decodeNegint16(_e,et,tt,rt){return new Token(Type.negint,-1-readUint16(_e,et+1,rt),3)}function decodeNegint32(_e,et,tt,rt){return new Token(Type.negint,-1-readUint32(_e,et+1,rt),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(_e,et,tt,rt){const nt=readUint64(_e,et+1,rt);if(typeof nt!="bigint"){const ot=-1-nt;if(ot>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,ot,9)}if(rt.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(nt),9)}function encodeNegint(_e,et){const tt=et.value,rt=typeof tt=="bigint"?tt*neg1b-pos1b:tt*-1-1;encodeUintValue(_e,et.type.majorEncoded,rt)}encodeNegint.encodedSize=function(et){const tt=et.value,rt=typeof tt=="bigint"?tt*neg1b-pos1b:tt*-1-1;return rt<uintBoundaries[0]?1:rt<uintBoundaries[1]?2:rt<uintBoundaries[2]?3:rt<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(et,tt){return et.value<tt.value?1:et.value>tt.value?-1:0};function toToken$3(_e,et,tt,rt){assertEnoughData(_e,et,tt+rt);const nt=slice(_e,et+tt,et+tt+rt);return new Token(Type.bytes,nt,tt+rt)}function decodeBytesCompact(_e,et,tt,rt){return toToken$3(_e,et,1,tt)}function decodeBytes8(_e,et,tt,rt){return toToken$3(_e,et,2,readUint8(_e,et+1,rt))}function decodeBytes16(_e,et,tt,rt){return toToken$3(_e,et,3,readUint16(_e,et+1,rt))}function decodeBytes32(_e,et,tt,rt){return toToken$3(_e,et,5,readUint32(_e,et+1,rt))}function decodeBytes64(_e,et,tt,rt){const nt=readUint64(_e,et+1,rt);if(typeof nt=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(_e,et,9,nt)}function tokenBytes(_e){return _e.encodedBytes===void 0&&(_e.encodedBytes=_e.type===Type.string?fromString$1(_e.value):_e.value),_e.encodedBytes}function encodeBytes(_e,et){const tt=tokenBytes(et);encodeUintValue(_e,et.type.majorEncoded,tt.length),_e.push(tt)}encodeBytes.encodedSize=function(et){const tt=tokenBytes(et);return encodeUintValue.encodedSize(tt.length)+tt.length};encodeBytes.compareTokens=function(et,tt){return compareBytes(tokenBytes(et),tokenBytes(tt))};function compareBytes(_e,et){return _e.length<et.length?-1:_e.length>et.length?1:compare(_e,et)}function toToken$2(_e,et,tt,rt,nt){const ot=tt+rt;assertEnoughData(_e,et,ot);const st=new Token(Type.string,toString$2(_e,et+tt,et+ot),ot);return nt.retainStringBytes===!0&&(st.byteValue=slice(_e,et+tt,et+ot)),st}function decodeStringCompact(_e,et,tt,rt){return toToken$2(_e,et,1,tt,rt)}function decodeString8(_e,et,tt,rt){return toToken$2(_e,et,2,readUint8(_e,et+1,rt),rt)}function decodeString16(_e,et,tt,rt){return toToken$2(_e,et,3,readUint16(_e,et+1,rt),rt)}function decodeString32(_e,et,tt,rt){return toToken$2(_e,et,5,readUint32(_e,et+1,rt),rt)}function decodeString64(_e,et,tt,rt){const nt=readUint64(_e,et+1,rt);if(typeof nt=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(_e,et,9,nt,rt)}const encodeString=encodeBytes;function toToken$1(_e,et,tt,rt){return new Token(Type.array,rt,tt)}function decodeArrayCompact(_e,et,tt,rt){return toToken$1(_e,et,1,tt)}function decodeArray8(_e,et,tt,rt){return toToken$1(_e,et,2,readUint8(_e,et+1,rt))}function decodeArray16(_e,et,tt,rt){return toToken$1(_e,et,3,readUint16(_e,et+1,rt))}function decodeArray32(_e,et,tt,rt){return toToken$1(_e,et,5,readUint32(_e,et+1,rt))}function decodeArray64(_e,et,tt,rt){const nt=readUint64(_e,et+1,rt);if(typeof nt=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(_e,et,9,nt)}function decodeArrayIndefinite(_e,et,tt,rt){if(rt.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(_e,et,1,1/0)}function encodeArray(_e,et){encodeUintValue(_e,Type.array.majorEncoded,et.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(et){return encodeUintValue.encodedSize(et.value)};function toToken(_e,et,tt,rt){return new Token(Type.map,rt,tt)}function decodeMapCompact(_e,et,tt,rt){return toToken(_e,et,1,tt)}function decodeMap8(_e,et,tt,rt){return toToken(_e,et,2,readUint8(_e,et+1,rt))}function decodeMap16(_e,et,tt,rt){return toToken(_e,et,3,readUint16(_e,et+1,rt))}function decodeMap32(_e,et,tt,rt){return toToken(_e,et,5,readUint32(_e,et+1,rt))}function decodeMap64(_e,et,tt,rt){const nt=readUint64(_e,et+1,rt);if(typeof nt=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(_e,et,9,nt)}function decodeMapIndefinite(_e,et,tt,rt){if(rt.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(_e,et,1,1/0)}function encodeMap(_e,et){encodeUintValue(_e,Type.map.majorEncoded,et.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(et){return encodeUintValue.encodedSize(et.value)};function decodeTagCompact(_e,et,tt,rt){return new Token(Type.tag,tt,1)}function decodeTag8(_e,et,tt,rt){return new Token(Type.tag,readUint8(_e,et+1,rt),2)}function decodeTag16(_e,et,tt,rt){return new Token(Type.tag,readUint16(_e,et+1,rt),3)}function decodeTag32(_e,et,tt,rt){return new Token(Type.tag,readUint32(_e,et+1,rt),5)}function decodeTag64(_e,et,tt,rt){return new Token(Type.tag,readUint64(_e,et+1,rt),9)}function encodeTag(_e,et){encodeUintValue(_e,Type.tag.majorEncoded,et.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(et){return encodeUintValue.encodedSize(et.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(_e,et,tt,rt){if(rt.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return rt.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(_e,et,tt,rt){if(rt.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(_e,et,tt){if(tt){if(tt.allowNaN===!1&&Number.isNaN(_e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(tt.allowInfinity===!1&&(_e===1/0||_e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,_e,et)}function decodeFloat16(_e,et,tt,rt){return createToken(readFloat16(_e,et+1),3,rt)}function decodeFloat32(_e,et,tt,rt){return createToken(readFloat32(_e,et+1),5,rt)}function decodeFloat64(_e,et,tt,rt){return createToken(readFloat64(_e,et+1),9,rt)}function encodeFloat(_e,et,tt){const rt=et.value;if(rt===!1)_e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(rt===!0)_e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(rt===null)_e.push([Type.float.majorEncoded|MINOR_NULL]);else if(rt===void 0)_e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let nt,ot=!1;(!tt||tt.float64!==!0)&&(encodeFloat16(rt),nt=readFloat16(ui8a,1),rt===nt||Number.isNaN(rt)?(ui8a[0]=249,_e.push(ui8a.slice(0,3)),ot=!0):(encodeFloat32(rt),nt=readFloat32(ui8a,1),rt===nt&&(ui8a[0]=250,_e.push(ui8a.slice(0,5)),ot=!0))),ot||(encodeFloat64(rt),nt=readFloat64(ui8a,1),ui8a[0]=251,_e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(et,tt){const rt=et.value;if(rt===!1||rt===!0||rt===null||rt===void 0)return 1;if(!tt||tt.float64!==!0){encodeFloat16(rt);let nt=readFloat16(ui8a,1);if(rt===nt||Number.isNaN(rt))return 3;if(encodeFloat32(rt),nt=readFloat32(ui8a,1),rt===nt)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(_e){if(_e===1/0)dataView.setUint16(0,31744,!1);else if(_e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(_e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,_e);const et=dataView.getUint32(0),tt=(et&2139095040)>>23,rt=et&8388607;if(tt===255)dataView.setUint16(0,31744,!1);else if(tt===0)dataView.setUint16(0,(_e&2147483648)>>16|rt>>13,!1);else{const nt=tt-127;nt<-24?dataView.setUint16(0,0):nt<-14?dataView.setUint16(0,(et&2147483648)>>16|1<<24+nt,!1):dataView.setUint16(0,(et&2147483648)>>16|nt+15<<10|rt>>13,!1)}}}function readFloat16(_e,et){if(_e.length-et<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const tt=(_e[et]<<8)+_e[et+1];if(tt===31744)return 1/0;if(tt===64512)return-1/0;if(tt===32256)return NaN;const rt=tt>>10&31,nt=tt&1023;let ot;return rt===0?ot=nt*2**-24:rt!==31?ot=(nt+1024)*2**(rt-25):ot=nt===0?1/0:NaN,tt&32768?-ot:ot}function encodeFloat32(_e){dataView.setFloat32(0,_e,!1)}function readFloat32(_e,et){if(_e.length-et<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const tt=(_e.byteOffset||0)+et;return new DataView(_e.buffer,tt,4).getFloat32(0,!1)}function encodeFloat64(_e){dataView.setFloat64(0,_e,!1)}function readFloat64(_e,et){if(_e.length-et<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const tt=(_e.byteOffset||0)+et;return new DataView(_e.buffer,tt,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(_e,et,tt){throw new Error(`${decodeErrPrefix} encountered invalid minor (${tt}) for major ${_e[et]>>>5}`)}function errorer(_e){return()=>{throw new Error(`${decodeErrPrefix} ${_e}`)}}const jump=[];for(let _e=0;_e<=23;_e++)jump[_e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let _e=32;_e<=55;_e++)jump[_e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let _e=64;_e<=87;_e++)jump[_e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let _e=96;_e<=119;_e++)jump[_e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let _e=128;_e<=151;_e++)jump[_e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let _e=160;_e<=183;_e++)jump[_e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let _e=192;_e<=215;_e++)jump[_e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let _e=224;_e<=243;_e++)jump[_e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let _e=0;_e<24;_e++)quick[_e]=new Token(Type.uint,_e,1);for(let _e=-1;_e>=-24;_e--)quick[31-_e]=new Token(Type.negint,_e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(_e){switch(_e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return _e.value.length?void 0:fromArray([64]);case Type.string:return _e.value===""?fromArray([96]):void 0;case Type.array:return _e.value===0?fromArray([128]):void 0;case Type.map:return _e.value===0?fromArray([160]):void 0;case Type.uint:return _e.value<24?fromArray([Number(_e.value)]):void 0;case Type.negint:if(_e.value>=-24)return fromArray([31-Number(_e.value)])}}const defaultEncodeOptions$2={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const _e=[];return _e[Type.uint.major]=encodeUint,_e[Type.negint.major]=encodeNegint,_e[Type.bytes.major]=encodeBytes,_e[Type.string.major]=encodeString,_e[Type.array.major]=encodeArray,_e[Type.map.major]=encodeMap,_e[Type.tag.major]=encodeTag,_e[Type.float.major]=encodeFloat,_e}const cborEncoders$1=makeCborEncoders(),buf=new Bl;class Ref{constructor(et,tt){this.obj=et,this.parent=tt}includes(et){let tt=this;do if(tt.obj===et)return!0;while(tt=tt.parent);return!1}static createCheck(et,tt){if(et&&et.includes(tt))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(tt,et)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(_e,et,tt,rt){return!Number.isInteger(_e)||!Number.isSafeInteger(_e)?new Token(Type.float,_e):_e>=0?new Token(Type.uint,_e):new Token(Type.negint,_e)},bigint(_e,et,tt,rt){return _e>=BigInt(0)?new Token(Type.uint,_e):new Token(Type.negint,_e)},Uint8Array(_e,et,tt,rt){return new Token(Type.bytes,_e)},string(_e,et,tt,rt){return new Token(Type.string,_e)},boolean(_e,et,tt,rt){return _e?simpleTokens.true:simpleTokens.false},null(_e,et,tt,rt){return simpleTokens.null},undefined(_e,et,tt,rt){return simpleTokens.undefined},ArrayBuffer(_e,et,tt,rt){return new Token(Type.bytes,new Uint8Array(_e))},DataView(_e,et,tt,rt){return new Token(Type.bytes,new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength))},Array(_e,et,tt,rt){if(!_e.length)return tt.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;rt=Ref.createCheck(rt,_e);const nt=[];let ot=0;for(const st of _e)nt[ot++]=objectToTokens(st,tt,rt);return tt.addBreakTokens?[new Token(Type.array,_e.length),nt,new Token(Type.break)]:[new Token(Type.array,_e.length),nt]},Object(_e,et,tt,rt){const nt=et!=="Object",ot=nt?_e.keys():Object.keys(_e),st=nt?_e.size:ot.length;if(!st)return tt.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;rt=Ref.createCheck(rt,_e);const at=[];let ct=0;for(const lt of ot)at[ct++]=[objectToTokens(lt,tt,rt),objectToTokens(nt?_e.get(lt):_e[lt],tt,rt)];return sortMapEntries(at,tt),tt.addBreakTokens?[new Token(Type.map,st),at,new Token(Type.break)]:[new Token(Type.map,st),at]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const _e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${_e}Array`]=typeEncoders.DataView;function objectToTokens(_e,et={},tt){const rt=is(_e),nt=et&&et.typeEncoders&&et.typeEncoders[rt]||typeEncoders[rt];if(typeof nt=="function"){const st=nt(_e,rt,et,tt);if(st!=null)return st}const ot=typeEncoders[rt];if(!ot)throw new Error(`${encodeErrPrefix} unsupported type: ${rt}`);return ot(_e,rt,et,tt)}function sortMapEntries(_e,et){et.mapSorter&&_e.sort(et.mapSorter)}function mapSorter$1(_e,et){const tt=Array.isArray(_e[0])?_e[0][0]:_e[0],rt=Array.isArray(et[0])?et[0][0]:et[0];if(tt.type!==rt.type)return tt.type.compare(rt.type);const nt=tt.type.major,ot=cborEncoders$1[nt].compareTokens(tt,rt);return ot===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),ot}function tokensToEncoded(_e,et,tt,rt){if(Array.isArray(et))for(const nt of et)tokensToEncoded(_e,nt,tt,rt);else tt[et.type.major](_e,et,rt)}function encodeCustom(_e,et,tt){const rt=objectToTokens(_e,tt);if(!Array.isArray(rt)&&tt.quickEncodeToken){const nt=tt.quickEncodeToken(rt);if(nt)return nt;const ot=et[rt.type.major];if(ot.encodedSize){const st=ot.encodedSize(rt,tt),at=new Bl(st);if(ot(at,rt,tt),at.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${rt} was wrong`);return asU8A(at.chunks[0])}}return buf.reset(),tokensToEncoded(buf,rt,et,tt),buf.toBytes(!0)}function encode$m(_e,et){return et=Object.assign({},defaultEncodeOptions$2,et),encodeCustom(_e,cborEncoders$1,et)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(et,tt={}){this._pos=0,this.data=et,this.options=tt}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const et=this.data[this._pos];let tt=quick[et];if(tt===void 0){const rt=jump[et];if(!rt)throw new Error(`${decodeErrPrefix} no decoder for major type ${et>>>5} (byte 0x${et.toString(16).padStart(2,"0")})`);const nt=et&31;tt=rt(this.data,this._pos,nt,this.options)}return this._pos+=tt.encodedLength,tt}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(_e,et,tt){const rt=[];for(let nt=0;nt<_e.value;nt++){const ot=tokensToObject(et,tt);if(ot===BREAK){if(_e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(ot===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${nt}, expected ${_e.value})`);rt[nt]=ot}return rt}function tokenToMap(_e,et,tt){const rt=tt.useMaps===!0,nt=rt?void 0:{},ot=rt?new Map:void 0;for(let st=0;st<_e.value;st++){const at=tokensToObject(et,tt);if(at===BREAK){if(_e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(at===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${st} [no key], expected ${_e.value})`);if(rt!==!0&&typeof at!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof at})`);if(tt.rejectDuplicateMapKeys===!0&&(rt&&ot.has(at)||!rt&&at in nt))throw new Error(`${decodeErrPrefix} found repeat map key "${at}"`);const ct=tokensToObject(et,tt);if(ct===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${st} [no value], expected ${_e.value})`);rt?ot.set(at,ct):nt[at]=ct}return rt?ot:nt}function tokensToObject(_e,et){if(_e.done())return DONE;const tt=_e.next();if(tt.type===Type.break)return BREAK;if(tt.type.terminal)return tt.value;if(tt.type===Type.array)return tokenToArray(tt,_e,et);if(tt.type===Type.map)return tokenToMap(tt,_e,et);if(tt.type===Type.tag){if(et.tags&&typeof et.tags[tt.value]=="function"){const rt=tokensToObject(_e,et);return et.tags[tt.value](rt)}throw new Error(`${decodeErrPrefix} tag not supported (${tt.value})`)}throw new Error("unsupported")}function decodeFirst(_e,et){if(!(_e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);et=Object.assign({},defaultDecodeOptions,et);const tt=et.tokenizer||new Tokeniser(_e,et),rt=tokensToObject(tt,et);if(rt===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(rt===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);return[rt,_e.subarray(tt.pos())]}function decode$o(_e,et){const[tt,rt]=decodeFirst(_e,et);if(rt.length>0)throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return tt}const empty$1=new Uint8Array(0);function fromHex(_e){const et=_e.match(/../g);return et!=null?new Uint8Array(et.map(tt=>parseInt(tt,16))):empty$1}function equals$3(_e,et){if(_e===et)return!0;if(_e.byteLength!==et.byteLength)return!1;for(let tt=0;tt<_e.byteLength;tt++)if(_e[tt]!==et[tt])return!1;return!0}function coerce(_e){if(_e instanceof Uint8Array&&_e.constructor.name==="Uint8Array")return _e;if(_e instanceof ArrayBuffer)return new Uint8Array(_e);if(ArrayBuffer.isView(_e))return new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength);throw new Error("Unknown type, must be binary type")}function fromString(_e){return new TextEncoder().encode(_e)}function toString$1(_e){return new TextDecoder().decode(_e)}function base(_e,et){if(_e.length>=255)throw new TypeError("Alphabet too long");for(var tt=new Uint8Array(256),rt=0;rt<tt.length;rt++)tt[rt]=255;for(var nt=0;nt<_e.length;nt++){var ot=_e.charAt(nt),st=ot.charCodeAt(0);if(tt[st]!==255)throw new TypeError(ot+" is ambiguous");tt[st]=nt}var at=_e.length,ct=_e.charAt(0),lt=Math.log(at)/Math.log(256),dt=Math.log(256)/Math.log(at);function ft(gt){if(gt instanceof Uint8Array||(ArrayBuffer.isView(gt)?gt=new Uint8Array(gt.buffer,gt.byteOffset,gt.byteLength):Array.isArray(gt)&&(gt=Uint8Array.from(gt))),!(gt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(gt.length===0)return"";for(var mt=0,vt=0,yt=0,bt=gt.length;yt!==bt&&gt[yt]===0;)yt++,mt++;for(var xt=(bt-yt)*dt+1>>>0,wt=new Uint8Array(xt);yt!==bt;){for(var At=gt[yt],St=0,$t=xt-1;(At!==0||St<vt)&&$t!==-1;$t--,St++)At+=256*wt[$t]>>>0,wt[$t]=At%at>>>0,At=At/at>>>0;if(At!==0)throw new Error("Non-zero carry");vt=St,yt++}for(var kt=xt-vt;kt!==xt&&wt[kt]===0;)kt++;for(var Ct=ct.repeat(mt);kt<xt;++kt)Ct+=_e.charAt(wt[kt]);return Ct}function ht(gt){if(typeof gt!="string")throw new TypeError("Expected String");if(gt.length===0)return new Uint8Array;var mt=0;if(gt[mt]!==" "){for(var vt=0,yt=0;gt[mt]===ct;)vt++,mt++;for(var bt=(gt.length-mt)*lt+1>>>0,xt=new Uint8Array(bt);gt[mt];){var wt=tt[gt.charCodeAt(mt)];if(wt===255)return;for(var At=0,St=bt-1;(wt!==0||At<yt)&&St!==-1;St--,At++)wt+=at*xt[St]>>>0,xt[St]=wt%256>>>0,wt=wt/256>>>0;if(wt!==0)throw new Error("Non-zero carry");yt=At,mt++}if(gt[mt]!==" "){for(var $t=bt-yt;$t!==bt&&xt[$t]===0;)$t++;for(var kt=new Uint8Array(vt+(bt-$t)),Ct=vt;$t!==bt;)kt[Ct++]=xt[$t++];return kt}}}function pt(gt){var mt=ht(gt);if(mt)return mt;throw new Error(`Non-${et} character`)}return{encode:ft,decodeUnsafe:ht,decode:pt}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(et,tt,rt){Nt(this,"name");Nt(this,"prefix");Nt(this,"baseEncode");this.name=et,this.prefix=tt,this.baseEncode=rt}encode(et){if(et instanceof Uint8Array)return`${this.prefix}${this.baseEncode(et)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(et,tt,rt){Nt(this,"name");Nt(this,"prefix");Nt(this,"baseDecode");Nt(this,"prefixCodePoint");this.name=et,this.prefix=tt;const nt=tt.codePointAt(0);if(nt===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=nt,this.baseDecode=rt}decode(et){if(typeof et=="string"){if(et.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(et)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(et.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(et){return or$2(this,et)}}class ComposedDecoder{constructor(et){Nt(this,"decoders");this.decoders=et}or(et){return or$2(this,et)}decode(et){const tt=et[0],rt=this.decoders[tt];if(rt!=null)return rt.decode(et);throw RangeError(`Unable to decode multibase string ${JSON.stringify(et)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function or$2(_e,et){return new ComposedDecoder({..._e.decoders??{[_e.prefix]:_e},...et.decoders??{[et.prefix]:et}})}class Codec{constructor(et,tt,rt,nt){Nt(this,"name");Nt(this,"prefix");Nt(this,"baseEncode");Nt(this,"baseDecode");Nt(this,"encoder");Nt(this,"decoder");this.name=et,this.prefix=tt,this.baseEncode=rt,this.baseDecode=nt,this.encoder=new Encoder(et,tt,rt),this.decoder=new Decoder(et,tt,nt)}encode(et){return this.encoder.encode(et)}decode(et){return this.decoder.decode(et)}}function from$6({name:_e,prefix:et,encode:tt,decode:rt}){return new Codec(_e,et,tt,rt)}function baseX({name:_e,prefix:et,alphabet:tt}){const{encode:rt,decode:nt}=_brrp__multiformats_scope_baseX(tt,_e);return from$6({prefix:et,name:_e,encode:rt,decode:ot=>coerce(nt(ot))})}function decode$n(_e,et,tt,rt){let nt=_e.length;for(;_e[nt-1]==="=";)--nt;const ot=new Uint8Array(nt*tt/8|0);let st=0,at=0,ct=0;for(let lt=0;lt<nt;++lt){const dt=et[_e[lt]];if(dt===void 0)throw new SyntaxError(`Non-${rt} character`);at=at<<tt|dt,st+=tt,st>=8&&(st-=8,ot[ct++]=255&at>>st)}if(st>=tt||255&at<<8-st)throw new SyntaxError("Unexpected end of data");return ot}function encode$l(_e,et,tt){const rt=et[et.length-1]==="=",nt=(1<<tt)-1;let ot="",st=0,at=0;for(let ct=0;ct<_e.length;++ct)for(at=at<<8|_e[ct],st+=8;st>tt;)st-=tt,ot+=et[nt&at>>st];if(st!==0&&(ot+=et[nt&at<<tt-st]),rt)for(;ot.length*tt&7;)ot+="=";return ot}function createAlphabetIdx(_e){const et={};for(let tt=0;tt<_e.length;++tt)et[_e[tt]]=tt;return et}function rfc4648({name:_e,prefix:et,bitsPerChar:tt,alphabet:rt}){const nt=createAlphabetIdx(rt);return from$6({prefix:et,name:_e,encode(ot){return encode$l(ot,rt,tt)},decode(ot){return decode$n(ot,nt,tt,_e)}})}const base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$1=encode$k,MSB$3=128,MSBALL$2=-128,INT$2=Math.pow(2,31);function encode$k(_e,et,tt){et=et||[],tt=tt||0;for(var rt=tt;_e>=INT$2;)et[tt++]=_e&255|MSB$3,_e/=128;for(;_e&MSBALL$2;)et[tt++]=_e&255|MSB$3,_e>>>=7;return et[tt]=_e|0,encode$k.bytes=tt-rt+1,et}var decode$m=read$5,MSB$1$1=128,REST$1$1=127;function read$5(_e,rt){var tt=0,rt=rt||0,nt=0,ot=rt,st,at=_e.length;do{if(ot>=at)throw read$5.bytes=0,new RangeError("Could not decode varint");st=_e[ot++],tt+=nt<28?(st&REST$1$1)<<nt:(st&REST$1$1)*Math.pow(2,nt),nt+=7}while(st>=MSB$1$1);return read$5.bytes=ot-rt,tt}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(_e){return _e<N1$1?1:_e<N2$1?2:_e<N3$1?3:_e<N4$1?4:_e<N5$1?5:_e<N6$1?6:_e<N7$1?7:_e<N8$1?8:_e<N9$1?9:10},varint$2={encode:encode_1$1,decode:decode$m,encodingLength:length$1},_brrp_varint=varint$2;function decode$l(_e,et=0){return[_brrp_varint.decode(_e,et),_brrp_varint.decode.bytes]}function encodeTo(_e,et,tt=0){return _brrp_varint.encode(_e,et,tt),et}function encodingLength(_e){return _brrp_varint.encodingLength(_e)}function create$7(_e,et){const tt=et.byteLength,rt=encodingLength(_e),nt=rt+encodingLength(tt),ot=new Uint8Array(nt+tt);return encodeTo(_e,ot,0),encodeTo(tt,ot,rt),ot.set(et,nt),new Digest$1(_e,tt,et,ot)}function decode$k(_e){const et=coerce(_e),[tt,rt]=decode$l(et),[nt,ot]=decode$l(et.subarray(rt)),st=et.subarray(rt+ot);if(st.byteLength!==nt)throw new Error("Incorrect length");return new Digest$1(tt,nt,st,et)}function equals$2(_e,et){if(_e===et)return!0;{const tt=et;return _e.code===tt.code&&_e.size===tt.size&&tt.bytes instanceof Uint8Array&&equals$3(_e.bytes,tt.bytes)}}let Digest$1=class{constructor(et,tt,rt,nt){Nt(this,"code");Nt(this,"size");Nt(this,"digest");Nt(this,"bytes");this.code=et,this.size=tt,this.digest=rt,this.bytes=nt}};function format$4(_e,et){const{bytes:tt,version:rt}=_e;switch(rt){case 0:return toStringV0(tt,baseCache(_e),et??base58btc.encoder);default:return toStringV1(tt,baseCache(_e),et??base32.encoder)}}const cache$2=new WeakMap;function baseCache(_e){const et=cache$2.get(_e);if(et==null){const tt=new Map;return cache$2.set(_e,tt),tt}return et}var qs;class CID{constructor(et,tt,rt,nt){Nt(this,"code");Nt(this,"version");Nt(this,"multihash");Nt(this,"bytes");Nt(this,"/");Nt(this,qs,"CID");this.code=tt,this.version=et,this.multihash=rt,this.bytes=nt,this["/"]=nt}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:et,multihash:tt}=this;if(et!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(tt.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(tt)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:et,digest:tt}=this.multihash,rt=create$7(et,tt);return CID.createV1(this.code,rt)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(et){return CID.equals(this,et)}static equals(et,tt){const rt=tt;return rt!=null&&et.code===rt.code&&et.version===rt.version&&equals$2(et.multihash,rt.multihash)}toString(et){return format$4(this,et)}toJSON(){return{"/":format$4(this)}}link(){return this}[(qs=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(et){if(et==null)return null;const tt=et;if(tt instanceof CID)return tt;if(tt["/"]!=null&&tt["/"]===tt.bytes||tt.asCID===tt){const{version:rt,code:nt,multihash:ot,bytes:st}=tt;return new CID(rt,nt,ot,st??encodeCID(rt,nt,ot.bytes))}else if(tt[cidSymbol]===!0){const{version:rt,multihash:nt,code:ot}=tt,st=decode$k(nt);return CID.create(rt,ot,st)}else return null}static create(et,tt,rt){if(typeof tt!="number")throw new Error("String codecs are no longer supported");if(!(rt.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(et){case 0:{if(tt!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new CID(et,tt,rt,rt.bytes)}case 1:{const nt=encodeCID(et,tt,rt.bytes);return new CID(et,tt,rt,nt)}default:throw new Error("Invalid version")}}static createV0(et){return CID.create(0,DAG_PB_CODE$1,et)}static createV1(et,tt){return CID.create(1,et,tt)}static decode(et){const[tt,rt]=CID.decodeFirst(et);if(rt.length!==0)throw new Error("Incorrect length");return tt}static decodeFirst(et){const tt=CID.inspectBytes(et),rt=tt.size-tt.multihashSize,nt=coerce(et.subarray(rt,rt+tt.multihashSize));if(nt.byteLength!==tt.multihashSize)throw new Error("Incorrect length");const ot=nt.subarray(tt.multihashSize-tt.digestSize),st=new Digest$1(tt.multihashCode,tt.digestSize,ot,nt);return[tt.version===0?CID.createV0(st):CID.createV1(tt.codec,st),et.subarray(tt.size)]}static inspectBytes(et){let tt=0;const rt=()=>{const[ft,ht]=decode$l(et.subarray(tt));return tt+=ht,ft};let nt=rt(),ot=DAG_PB_CODE$1;if(nt===18?(nt=0,tt=0):ot=rt(),nt!==0&&nt!==1)throw new RangeError(`Invalid CID version ${nt}`);const st=tt,at=rt(),ct=rt(),lt=tt+ct,dt=lt-st;return{version:nt,codec:ot,multihashCode:at,digestSize:ct,multihashSize:dt,size:lt}}static parse(et,tt){const[rt,nt]=parseCIDtoBytes(et,tt),ot=CID.decode(nt);if(ot.version===0&&et[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache(ot).set(rt,et),ot}}function parseCIDtoBytes(_e,et){switch(_e[0]){case"Q":{const tt=et??base58btc;return[base58btc.prefix,tt.decode(`${base58btc.prefix}${_e}`)]}case base58btc.prefix:{const tt=et??base58btc;return[base58btc.prefix,tt.decode(_e)]}case base32.prefix:{const tt=et??base32;return[base32.prefix,tt.decode(_e)]}case base36.prefix:{const tt=et??base36;return[base36.prefix,tt.decode(_e)]}default:{if(et==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[_e[0],et.decode(_e)]}}}function toStringV0(_e,et,tt){const{prefix:rt}=tt;if(rt!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${tt.name} encoding`);const nt=et.get(rt);if(nt==null){const ot=tt.encode(_e).slice(1);return et.set(rt,ot),ot}else return nt}function toStringV1(_e,et,tt){const{prefix:rt}=tt,nt=et.get(rt);if(nt==null){const ot=tt.encode(_e);return et.set(rt,ot),ot}else return nt}const DAG_PB_CODE$1=112,SHA_256_CODE=18;function encodeCID(_e,et,tt){const rt=encodingLength(_e),nt=rt+encodingLength(et),ot=new Uint8Array(nt+tt.byteLength);return encodeTo(_e,ot,0),encodeTo(et,ot,rt),ot.set(tt,nt),ot}const cidSymbol=Symbol.for("@ipld/js-cid/CID"),CID_CBOR_TAG=42;function toByteView$2(_e){return _e instanceof ArrayBuffer?new Uint8Array(_e,0,_e.byteLength):_e}function cidEncoder$1(_e){if(_e.asCID!==_e&&_e["/"]!==_e.bytes)return null;const et=CID.asCID(_e);if(!et)return null;const tt=new Uint8Array(et.bytes.byteLength+1);return tt.set(et.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,tt)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(_e){if(Number.isNaN(_e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(_e===1/0||_e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function mapEncoder(_e){for(const et of _e.keys())if(typeof et!="string"||et.length===0)throw new Error("Non-string Map keys are not supported by the IPLD Data Model and cannot be encoded");return null}const _encodeOptions={float64:!0,typeEncoders:{Map:mapEncoder,Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};({..._encodeOptions,typeEncoders:{..._encodeOptions.typeEncoders}});function cidDecoder(_e){if(_e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(_e.subarray(1))}const _decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};_decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;({..._decodeOptions,tags:_decodeOptions.tags.slice()});const name$6="dag-cbor",code$9=113,encode$j=_e=>encode$m(_e,_encodeOptions),decode$j=_e=>decode$o(toByteView$2(_e),_decodeOptions),encoder=new TextEncoder,decoder=new TextDecoder,encode$i=_e=>encoder.encode(_e),decode$i=_e=>decoder.decode(_e),DAG_PB_CODE=112;function createLegacy(_e){return CID.create(0,DAG_PB_CODE,_e)}function create$6(_e,et){return CID.create(1,_e,et)}function isLink(_e){if(_e==null)return!1;const et=_e;return et["/"]!=null&&et["/"]===et.bytes||_e.asCID===_e}function parse$2(_e,et){return CID.parse(_e,et)}const code$8=0,name$5="identity",encode$h=coerce;function digest$1(_e,et){if((et==null?void 0:et.truncate)!=null&&et.truncate!==_e.byteLength){if(et.truncate<0||et.truncate>_e.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${_e.byteLength}`);_e=_e.subarray(0,et.truncate)}return create$7(code$8,encode$h(_e))}const identity={code:code$8,name:name$5,encode:encode$h,digest:digest$1},DEFAULT_MIN_DIGEST_LENGTH=20;function from$5({name:_e,code:et,encode:tt,minDigestLength:rt,maxDigestLength:nt}){return new Hasher(_e,et,tt,rt,nt)}class Hasher{constructor(et,tt,rt,nt,ot){Nt(this,"name");Nt(this,"code");Nt(this,"encode");Nt(this,"minDigestLength");Nt(this,"maxDigestLength");this.name=et,this.code=tt,this.encode=rt,this.minDigestLength=nt??DEFAULT_MIN_DIGEST_LENGTH,this.maxDigestLength=ot}digest(et,tt){if((tt==null?void 0:tt.truncate)!=null){if(tt.truncate<this.minDigestLength)throw new Error(`Invalid truncate option, must be greater than or equal to ${this.minDigestLength}`);if(this.maxDigestLength!=null&&tt.truncate>this.maxDigestLength)throw new Error(`Invalid truncate option, must be less than or equal to ${this.maxDigestLength}`)}if(et instanceof Uint8Array){const rt=this.encode(et);return rt instanceof Uint8Array?createDigest(rt,this.code,tt==null?void 0:tt.truncate):rt.then(nt=>createDigest(nt,this.code,tt==null?void 0:tt.truncate))}else throw Error("Unknown type, must be binary type")}}function createDigest(_e,et,tt){if(tt!=null&&tt!==_e.byteLength){if(tt>_e.byteLength)throw new Error(`Invalid truncate option, must be less than or equal to ${_e.byteLength}`);_e=_e.subarray(0,tt)}return create$7(et,_e)}const DID_PREFIX="did:",DID_PREFIX_SIZE=DID_PREFIX.length,DID_KEY_PREFIX="did:key:",DID_KEY_PREFIX_SIZE=DID_KEY_PREFIX.length,ED25519=237,RSA=4613,P256=4608,P384=4609,P521=4610,SECP256K1=231,BLS12381G1$1=234,BLS12381G2$1=235,DID_CORE=3357,METHOD_OFFSET=encodingLength(DID_CORE),parse$1=_e=>{if(_e.startsWith(DID_PREFIX))if(_e.startsWith(DID_KEY_PREFIX)){const et=base58btc.decode(_e.slice(DID_KEY_PREFIX_SIZE));return decode$h(et)}else{const et=encode$i(_e.slice(DID_PREFIX_SIZE)),tt=new Uint8Array(et.byteLength+METHOD_OFFSET);return encodeTo(DID_CORE,tt),tt.set(et,METHOD_OFFSET),new DID$1(tt)}else throw new RangeError(`Invalid DID "${_e}", must start with 'did:'`)},format$3=_e=>_e.did(),from$4=_e=>_e instanceof DID$1?_e:_e instanceof Uint8Array?decode$h(_e):parse$1(typeof _e=="string"?_e:_e.did()),decode$h=_e=>{const[et]=decode$l(_e),{buffer:tt,byteOffset:rt,byteLength:nt}=_e;switch(et){case P256:if(_e.length>35)throw new RangeError("Only p256-pub compressed is supported.");case ED25519:case RSA:case P384:case P521:case BLS12381G1$1:case BLS12381G2$1:case SECP256K1:return new DIDKey(tt,rt,nt);case DID_CORE:return new DID$1(tt,rt,nt);default:throw new RangeError(`Unsupported DID encoding, unknown multicode 0x${et.toString(16)}.`)}};let DID$1=class extends Uint8Array{did(){const et=new Uint8Array(this.buffer,this.byteOffset+METHOD_OFFSET);return`did:${decode$i(et)}`}toJSON(){return this.did()}};class DIDKey extends DID$1{did(){return`did:key:${base58btc.encode(this)}`}}const name$4="raw",code$7=85;function encode$g(_e){return coerce(_e)}function decode$g(_e){return coerce(_e)}const raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$7,decode:decode$g,encode:encode$g,name:name$4},Symbol.toStringTag,{value:"Module"})),base64$2=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const NON_STANDARD=53248,ES256K=53479,BLS12381G1=53482,BLS12381G2=53483,EdDSA=53485,ES256=13636096,ES384=13636097,ES512=13636098,RS256=13636101,EIP191=53649,codeName=_e=>{switch(_e){case ES256K:return"ES256K";case BLS12381G1:return"BLS12381G1";case BLS12381G2:return"BLS12381G2";case EdDSA:return"EdDSA";case ES256:return"ES256";case ES384:return"ES384";case ES512:return"ES512";case RS256:return"RS256";case EIP191:return"EIP191";default:throw new RangeError(`Unknown signature algorithm code 0x${_e.toString(16)}`)}},nameCode=_e=>{switch(_e){case"ES256K":return ES256K;case"BLS12381G1":return BLS12381G1;case"BLS12381G2":return BLS12381G2;case"EdDSA":return EdDSA;case"ES256":return ES256;case"ES384":return ES384;case"ES512":return ES512;case"RS256":return RS256;case"EIP191":return EIP191;default:return NON_STANDARD}};class Signature extends Uint8Array{get code(){const[et]=decode$l(this);return Object.defineProperties(this,{code:{value:et}}),et}get size(){const et=size$1(this);return Object.defineProperties(this,{size:{value:et}}),et}get algorithm(){const et=algorithm(this);return Object.defineProperties(this,{algorithm:{value:et}}),et}get raw(){const{buffer:et,byteOffset:tt,size:rt,code:nt}=this,ot=encodingLength(nt),st=encodingLength(rt),at=new Uint8Array(et,tt+ot+st,rt);return Object.defineProperties(this,{raw:{value:at}}),at}async verify(et,tt){try{if(await et.verify(tt,this)===!0)return{ok:{}};throw new Error("Invalid signature")}catch(rt){return{error:rt}}}toJSON(){return toJSON$1(this)}}const algorithm=_e=>{const{code:et,raw:tt,buffer:rt,byteOffset:nt}=_e;if(et===NON_STANDARD){const ot=tt.byteLength+encodingLength(et)+encodingLength(tt.byteLength),st=new Uint8Array(rt,nt+ot);return decode$i(st)}else return codeName(et)},size$1=_e=>{const et=encodingLength(_e.code),[tt]=decode$l(new Uint8Array(_e.buffer,_e.byteOffset+et));return tt},create$5=(_e,et)=>{codeName(_e);const tt=encodingLength(_e),rt=encodingLength(et.byteLength),nt=new Signature(tt+rt+et.byteLength);return encodeTo(_e,nt),encodeTo(et.byteLength,nt,tt),nt.set(et,tt+rt),Object.defineProperties(nt,{code:{value:_e},size:{value:et.byteLength}}),nt},createNamed=(_e,et)=>{const tt=nameCode(_e);return tt===NON_STANDARD?createNonStandard(_e,et):create$5(tt,et)},createNonStandard=(_e,et)=>{const tt=NON_STANDARD,rt=encodingLength(tt),nt=encodingLength(et.byteLength),ot=encode$i(_e),st=new Signature(rt+nt+et.byteLength+ot.byteLength);return encodeTo(tt,st),encodeTo(et.byteLength,st,rt),st.set(et,rt+nt),st.set(ot,rt+nt+et.byteLength),st},view$4=_e=>new Signature(_e.buffer,_e.byteOffset,_e.byteLength),decode$f=_e=>{if(!(_e instanceof Uint8Array))throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(_e)}`);const et=view$4(_e),{code:tt,algorithm:rt,raw:nt}=et;return et},encode$f=_e=>decode$f(_e),toJSON$1=_e=>({"/":{bytes:base64$2.baseEncode(_e)}}),readPayload=_e=>readPayloadWith(_e,{readPrincipal,readProof}),readJWTPayload=_e=>readPayloadWith(_e,{readPrincipal:readStringPrincipal,readProof:readStringProof}),readPayloadWith=(_e,{readPrincipal:et,readProof:tt})=>({iss:et(_e.iss,"iss"),aud:et(_e.aud,"aud"),att:readCapabilities(_e.att,"att"),prf:readOptionalArray(_e.prf,tt,"prf")||[],exp:readNullable(_e.exp===1/0?null:_e.exp,readInt$1,"exp"),nbf:readOptional(_e.nbf,readInt$1,"nbf"),fct:readOptionalArray(_e.fct,readFact,"fct")||[],nnc:readOptional(_e.nnc,readString,"nnc")}),readSignature=_e=>{if(_e instanceof Uint8Array)return decode$f(_e);throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(_e)}`)},readInt$1=(_e,et)=>Number.isInteger(_e)?_e:ParseError.throw(`Expected ${et} to be integer, instead got ${JSON.stringify(_e)}`),readCapability=(_e,et)=>readStruct(_e,asCapability,et),readCapabilities=(_e,et)=>readArray(_e,readCapability,et),asCapability=_e=>({..._e,can:readAbility(_e.can),with:readResource(_e.with)}),readAbility=_e=>typeof _e!="string"?ParseError.throw(`Capability has invalid 'can: ${JSON.stringify(_e)}', value must be a string`):_e.slice(1,-1).includes("/")?_e.toLocaleLowerCase():_e==="*"?_e:ParseError.throw(`Capability has invalid 'can: "${_e}"', value must have at least one path segment`),readResource=_e=>typeof _e!="string"?ParseError.throw(`Capability has invalid 'with: ${JSON.stringify(_e)}', value must be a string`):parseURL(_e)||ParseError.throw(`Capability has invalid 'with: "${_e}"', value must be a valid URI string`),parseURL=_e=>{try{return new URL(_e),_e}catch{return null}},readArray=(_e,et,tt)=>Array.isArray(_e)?_e.map((rt,nt)=>et(rt,`${tt}[${nt}]`)):ParseError.throw(`${tt} must be an array`),readOptionalArray=(_e,et,tt)=>_e===void 0?_e:readArray(_e,et,tt),readStruct=(_e,et,tt)=>_e!=null&&typeof _e=="object"?et(_e):ParseError.throw(`${tt} must be of type object, instead got ${_e}`),readFact=(_e,et)=>readStruct(_e,Object,et),readProof=(_e,et)=>isLink(_e)?_e:fail$1(`Expected ${et} to be IPLD link, instead got ${JSON.stringify(_e)}`),readStringProof=(_e,et)=>parseProof(readString(_e,et)),parseProof=_e=>{try{return parse$2(_e)}catch{return create$6(code$7,identity.digest(encode$i(_e)))}},readPrincipal=(_e,et)=>decode$h(readBytes$1(_e,et)),readStringPrincipal=(_e,et)=>parse$1(readString(_e,et)),readOptional=(_e,et,tt="Field")=>_e!==void 0?et(_e,tt):void 0,readNullable=(_e,et,tt)=>_e===null?null:et(_e,tt),readString=(_e,et="Field")=>typeof _e=="string"?_e:fail$1(`${et} has invalid value ${_e}`),readBytes$1=(_e,et)=>_e instanceof Uint8Array?_e:fail$1(`Expected ${et} to be Uint8Array, instead got ${JSON.stringify(_e)}`),readVersion=(_e,et)=>/\d+\.\d+\.\d+/.test(_e)?_e:ParseError.throw(`Invalid version '${et}: ${JSON.stringify(_e)}'`),readLiteral=(_e,et,tt)=>_e===et?et:ParseError.throw(`Expected ${tt} to be a ${JSON.stringify(et)} instead got ${JSON.stringify(_e)}`);class ParseError extends TypeError{get name(){return"ParseError"}static throw(et){throw new this(et)}}const fail$1=_e=>ParseError.throw(_e);class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(et){const tt=this.inRecursive[this.inRecursive.length-1];tt&&(tt.type===Type.array&&(tt.elements++,tt.elements!==1&&et.push([44])),tt.type===Type.map&&(tt.elements++,tt.elements!==1&&(tt.elements%2===1?et.push([44]):et.push([58]))))}[Type.uint.major](et,tt){this.prefix(et);const rt=String(tt.value),nt=[];for(let ot=0;ot<rt.length;ot++)nt[ot]=rt.charCodeAt(ot);et.push(nt)}[Type.negint.major](et,tt){this[Type.uint.major](et,tt)}[Type.bytes.major](et,tt){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](et,tt){this.prefix(et);const rt=fromString$1(JSON.stringify(tt.value));et.push(rt.length>32?asU8A(rt):rt)}[Type.array.major](et,tt){this.prefix(et),this.inRecursive.push({type:Type.array,elements:0}),et.push([91])}[Type.map.major](et,tt){this.prefix(et),this.inRecursive.push({type:Type.map,elements:0}),et.push([123])}[Type.tag.major](et,tt){}[Type.float.major](et,tt){if(tt.type.name==="break"){const st=this.inRecursive.pop();if(st){if(st.type===Type.array)et.push([93]);else if(st.type===Type.map)et.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(tt.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(et),tt.type.name==="true"){et.push([116,114,117,101]);return}else if(tt.type.name==="false"){et.push([102,97,108,115,101]);return}else if(tt.type.name==="null"){et.push([110,117,108,108]);return}const rt=String(tt.value),nt=[];let ot=!1;for(let st=0;st<rt.length;st++)nt[st]=rt.charCodeAt(st),!ot&&(nt[st]===46||nt[st]===101||nt[st]===69)&&(ot=!0);ot||(nt.push(46),nt.push(48)),et.push(nt)}}function mapSorter(_e,et){if(Array.isArray(_e[0])||Array.isArray(et[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const tt=_e[0],rt=et[0];if(tt.type!==Type.string||rt.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(tt<rt)return-1;if(tt>rt)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions$1={addBreakTokens:!0,mapSorter};function encode$e(_e,et){return et=Object.assign({},defaultEncodeOptions$1,et),encodeCustom(_e,new JSONEncoder,et)}class Tokenizer{constructor(et,tt={}){this._pos=0,this.data=et,this.options=tt,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let et=this.ch();for(;et===32||et===9||et===13||et===10;)et=this.data[++this._pos]}expect(et){if(this.data.length-this._pos<et.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this._pos}`);for(let tt=0;tt<et.length;tt++)if(this.data[this._pos++]!==et[tt])throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...et)}'`)}parseNumber(){const et=this._pos;let tt=!1,rt=!1;const nt=at=>{for(;!this.done();){const ct=this.ch();if(at.includes(ct))this._pos++;else break}};if(this.ch()===45&&(tt=!0,this._pos++),this.ch()===48)if(this._pos++,this.ch()===46)this._pos++,rt=!0;else return new Token(Type.uint,0,this._pos-et);if(nt([48,49,50,51,52,53,54,55,56,57]),tt&&this._pos===et+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}`);if(!this.done()&&this.ch()===46){if(rt)throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}`);rt=!0,this._pos++,nt([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(rt=!0,this._pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this._pos++,nt([48,49,50,51,52,53,54,55,56,57]));const ot=String.fromCharCode.apply(null,this.data.subarray(et,this._pos)),st=parseFloat(ot);return rt?new Token(Type.float,st,this._pos-et):this.options.allowBigInt!==!0||Number.isSafeInteger(st)?new Token(st>=0?Type.uint:Type.negint,st,this._pos-et):new Token(st>=0?Type.uint:Type.negint,BigInt(ot),this._pos-et)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let ot=this._pos,st=0;ot<this.data.length&&st<65536;ot++,st++){const at=this.data[ot];if(at===92||at<32||at>=128)break;if(at===34){const ct=String.fromCharCode.apply(null,this.data.subarray(this._pos,ot));return this._pos=ot+1,new Token(Type.string,ct,st)}}const et=this._pos,tt=[],rt=()=>{if(this._pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this._pos}`);let ot=0;for(let st=0;st<4;st++){let at=this.ch();if(at>=48&&at<=57)at-=48;else if(at>=97&&at<=102)at=at-97+10;else if(at>=65&&at<=70)at=at-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this._pos}`);ot=ot*16+at,this._pos++}return ot},nt=()=>{const ot=this.ch();let st=null,at=ot>239?4:ot>223?3:ot>191?2:1;if(this._pos+at>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this._pos}`);let ct,lt,dt,ft;switch(at){case 1:ot<128&&(st=ot);break;case 2:ct=this.data[this._pos+1],(ct&192)===128&&(ft=(ot&31)<<6|ct&63,ft>127&&(st=ft));break;case 3:ct=this.data[this._pos+1],lt=this.data[this._pos+2],(ct&192)===128&&(lt&192)===128&&(ft=(ot&15)<<12|(ct&63)<<6|lt&63,ft>2047&&(ft<55296||ft>57343)&&(st=ft));break;case 4:ct=this.data[this._pos+1],lt=this.data[this._pos+2],dt=this.data[this._pos+3],(ct&192)===128&&(lt&192)===128&&(dt&192)===128&&(ft=(ot&15)<<18|(ct&63)<<12|(lt&63)<<6|dt&63,ft>65535&&ft<1114112&&(st=ft))}st===null?(st=65533,at=1):st>65535&&(st-=65536,tt.push(st>>>10&1023|55296),st=56320|st&1023),tt.push(st),this._pos+=at};for(;!this.done();){const ot=this.ch();let st;switch(ot){case 92:if(this._pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this._pos}`);switch(st=this.ch(),this._pos++,st){case 34:case 39:case 92:case 47:tt.push(st);break;case 98:tt.push(8);break;case 116:tt.push(9);break;case 110:tt.push(10);break;case 102:tt.push(12);break;case 114:tt.push(13);break;case 117:tt.push(rt());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new Token(Type.string,decodeCodePointsArray(tt),this._pos-et);default:if(ot<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this._pos}`);ot<128?(tt.push(ot),this._pos++):nt()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const et=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),et}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function decode$e(_e,et){return et=Object.assign({tokenizer:new Tokenizer(_e,et)},et),decode$o(_e,et)}function toByteView$1(_e){return _e instanceof ArrayBuffer?new Uint8Array(_e,0,_e.byteLength):_e}function cidEncoder(_e){if(_e.asCID!==_e&&_e["/"]!==_e.bytes)return null;const et=CID.asCID(_e);if(!et)return null;const tt=et.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,tt,tt.length),new Token(Type.break,void 0,1)]}function bytesEncoder(_e){const et=base64$2.encode(_e).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,et,et.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function taBytesEncoder(_e){return bytesEncoder(new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength))}function abBytesEncoder(_e){return bytesEncoder(new Uint8Array(_e))}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(_e){if(Number.isNaN(_e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(_e===1/0||_e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Buffer:bytesEncoder,Uint8Array:bytesEncoder,Int8Array:taBytesEncoder,Uint16Array:taBytesEncoder,Int16Array:taBytesEncoder,Uint32Array:taBytesEncoder,Int32Array:taBytesEncoder,Float32Array:taBytesEncoder,Float64Array:taBytesEncoder,Uint8ClampedArray:taBytesEncoder,BigInt64Array:taBytesEncoder,BigUint64Array:taBytesEncoder,DataView:taBytesEncoder,ArrayBuffer:abBytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(et,tt){super(et,tt),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const et=this._next();if(et.type===Type.map){const tt=this._next();if(tt.type===Type.string&&tt.value==="/"){const rt=this._next();if(rt.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(rt),new Token(Type.tag,42,0)}if(rt.type===Type.map){const nt=this._next();if(nt.type===Type.string&&nt.value==="bytes"){const ot=this._next();if(ot.type===Type.string){for(let at=0;at<2;at++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const st=base64$2.decode(`m${ot.value}`);return new Token(Type.bytes,st,ot.value.length)}this.tokenBuffer.push(ot)}this.tokenBuffer.push(nt)}this.tokenBuffer.push(rt)}this.tokenBuffer.push(tt)}return et}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};decodeOptions.tags[42]=CID.parse;const encode$d=_e=>encode$e(_e,encodeOptions),decode$d=_e=>{const et=toByteView$1(_e),tt=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(et,decodeOptions)});return decode$e(et,tt)};new TextDecoder;new TextEncoder;const format$2=_e=>{const et=formatHeader(_e.v,_e.s.algorithm),tt=formatPayload(_e),rt=formatSignature(_e.s);return`${et}.${tt}.${rt}`},formatSignPayload=(_e,et,tt)=>`${formatHeader(et,tt)}.${formatPayload(_e)}`,formatHeader=(_e,et)=>base64url.baseEncode(encodeHeader$1(_e,et)),formatPayload=_e=>base64url.baseEncode(encodePayload(_e)),formatSignature=_e=>base64url.baseEncode(_e.raw),encodeHeader$1=(_e,et)=>encode$d({alg:et,ucv:_e,typ:"JWT"}),encodePayload=_e=>encode$d({iss:format$3(_e.iss),aud:format$3(_e.aud),att:_e.att,exp:_e.exp,prf:_e.prf.map(encodeProof),..._e.fct.length>0&&{fct:_e.fct},..._e.nnc&&{nnc:_e.nnc},..._e.nbf&&{nbf:_e.nbf}}),encodeProof=_e=>_e.toString(),toJSON=_e=>JSON.parse(decode$i(encode$d(_e)));let View$1=class{constructor(et){this.model=et}get version(){return this.model.v}get issuer(){return from$4(this.model.iss)}get audience(){return from$4(this.model.aud)}get capabilities(){return this.model.att}get expiration(){const{exp:et}=this.model;return et===null?1/0:et}get notBefore(){return this.model.nbf}get nonce(){return this.model.nnc}get facts(){return this.model.fct}get proofs(){return this.model.prf}get signature(){return this.model.s}get jwt(){return this.model.jwt}get s(){return this.model.s}get v(){return this.model.v}get iss(){return this.model.iss}get aud(){return this.model.aud}get att(){return this.model.att}get exp(){return this.model.exp}get nbf(){return this.model.nbf}get nnc(){return this.model.nnc}get fct(){return this.model.fct}get prf(){return this.model.prf}toJSON(){const{v:et,iss:tt,aud:rt,s:nt,att:ot,prf:st,exp:at,fct:ct,nnc:lt,nbf:dt}=this.model;return{iss:tt,aud:rt,v:et,s:nt,exp:at,...toJSON({att:ot,prf:st,...ct.length>0&&{fct:ct}}),...lt!=null&&{nnc:lt},...dt&&{nbf:dt}}}};const code$6=code$9,from$3=_e=>new CBORView(_e),encode$c=_e=>{const{fct:et,nnc:tt,nbf:rt,...nt}=readPayload(_e);return encode$j({...et.length>0&&{fct:et},...tt!=null&&{nnc:tt},...rt&&{nbf:rt},...nt,v:readVersion(_e.v,"v"),s:encodeSignature(_e.s,"s")})},encodeSignature=(_e,et)=>{try{return encode$f(_e)}catch(tt){throw new Error(`Expected signature ${et}, instead got ${JSON.stringify(_e)}`,{cause:tt})}},decode$c=_e=>{const et=decode$j(_e);return new CBORView({...readPayload(et),v:readVersion(et.v,"v"),s:readSignature(et.s)})};class CBORView extends View$1{get code(){return code$6}format(){return format$2(this.model)}encode(){return encode$c(this.model)}}const parse=_e=>{const et=_e.split("."),[tt,rt,nt]=et.length===3?et:fail$1(`Can't parse UCAN: ${_e}: Expected JWT format: 3 dot-separated base64url-encoded values.`),{ucv:ot,alg:st}=parseHeader(tt);return{...parsePayload(rt),v:ot,s:createNamed(st,base64url.baseDecode(nt))}},parseHeader=_e=>{const{ucv:et,alg:tt,typ:rt}=decode$d(base64url.baseDecode(_e));return{typ:readLiteral(rt,"JWT","typ"),ucv:readVersion(et,"ucv"),alg:readString(tt,"alg")}},parsePayload=_e=>{const et=decode$d(base64url.baseDecode(_e));return readJWTPayload(et)},decode$b=_e=>{const et=decode$i(_e);return new JWTView({...parse(et),jwt:et})},encode$b=({jwt:_e})=>encode$i(_e),format$1=({jwt:_e})=>_e;class JWTView extends View$1{constructor(et){super(et),this.model=et}get code(){return code$7}format(){return format$1(this.model)}encode(){return encode$b(this.model)}}function sha(_e){return async et=>new Uint8Array(await crypto.subtle.digest(_e,et))}const sha256=from$5({name:"sha2-256",code:18,encode:sha("SHA-256")}),VERSION="0.9.1",defaultHasher=sha256,decode$a=_e=>{try{return decode$c(_e)}catch{return decode$b(_e)}},write$3=async(_e,{hasher:et=defaultHasher}={})=>{const[tt,rt]=_e.jwt?[code$7,encode$b(_e)]:[code$6,encode$c(_e)],nt=await et.digest(rt);return{bytes:rt,cid:create$6(tt,nt),data:_e}},issue$1=async({issuer:_e,audience:et,capabilities:tt,lifetimeInSeconds:rt=30,expiration:nt=now()+rt,notBefore:ot,facts:st=[],proofs:at=[],nonce:ct})=>{const lt=VERSION,dt=readPayload({iss:parse$1(_e.did()),aud:parse$1(et.did()),att:tt,fct:st,exp:nt,nbf:ot,prf:at,nnc:ct}),ft=encodeSignaturePayload(dt,lt,_e.signatureAlgorithm);return from$3({...dt,v:lt,s:await _e.sign(ft)})},encodeSignaturePayload=(_e,et,tt)=>encode$i(formatSignPayload(_e,et,tt)),now=()=>Math.floor(Date.now()/1e3),contentType$7="application/vnd.ipld.dag-cbor",prepare$1=(_e,et)=>{if(et.has(_e))throw new TypeError("Can not encode circular structure");if(_e===void 0&&et.size===0||_e===null||typeof _e=="symbol"&&et.size===0)return null;if(isLink(_e)||ArrayBuffer.isView(_e))return _e;if(Array.isArray(_e)){et.add(_e);const tt=[];for(const rt of _e)tt.push(rt===void 0||typeof rt=="symbol"?null:prepare$1(rt,et));return tt}if(typeof _e.toJSON=="function"){et.add(_e);const tt=_e.toJSON();return prepare$1(tt,et)}if(typeof _e=="object"){et.add(_e);const tt={};for(const[rt,nt]of Object.entries(_e))nt!==void 0&&typeof nt!="symbol"&&(tt[rt]=prepare$1(nt,new Set(et)));return tt}return _e},encode$a=_e=>encode$j(prepare$1(_e,new Set)),link$2=async(_e,{hasher:et=sha256}={})=>create$6(code$9,await et.digest(_e)),write$2=async(_e,et)=>{const tt=encode$a(_e);return{cid:await link$2(tt,et),bytes:tt}},CBOR=Object.freeze(Object.defineProperty({__proto__:null,code:code$9,contentType:contentType$7,decode:decode$j,encode:encode$a,link:link$2,name:name$6,write:write$2},Symbol.toStringTag,{value:"Module"})),iterate=function*(_e){_e&&typeof _e=="object"&&"iterateIPLDBlocks"in _e&&typeof _e.iterateIPLDBlocks=="function"&&(yield*_e.iterateIPLDBlocks())},createStore=(_e=[])=>{const et=new Map;return addEveryInto(_e,et),et},EMBED_CODE=identity.code,get$8=(_e,et,tt)=>{if(_e.multihash.code===EMBED_CODE)return{cid:_e,bytes:_e.multihash.digest};const rt=et.get(`${_e}`);return rt||tt},notFound=_e=>{throw new Error(`Block for the ${_e} is not found`)},writeInto=async(_e,et,tt={})=>{const rt=tt.codec||CBOR,nt=tt.hasher||sha256,ot=rt.encode(_e),st=await nt.digest(ot),at=create$6(rt.code,st);return et.set(at.toString(),{bytes:ot,cid:at}),{bytes:ot,cid:at,data:_e}},addInto=({cid:_e,bytes:et},tt)=>(tt.set(_e.toString(),{bytes:et,cid:_e}),{bytes:et,cid:_e}),addEveryInto=(_e,et)=>{for(const tt of _e)addInto(tt,et)};var encode_1=encode$9,MSB$2=128,MSBALL$1=-128,INT$1=Math.pow(2,31);function encode$9(_e,et,tt){if(Number.MAX_SAFE_INTEGER&&_e>Number.MAX_SAFE_INTEGER)throw encode$9.bytes=0,new RangeError("Could not encode varint");et=et||[],tt=tt||0;for(var rt=tt;_e>=INT$1;)et[tt++]=_e&255|MSB$2,_e/=128;for(;_e&MSBALL$1;)et[tt++]=_e&255|MSB$2,_e>>>=7;return et[tt]=_e|0,encode$9.bytes=tt-rt+1,et}var decode$9=read$4,MSB$1=128,REST$1=127;function read$4(_e,rt){var tt=0,rt=rt||0,nt=0,ot=rt,st,at=_e.length;do{if(ot>=at||nt>49)throw read$4.bytes=0,new RangeError("Could not decode varint");st=_e[ot++],tt+=nt<28?(st&REST$1)<<nt:(st&REST$1)*Math.pow(2,nt),nt+=7}while(st>=MSB$1);return read$4.bytes=ot-rt,tt}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(_e){return _e<N1?1:_e<N2?2:_e<N3?3:_e<N4?4:_e<N5?5:_e<N6?6:_e<N7?7:_e<N8?8:_e<N9?9:10},varint={encode:encode_1,decode:decode$9,encodingLength:length};const varint$1=getDefaultExportFromCjs(varint),CIDV0_BYTES$1={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=40;function decodeVarint$1(_e,et){if(!_e.length)throw new Error("Unexpected end of data");const tt=varint$1.decode(_e);return et.seek(varint$1.decode.bytes),tt}function decodeV2Header(_e){const et=new DataView(_e.buffer,_e.byteOffset,_e.byteLength);let tt=0;return{version:2,characteristics:[et.getBigUint64(tt,!0),et.getBigUint64(tt+=8,!0)],dataOffset:Number(et.getBigUint64(tt+=8,!0)),dataSize:Number(et.getBigUint64(tt+=8,!0)),indexOffset:Number(et.getBigUint64(tt+=8,!0))}}function getMultihashLength$1(_e){varint$1.decode(_e);const et=varint$1.decode.bytes,tt=varint$1.decode(_e.subarray(varint$1.decode.bytes)),rt=varint$1.decode.bytes;return et+rt+tt}const Kinds={Null:_e=>_e===null?_e:void 0,Int:_e=>Number.isInteger(_e)?_e:void 0,Float:_e=>typeof _e=="number"&&Number.isFinite(_e)?_e:void 0,String:_e=>typeof _e=="string"?_e:void 0,Bool:_e=>typeof _e=="boolean"?_e:void 0,Bytes:_e=>_e instanceof Uint8Array?_e:void 0,Link:_e=>_e!==null&&typeof _e=="object"&&_e.asCID===_e?_e:void 0,List:_e=>Array.isArray(_e)?_e:void 0,Map:_e=>_e!==null&&typeof _e=="object"&&_e.asCID!==_e&&!Array.isArray(_e)&&!(_e instanceof Uint8Array)?_e:void 0},Types={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":Kinds.Link,"CarV1HeaderOrV2Pragma > roots (anon)":_e=>{if(Kinds.List(_e)!==void 0){for(let et=0;et<_e.length;et++){let tt=_e[et];if(tt=Types["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](tt),tt===void 0)return;if(tt!==_e[et]){const rt=_e.slice(0,et);for(let nt=et;nt<_e.length;nt++){let ot=_e[nt];if(ot=Types["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](ot),ot===void 0)return;rt.push(ot)}return rt}}return _e}},Int:Kinds.Int,CarV1HeaderOrV2Pragma:_e=>{if(Kinds.Map(_e)===void 0)return;const et=Object.entries(_e);let tt=_e,rt=1;for(let nt=0;nt<et.length;nt++){const[ot,st]=et[nt];switch(ot){case"roots":{const at=Types["CarV1HeaderOrV2Pragma > roots (anon)"](_e[ot]);if(at===void 0)return;if(at!==st||tt!==_e){if(tt===_e){tt={};for(let ct=0;ct<nt;ct++)tt[et[ct][0]]=et[ct][1]}tt.roots=at}}break;case"version":{rt--;const at=Types.Int(_e[ot]);if(at===void 0)return;if(at!==st||tt!==_e){if(tt===_e){tt={};for(let ct=0;ct<nt;ct++)tt[et[ct][0]]=et[ct][1]}tt.version=at}}break;default:return}}if(!(rt>0))return tt}},Reprs={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":Kinds.Link,"CarV1HeaderOrV2Pragma > roots (anon)":_e=>{if(Kinds.List(_e)!==void 0){for(let et=0;et<_e.length;et++){let tt=_e[et];if(tt=Reprs["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](tt),tt===void 0)return;if(tt!==_e[et]){const rt=_e.slice(0,et);for(let nt=et;nt<_e.length;nt++){let ot=_e[nt];if(ot=Reprs["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](ot),ot===void 0)return;rt.push(ot)}return rt}}return _e}},Int:Kinds.Int,CarV1HeaderOrV2Pragma:_e=>{if(Kinds.Map(_e)===void 0)return;const et=Object.entries(_e);let tt=_e,rt=1;for(let nt=0;nt<et.length;nt++){const[ot,st]=et[nt];switch(ot){case"roots":{const at=Reprs["CarV1HeaderOrV2Pragma > roots (anon)"](st);if(at===void 0)return;if(at!==st||tt!==_e){if(tt===_e){tt={};for(let ct=0;ct<nt;ct++)tt[et[ct][0]]=et[ct][1]}tt.roots=at}}break;case"version":{rt--;const at=Reprs.Int(st);if(at===void 0)return;if(at!==st||tt!==_e){if(tt===_e){tt={};for(let ct=0;ct<nt;ct++)tt[et[ct][0]]=et[ct][1]}tt.version=at}}break;default:return}}if(!(rt>0))return tt}},CarV1HeaderOrV2Pragma={toTyped:Types.CarV1HeaderOrV2Pragma,toRepresentation:Reprs.CarV1HeaderOrV2Pragma};function readHeader$1(_e,et){const tt=decodeVarint$1(_e.upTo(8),_e);if(tt===0)throw new Error("Invalid CAR header (zero length)");const rt=_e.exactly(tt,!0),nt=decode$j(rt);if(CarV1HeaderOrV2Pragma.toTyped(nt)===void 0)throw new Error("Invalid CAR header format");if(nt.version!==1&&nt.version!==2||et!==void 0&&nt.version!==et)throw new Error(`Invalid CAR version: ${nt.version}${et!==void 0?` (expected ${et})`:""}`);if(nt.version===1){if(!Array.isArray(nt.roots))throw new Error("Invalid CAR header format");return nt}if(nt.roots!==void 0)throw new Error("Invalid CAR header format");const ot=decodeV2Header(_e.exactly(V2_HEADER_LENGTH,!0));_e.seek(ot.dataOffset-_e.pos);const st=readHeader$1(_e,1);return Object.assign(st,ot)}function readCid(_e){const et=_e.exactly(2,!1);if(et[0]===CIDV0_BYTES$1.SHA2_256&&et[1]===CIDV0_BYTES$1.LENGTH){const st=_e.exactly(34,!0),at=decode$k(st);return CID.create(0,CIDV0_BYTES$1.DAG_PB,at)}const tt=decodeVarint$1(_e.upTo(8),_e);if(tt!==1)throw new Error(`Unexpected CID version (${tt})`);const rt=decodeVarint$1(_e.upTo(8),_e),nt=_e.exactly(getMultihashLength$1(_e.upTo(8)),!0),ot=decode$k(nt);return CID.create(tt,rt,ot)}function readBlockHead(_e){const et=_e.pos;let tt=decodeVarint$1(_e.upTo(8),_e);if(tt===0)throw new Error("Invalid CAR section (zero length)");tt+=_e.pos-et;const rt=readCid(_e),nt=tt-Number(_e.pos-et);return{cid:rt,length:tt,blockLength:nt}}function fromBytes$1(_e){let et=bytesReader$1(_e);const tt=readHeader$1(et);if(tt.version===2){const nt=et.pos-tt.dataOffset;et=limitReader(et,tt.dataSize-nt)}const rt=[];for(;et.upTo(8).length>0;){const{cid:nt,blockLength:ot}=readBlockHead(et);rt.push({cid:nt,bytes:et.exactly(ot,!0)})}return{header:tt,blocks:rt}}function bytesReader$1(_e){let et=0;return{upTo(tt){return _e.subarray(et,et+Math.min(tt,_e.length-et))},exactly(tt,rt=!1){if(tt>_e.length-et)throw new Error("Unexpected end of data");const nt=_e.subarray(et,et+tt);return rt&&(et+=tt),nt},seek(tt){et+=tt},get pos(){return et}}}function limitReader(_e,et){let tt=0;return{upTo(rt){let nt=_e.upTo(rt);return nt.length+tt>et&&(nt=nt.subarray(0,et-tt)),nt},exactly(rt,nt=!1){const ot=_e.exactly(rt,nt);if(ot.length+tt>et)throw new Error("Unexpected end of data");return nt&&(tt+=rt),ot},seek(rt){tt+=rt,_e.seek(rt)},get pos(){return _e.pos}}}class CarBufferReader{constructor(et,tt){this._header=et,this._blocks=tt,this._cids=void 0}get version(){return this._header.version}getRoots(){return this._header.roots}has(et){return this._blocks.some(tt=>tt.cid.equals(et))}get(et){return this._blocks.find(tt=>tt.cid.equals(et))}blocks(){return this._blocks}cids(){return this._cids||(this._cids=this._blocks.map(et=>et.cid)),this._cids}static fromBytes(et){if(!(et instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");const{header:tt,blocks:rt}=fromBytes$1(et);return new CarBufferReader(tt,rt)}}const cborEncoders=makeCborEncoders(),defaultEncodeOptions={float64:!1,quickEncodeToken};function tokensToLength(_e,et=cborEncoders,tt=defaultEncodeOptions){if(Array.isArray(_e)){let rt=0;for(const nt of _e)rt+=tokensToLength(nt,et,tt);return rt}else{const rt=et[_e.type.major];if(rt.encodedSize===void 0||typeof rt.encodedSize!="function")throw new Error(`Encoder for ${_e.type.name} does not have an encodedSize()`);return rt.encodedSize(_e,tt)}}class CarBufferWriter{constructor(et,tt){this.bytes=et,this.byteOffset=tt,this.roots=[],this.headerSize=tt}addRoot(et,tt){return addRoot(this,et,tt),this}write(et){return addBlock(this,et),this}close(et){return close$1(this,et)}}const addRoot=(_e,et,tt={})=>{const{resize:rt=!1}=tt,{bytes:nt,headerSize:ot,byteOffset:st,roots:at}=_e;_e.roots.push(et);const ct=headerLength(_e);if(ct>ot)if(ct-ot+st<nt.byteLength)if(rt)resizeHeader(_e,ct);else throw at.pop(),new RangeError(`Header of size ${ot} has no capacity for new root ${et}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw at.pop(),new RangeError(`Buffer has no capacity for a new root ${et}`)},blockLength=({cid:_e,bytes:et})=>{const tt=_e.bytes.byteLength+et.byteLength;return varint$1.encodingLength(tt)+tt},addBlock=(_e,{cid:et,bytes:tt})=>{const rt=et.bytes.byteLength+tt.byteLength,nt=varint$1.encode(rt);if(_e.byteOffset+nt.length+rt>_e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");writeBytes$1(_e,nt),writeBytes$1(_e,et.bytes),writeBytes$1(_e,tt)},close$1=(_e,et={})=>{const{resize:tt=!1}=et,{roots:rt,bytes:nt,byteOffset:ot,headerSize:st}=_e,at=encode$j({version:1,roots:rt}),ct=varint$1.encode(at.length),lt=ct.length+at.byteLength;if(st-lt===0)return writeHeader(_e,ct,at),nt.subarray(0,ot);if(tt)return resizeHeader(_e,lt),writeHeader(_e,ct,at),nt.subarray(0,_e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},resizeHeader=(_e,et)=>{const{bytes:tt,headerSize:rt}=_e;tt.set(tt.subarray(rt,_e.byteOffset),et),_e.byteOffset+=et-rt,_e.headerSize=et},writeBytes$1=(_e,et)=>{_e.bytes.set(et,_e.byteOffset),_e.byteOffset+=et.length},writeHeader=({bytes:_e},et,tt)=>{_e.set(et),_e.set(tt,et.length)},headerPreludeTokens=[new Token(Type.map,2),new Token(Type.string,"version"),new Token(Type.uint,1),new Token(Type.string,"roots")],CID_TAG=new Token(Type.tag,42),calculateHeaderLength=_e=>{const et=[...headerPreludeTokens];et.push(new Token(Type.array,_e.length));for(const rt of _e)et.push(CID_TAG),et.push(new Token(Type.bytes,{length:rt+1}));const tt=tokensToLength(et);return varint$1.encodingLength(tt)+tt},headerLength=({roots:_e})=>calculateHeaderLength(_e.map(et=>et.bytes.byteLength)),createWriter$1=(_e,et={})=>{const{roots:tt=[],byteOffset:rt=0,byteLength:nt=_e.byteLength,headerSize:ot=headerLength({roots:tt})}=et,st=new Uint8Array(_e,rt,nt),at=new CarBufferWriter(st,ot);for(const ct of tt)at.addRoot(ct);return at},contentType$6="application/vnd.ipld.car",name$3="CAR",code$5=514;let Writer$2=class{constructor(et=[],tt=0){this.written=new Set,this.blocks=et,this.byteLength=tt}write(...et){for(const tt of et){const rt=tt.cid.toString(base32);this.written.has(rt)||(this.blocks.push(tt),this.byteLength+=blockLength(tt),this.written.add(rt))}return this}flush(...et){const tt=[];for(const ot of et.reverse()){const st=ot.cid.toString(base32);this.written.has(st)||(this.blocks.unshift(ot),this.byteLength+=blockLength({cid:ot.cid,bytes:ot.bytes}),this.written.add(st)),tt.unshift(ot.cid)}this.byteLength+=headerLength({roots:tt});const rt=new ArrayBuffer(this.byteLength),nt=createWriter$1(rt,{roots:tt});for(const ot of this.blocks)nt.write(ot);return nt.close()}};const createWriter=()=>new Writer$2,encode$8=({roots:_e=[],blocks:et})=>{const tt=new Writer$2;return et&&tt.write(...et.values()),tt.flush(..._e)},decode$8=_e=>{const et=CarBufferReader.fromBytes(_e),tt=[],rt=new Map;for(const nt of et.getRoots()){const ot=et.get(nt);ot&&tt.push(ot)}for(const nt of et.blocks())rt.set(nt.cid.toString(),nt);return{roots:tt,blocks:rt}},link$1=async(_e,{hasher:et=sha256}={})=>create$6(code$5,await et.digest(_e)),write$1=async(_e,et)=>{const tt=encode$8(_e),rt=await link$1(tt,et);return{bytes:tt,cid:rt}},car=Object.freeze(Object.defineProperty({__proto__:null,code:code$5,contentType:contentType$6,createWriter,decode:decode$8,encode:encode$8,link:link$1,name:name$3,write:write$1},Symbol.toStringTag,{value:"Module"})),ok=_e=>{if(_e==null)throw new TypeError(`ok(${_e}) is not allowed, consider ok({}) instead`);return{ok:_e}},error$1=_e=>{if(_e==null)throw new TypeError(`error(${_e}) is not allowed, consider passing an error instead`);return{error:_e}},panic=_e=>{throw new Failure(_e)},fail=_e=>({error:new Failure(_e)});class Failure extends Error{describe(){return this.toString()}get message(){return this.describe()}toJSON(){const{name:et,message:tt,stack:rt}=this;return{name:et,message:tt,stack:rt}}}class API{constructor(et){this.settings=et}toString(){return`new ${this.constructor.name}()`}readWith(et,tt){throw new Error("Abstract method readWith must be implemented by subclass")}read(et){return this.readWith(et,this.settings)}is(et){var tt;return!((tt=this.read(et))!=null&&tt.error)}from(et){const tt=this.read(et);if(tt.error)throw tt.error;return tt.ok}optional(){return optional$1(this)}nullable(){return nullable(this)}array(){return array(this)}or(et){return or$1(this,et)}and(et){return and$2(this,et)}refine(et){return refine(this,et)}brand(et){return this}default(et){const tt=this.from(et);if(tt===void 0)throw new Error("Value of type undefined is not a valid default");return new Default({reader:this,value:tt})}}class Unknown extends API{read(et){return{ok:et}}toString(){return"unknown()"}}const unknown=()=>new Unknown;class Nullable extends API{readWith(et,tt){const rt=tt.read(et);return rt.error?et===null?{ok:null}:{error:new UnionError({causes:[rt.error,typeError({expect:"null",actual:et}).error]})}:rt}toString(){return`${this.settings}.nullable()`}}const nullable=_e=>new Nullable(_e);class Optional extends API{optional(){return this}readWith(et,tt){const rt=tt.read(et);return rt.error&&et===void 0?{ok:void 0}:rt}toString(){return`${this.settings}.optional()`}}class Default extends API{optional(){return this}readWith(et,{reader:tt,value:rt}){if(et===void 0)return{ok:rt};{const nt=tt.read(et);return nt.error||nt.ok!==void 0?nt:{ok:rt}}}toString(){return`${this.settings.reader}.default(${JSON.stringify(this.settings.value)})`}get value(){return this.settings.value}}const optional$1=_e=>new Optional(_e);class ArrayOf extends API{readWith(et,tt){if(!Array.isArray(et))return typeError({expect:"array",actual:et});const rt=[];for(const[nt,ot]of et.entries()){const st=tt.read(ot);if(st.error)return memberError({at:nt,cause:st.error});rt.push(st.ok)}return{ok:rt}}get element(){return this.settings}toString(){return`array(${this.element})`}}const array=_e=>new ArrayOf(_e);class Tuple extends API{readWith(et,tt){if(!Array.isArray(et))return typeError({expect:"array",actual:et});if(et.length!==this.shape.length)return error(`Array must contain exactly ${this.shape.length} elements`);const rt=[];for(const[nt,ot]of tt.entries()){const st=ot.read(et[nt]);if(st.error)return memberError({at:nt,cause:st.error});rt[nt]=st.ok}return{ok:rt}}get shape(){return this.settings}toString(){return`tuple([${this.shape.map(et=>et.toString()).join(", ")}])`}}const tuple=_e=>new Tuple(_e);class Dictionary extends API{readWith(et,{key:tt,value:rt}){if(typeof et!="object"||et===null||Array.isArray(et))return typeError({expect:"dictionary",actual:et});const nt={};for(const[ot,st]of Object.entries(et)){const at=tt.read(ot);if(at.error)return memberError({at:ot,cause:at.error});const ct=rt.read(st);if(ct.error)return memberError({at:ot,cause:ct.error});ct.ok!==void 0&&(nt[at.ok]=ct.ok)}return{ok:nt}}get key(){return this.settings.key}get value(){return this.settings.value}partial(){const{key:et,value:tt}=this.settings;return new Dictionary({key:et,value:optional$1(tt)})}toString(){return`dictionary(${this.settings})`}}const dictionary=({value:_e,key:et})=>new Dictionary({value:_e,key:et||string()});class Union extends API{readWith(et,tt){const rt=[];for(const nt of tt){const ot=nt.read(et);if(ot.error)rt.push(ot.error);else return ot}return{error:new UnionError({causes:rt})}}get variants(){return this.settings}toString(){return`union([${this.variants.map(et=>et.toString()).join(", ")}])`}}const union=_e=>new Union(_e),or$1=(_e,et)=>union([_e,et]);class Intersection extends API{readWith(et,tt){const rt=[];for(const nt of tt){const ot=nt.read(et);ot.error&&rt.push(ot.error)}return rt.length>0?{error:new IntersectionError({causes:rt})}:{ok:et}}toString(){return`intersection([${this.settings.map(et=>et.toString()).join(",")}])`}}const intersection$1=_e=>new Intersection(_e),and$2=(_e,et)=>intersection$1([_e,et]);let Boolean$1=class extends API{readWith(et){switch(et){case!0:case!1:return{ok:et};default:return typeError({expect:"boolean",actual:et})}}toString(){return"boolean()"}};const anyBoolean=new Boolean$1,boolean=()=>anyBoolean;class UnknownNumber extends API{greaterThan(et){return this.refine(greaterThan(et))}lessThan(et){return this.refine(lessThan(et))}refine(et){return new RefinedNumber({base:this,schema:et})}}class AnyNumber extends UnknownNumber{readWith(et){return typeof et=="number"?{ok:et}:typeError({expect:"number",actual:et})}toString(){return"number()"}}const anyNumber=new AnyNumber,number=()=>anyNumber;class RefinedNumber extends UnknownNumber{readWith(et,{base:tt,schema:rt}){const nt=tt.read(et);return nt.error?nt:rt.read(nt.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}class LessThan extends API{readWith(et,tt){return et<tt?{ok:et}:error(`Expected ${et} < ${tt}`)}toString(){return`lessThan(${this.settings})`}}const lessThan=_e=>new LessThan(_e);class GreaterThan extends API{readWith(et,tt){return et>tt?{ok:et}:error(`Expected ${et} > ${tt}`)}toString(){return`greaterThan(${this.settings})`}}const greaterThan=_e=>new GreaterThan(_e),Integer={read(_e){return Number.isInteger(_e)?{ok:_e}:typeError({expect:"integer",actual:_e})},toString(){return"Integer"}},anyInteger=anyNumber.refine(Integer),integer=()=>anyInteger,Float={read(_e){return Number.isFinite(_e)?{ok:_e}:typeError({expect:"Float",actual:_e})},toString(){return"Float"}};anyNumber.refine(Float);class UnknownString extends API{refine(et){const tt=et;return new RefinedString({base:this,schema:tt})}startsWith(et){return this.refine(startsWith(et))}endsWith(et){return this.refine(endsWith(et))}toString(){return"string()"}}class RefinedString extends UnknownString{readWith(et,{base:tt,schema:rt}){const nt=tt.read(et);return nt.error?nt:rt.read(nt.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}class AnyString extends UnknownString{readWith(et){return typeof et=="string"?{ok:et}:typeError({expect:"string",actual:et})}}const anyString=new AnyString,string=()=>anyString;class BytesSchema extends API{readWith(et){return et instanceof Uint8Array?{ok:et}:typeError({expect:"Uint8Array",actual:et})}}const Bytes=new BytesSchema,bytes=()=>Bytes;class StartsWith extends API{readWith(et,tt){return et.startsWith(tt)?{ok:et}:error(`Expect string to start with "${tt}" instead got "${et}"`)}get prefix(){return this.settings}toString(){return`startsWith("${this.prefix}")`}}const startsWith=_e=>new StartsWith(_e);class EndsWith extends API{readWith(et,tt){return et.endsWith(tt)?{ok:et}:error(`Expect string to end with "${tt}" instead got "${et}"`)}get suffix(){return this.settings}toString(){return`endsWith("${this.suffix}")`}}const endsWith=_e=>new EndsWith(_e);class Refine extends API{readWith(et,{base:tt,schema:rt}){const nt=tt.read(et);return nt.error?nt:rt.read(nt.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}const refine=(_e,et)=>new Refine({base:_e,schema:et});class Literal extends API{readWith(et,tt){return et!==tt?{error:new LiteralError({expect:tt,actual:et})}:{ok:tt}}get value(){return this.settings}default(et=this.value){return super.default(et)}toString(){return`literal(${toString(this.value)})`}}const literal=_e=>new Literal(_e);class Struct extends API{readWith(et,tt){if(typeof et!="object"||et===null||Array.isArray(et))return typeError({expect:"object",actual:et});const rt=et,nt={},ot=Object.entries(tt);for(const[st,at]of ot){const ct=at.read(rt[st]);if(ct.error)return memberError({at:st,cause:ct.error});ct.ok!==void 0&&(nt[st]=ct.ok)}return{ok:nt}}partial(){return new Struct(Object.fromEntries(Object.entries(this.shape).map(([et,tt])=>[et,optional$1(tt)])))}get shape(){return this.settings}toString(){return["struct({ ",...Object.entries(this.shape).map(([et,tt])=>`${et}: ${tt}`).join(", ")," })"].join("")}create(et){return this.from(et||{})}extend(et){return new Struct({...this.shape,...et})}}const struct=_e=>{const et={},tt=Object.entries(_e);for(const[rt,nt]of tt)switch(typeof nt){case"number":case"string":case"boolean":et[rt]=literal(nt);break;case"object":et[rt]=nt===null?literal(null):nt;break;default:throw new Error(`Invalid struct field "${rt}", expected schema or literal, instead got ${typeof nt}`)}return new Struct(et)};class Variant extends API{readWith(et,tt){if(typeof et!="object"||et===null||Array.isArray(et))return typeError({expect:"object",actual:et});const rt=Object.keys(et),[nt]=rt.length===1?rt:[],ot=nt?tt[nt]:void 0;if(ot){const st=ot.read(et[nt]);return st.error?memberError({at:nt,cause:st.error}):{ok:{[nt]:st.ok}}}else if(tt._){const st=tt._.read(et);return st.error?st:{ok:{_:st.ok}}}else return error(nt?`Expected an object with one of the these keys: ${Object.keys(tt).sort().join(", ")} instead got object with key ${nt}`:"Expected an object with a single key instead got object with keys "+rt.sort().join(", "))}match(et,tt){const rt=this.read(et);if(rt.error){if(tt!==void 0)return[null,tt];throw rt.error}else{const[nt]=Object.keys(rt.ok),ot=rt.ok[nt];return[nt,ot]}}create(et){return this.from(et)}}const variant=_e=>new Variant(_e),error=_e=>({error:new SchemaError(_e)});class SchemaError extends Failure{get name(){return"SchemaError"}describe(){return this.name}}let TypeError$1=class extends SchemaError{constructor({expect:et,actual:tt}){super(),this.expect=et,this.actual=tt}get name(){return"TypeError"}describe(){return`Expected value of type ${this.expect} instead got ${toString(this.actual)}`}};const typeError=_e=>({error:new TypeError$1(_e)}),toString=_e=>{const et=typeof _e;switch(et){case"boolean":case"string":return JSON.stringify(_e);case"bigint":return`${_e}n`;case"number":case"symbol":case"undefined":return String(_e);case"object":return _e===null?"null":Array.isArray(_e)?"array":Symbol.toStringTag in _e?_e[Symbol.toStringTag]:"object";default:return et}};class LiteralError extends SchemaError{constructor({expect:et,actual:tt}){super(),this.expect=et,this.actual=tt}get name(){return"LiteralError"}describe(){return`Expected literal ${toString(this.expect)} instead got ${toString(this.actual)}`}}class ElementError extends SchemaError{constructor({at:et,cause:tt}){super(),this.at=et,this.cause=tt}get name(){return"ElementError"}describe(){return[`Array contains invalid element at ${this.at}:`,li$1(this.cause.message)].join(`
`)}}class FieldError extends SchemaError{constructor({at:et,cause:tt}){super(),this.at=et,this.cause=tt}get name(){return"FieldError"}describe(){return[`Object contains invalid field "${this.at}":`,li$1(this.cause.message)].join(`
`)}}const memberError=({at:_e,cause:et})=>typeof _e=="string"?{error:new FieldError({at:_e,cause:et})}:{error:new ElementError({at:_e,cause:et})};class UnionError extends SchemaError{constructor({causes:et}){super(),this.causes=et}get name(){return"UnionError"}describe(){const{causes:et}=this;return["Value does not match any type of the union:",...et.map(tt=>li$1(tt.message))].join(`
`)}}class IntersectionError extends SchemaError{constructor({causes:et}){super(),this.causes=et}get name(){return"IntersectionError"}describe(){const{causes:et}=this;return["Value does not match following types of the intersection:",...et.map(tt=>li$1(tt.message))].join(`
`)}}const indent$1=(_e,et="  ")=>`${et}${_e.split(`
`).join(`
${et}`)}`,li$1=_e=>indent$1(`- ${_e}`);class URISchema extends API{readWith(et,{protocol:tt}={}){if(typeof et!="string"&&!(et instanceof URL))return error(`Expected URI but got ${et===null?"null":typeof et}`);try{const rt=new URL(String(et));return tt!=null&&rt.protocol!==tt?error(`Expected ${tt} URI instead got ${rt.href}`):{ok:rt.href}}catch{return error("Invalid URI")}}}const schema$3=new URISchema({}),uri=()=>schema$3,read$3=_e=>schema$3.read(_e),match$4=_e=>new URISchema(_e),from$2=_e=>schema$3.from(_e),URI=Object.freeze(Object.defineProperty({__proto__:null,from:from$2,match:match$4,read:read$3,uri},Symbol.toStringTag,{value:"Module"}));class LinkSchema extends API{readWith(et,{code:tt,multihash:rt={},version:nt}){if(et==null)return error(`Expected link but got ${et} instead`);if(isLink(et)){if(tt!=null&&et.code!==tt)return error(`Expected link to be CID with 0x${tt.toString(16)} codec`);if(rt.code!=null&&et.multihash.code!==rt.code)return error(`Expected link to be CID with 0x${rt.code.toString(16)} hashing algorithm`);if(nt!=null&&et.version!==nt)return error(`Expected link to be CID version ${nt} instead of ${et.version}`);const[ot,st]=rt.digest!=null?[base32.baseEncode(rt.digest),base32.baseEncode(et.multihash.digest)]:["",""];return ot!==st?error(`Expected link with "${ot}" hash digest instead of "${st}"`):{ok:et}}else return error(`Expected link to be a CID instead of ${et}`)}}const schema$2=new LinkSchema({}),link=()=>schema$2,match$3=(_e={})=>new LinkSchema(_e),read$2=_e=>schema$2.read(_e),optional=()=>schema$2.optional(),Link=Object.freeze(Object.defineProperty({__proto__:null,create:create$6,createLegacy,isLink,link,match:match$3,optional,parse:parse$2,read:read$2,schema:schema$2},Symbol.toStringTag,{value:"Module"}));class PrincipalSchema extends API{readWith(et,tt){if(!(et instanceof Uint8Array))return typeError({expect:"Uint8Array",actual:et});let rt;try{rt=decode$h(et)}catch(ot){return error(`Unable to decode bytes as DID: ${ot}`)}const nt=tt?`did:${tt}:`:"did:";return rt.did().startsWith(nt)?{ok:rt}:error(`Expected a ${nt} but got "${rt.did()}" instead`)}}const match$2=(_e={})=>new PrincipalSchema(_e.method);class DIDSchema extends API{readWith(et,tt){const rt=tt?`did:${tt}:`:"did:";return et.startsWith(rt)?{ok:et}:error(`Expected a ${rt} but got "${et}" instead`)}}const schema$1=string().refine(new DIDSchema),did=()=>schema$1,read$1=_e=>schema$1.read(_e),match$1=(_e={})=>string().refine(new DIDSchema(_e.method)),from$1=_e=>match$1({}).from(_e);class DIDBytesSchema extends API{readWith(et,tt){if(!(et instanceof Uint8Array))return typeError({expect:"Uint8Array",actual:et});let rt;try{rt=decode$h(et).did()}catch(ot){return error(`Unable to parse bytes as did: ${ot}`)}const nt=tt?`did:${tt}:`:"did:";return rt.startsWith(nt)?{ok:rt}:error(`Expected a ${nt} but got "${rt}" instead`)}}const schemaBytes=new DIDBytesSchema,didBytes=()=>schemaBytes,readBytes=_e=>schemaBytes.read(_e),matchBytes=(_e={})=>new DIDBytesSchema(_e.method),fromBytes=_e=>matchBytes({}).from(_e),DID=Object.freeze(Object.defineProperty({__proto__:null,did,didBytes,from:from$1,fromBytes,match:match$1,matchBytes,read:read$1,readBytes},Symbol.toStringTag,{value:"Module"})),schema=string(),match=_e=>_e?schema.refine(new Match$1(_e.pattern)):schema;let Match$1=class extends API{readWith(et,tt){return tt.test(et)?{ok:et}:error(`Expected to match ${tt} but got "${et}" instead`)}};const isDelegation=_e=>!isLink(_e);class Delegation{constructor(et,tt=new Map){this.root=et,this.blocks=tt,Object.defineProperties(this,{blocks:{enumerable:!1}})}get attachedLinks(){const et=new Set,tt=this.data;for(const rt of tt.capabilities){const nt=getLinksFromObject(rt);for(const ot of nt)et.add(`${ot}`)}for(const rt of tt.facts)if(isLink(rt))et.add(`${rt}`);else{const nt=Object.values(rt).filter(ot=>isLink(ot));for(const ot of nt)et.add(`${ot}`)}return et}get version(){return this.data.version}get signature(){return this.data.signature}get cid(){return this.root.cid}link(){return this.root.cid}get asCID(){return this.cid}get bytes(){return this.root.bytes}get data(){const et=decode$7(this.root);return Object.defineProperties(this,{data:{value:et,enumerable:!1}}),et}attach(et){if(!this.attachedLinks.has(`${et.cid.link()}`))throw new Error(`given block with ${et.cid} is not an attached link`);this.blocks.set(`${et.cid}`,et)}export(){return exportDAG(this.root,this.blocks,this.attachedLinks)}archive(){return archive(this)}iterateIPLDBlocks(){return exportDAG(this.root,this.blocks,this.attachedLinks)}get proofs(){return proofs(this)}get issuer(){return this.data.issuer}get audience(){return this.data.audience}get capabilities(){return this.data.capabilities}get expiration(){return this.data.expiration}get notBefore(){return this.data.notBefore}get nonce(){return this.data.nonce}get facts(){return this.data.facts}iterate(){return it(this)}delegate(){return this}buildIPLDView(){return this}toJSON(){return{...this.data.toJSON(),"/":this.cid.toString(),prf:this.proofs.map(et=>isDelegation(et)?et:{"/":et.toString()})}}}const archive=async _e=>{try{const et=new Map;for(const nt of _e.iterateIPLDBlocks())et.set(`${nt.cid}`,nt);const tt=await write$2({[`ucan@${_e.version}`]:_e.root.cid});et.set(`${tt.cid}`,tt);const rt=encode$8({roots:[tt],blocks:et});return ok(rt)}catch(et){return error$1(et)}},it=function*(_e){for(const et of _e.proofs)isDelegation(et)&&(yield*it(et),yield et)},decodeCache=new WeakMap,decode$7=({bytes:_e})=>{const et=decodeCache.get(_e);if(!et){const tt=decode$a(_e);return decodeCache.set(_e,tt),tt}return et},delegate=async({issuer:_e,audience:et,proofs:tt=[],attachedBlocks:rt=new Map,...nt},ot)=>{const st=[],at=new Map;for(const ht of tt)if(!isDelegation(ht))st.push(ht);else{st.push(ht.cid);for(const pt of ht.export())at.set(pt.cid.toString(),pt)}const ct=await issue$1({...nt,issuer:_e,audience:et,proofs:st}),{cid:lt,bytes:dt}=await write$3(ct,ot);decodeCache.set(lt,ct);const ft=new Delegation({cid:lt,bytes:dt},at);Object.defineProperties(ft,{proofs:{value:tt}});for(const ht of rt.values())ft.attach(ht);return ft},exportDAG=function*(_e,et,tt){for(const rt of decode$7(_e).proofs){const nt=et.get(`${rt}`);nt&&(yield*exportSubDAG(nt,et))}for(const rt of tt.values()){const nt=et.get(rt);nt&&(yield nt)}yield _e},exportSubDAG=function*(_e,et){for(const tt of decode$7(_e).proofs){const rt=et.get(`${tt}`);rt&&(yield*exportSubDAG(rt,et))}yield _e},create$4=({root:_e,blocks:et})=>new Delegation(_e,et),view$3=({root:_e,blocks:et},tt)=>{const rt=get$8(_e,et,null);return rt==null?tt!==void 0?tt:notFound(_e):create$4({root:rt,blocks:et})},proofs=_e=>{const et=[],{root:tt,blocks:rt}=_e;for(const nt of decode$7(tt).proofs){const ot=rt.get(nt.toString());et.push(ot?create$4({root:ot,blocks:rt}):nt)}return Object.defineProperty(_e,"proofs",{value:et}),et};function getLinksFromObject(_e){const et=[];function tt(rt){for(const nt in rt){const ot=rt[nt];isLink(ot)?et.push(ot):ot&&typeof ot=="object"&&tt(ot)}}return tt(_e),et}const invoke=_e=>new IssuedInvocation(_e),create$3=({root:_e,blocks:et})=>new Invocation(_e,et),view$2=({root:_e,blocks:et},tt)=>{const rt=get$8(_e,et,null);return rt==null?tt!==void 0?tt:notFound(_e):create$3({root:rt,blocks:et})};class IssuedInvocation{constructor({issuer:et,audience:tt,capability:rt,proofs:nt=[],expiration:ot,lifetimeInSeconds:st,notBefore:at,nonce:ct,facts:lt=[],attachedBlocks:dt}){this.issuer=et,this.audience=tt,this.proofs=nt,this.capabilities=[rt],this.expiration=ot,this.lifetimeInSeconds=st,this.notBefore=at,this.nonce=ct,this.facts=lt,this.attachedBlocks=dt||new Map}attach(et){this.attachedBlocks.set(`${et.cid}`,et)}delegate(){return delegate(this)}buildIPLDView(){return delegate(this)}async execute(et){const tt=this,[rt]=await et.execute(tt);return rt}}class Invocation extends Delegation{}const view$1=({root:_e,blocks:et},tt)=>{const rt=get$8(_e,et,null);if(rt==null)return tt!==void 0?tt:notFound(_e);const nt=decode$j(rt.bytes);return new Receipt({root:{...rt,data:nt},store:et})};class Receipt{constructor({root:et,store:tt,ran:rt,issuer:nt,signature:ot,proofs:st}){this.store=tt,this.root=et,this._ran=rt,this._fx=void 0,this._signature=ot,this._proofs=st,this._issuer=nt}get ran(){const et=this._ran;if(et)return et;{const tt=view$2({root:this.root.data.ocm.ran,blocks:this.store},this.root.data.ocm.ran);return this._ran=tt,tt}}get proofs(){const et=this._proofs;if(et)return et;{const{store:tt,root:rt}=this,{prf:nt}=rt.data.ocm,ot=[];if(nt)for(const st of nt){const at=view$3({root:st,blocks:tt},st);ot.push(at)}return this._proofs=ot,ot}}link(){return this.root.cid}get meta(){return this.root.data.ocm.meta}get issuer(){const et=this._issuer;if(et)return et;{const{iss:tt}=this.root.data.ocm;if(tt){const rt=parse$1(tt);return this._issuer=rt,rt}}}get out(){return this.root.data.ocm.out}get fx(){let et=this._fx;if(!et){const{store:tt}=this,{fork:rt,join:nt}=this.root.data.ocm.fx;et={fork:rt.map(ot=>view$2({root:ot,blocks:tt},ot))},nt&&(et.join=view$2({root:nt,blocks:tt},nt)),this._fx=et}return et}get signature(){const et=this._signature;if(et)return et;{const tt=view$4(this.root.data.sig);return this._signature=tt,tt}}verifySignature(et){return this.signature.verify(et,encode$a(this.root.data.ocm))}buildIPLDView(){return this}*iterateIPLDBlocks(){const{ran:et,fx:tt,proofs:rt,root:nt}=this;yield*iterate(et);for(const ot of tt.fork)yield*iterate(ot);tt.join&&(yield*iterate(tt.join));for(const ot of rt)yield*iterate(ot);yield nt}}class ReceptBuilder{constructor({issuer:et,result:tt,ran:rt,fx:nt=NOFX,proofs:ot=[],meta:st={}}){this.issuer=et,this.result=tt,this.ran=rt,this.fx=nt,this.proofs=ot,this.meta=st}async buildIPLDView({hasher:et=sha256,codec:tt=CBOR}={}){const rt=createStore();addEveryInto(iterate(this.ran),rt);const nt=[];for(const dt of this.proofs)addEveryInto(iterate(dt),rt),nt.push(dt.link());const ot={fork:[]};for(const dt of this.fx.fork)addEveryInto(iterate(dt),rt),ot.fork.push(dt.link());this.fx.join&&(addEveryInto(iterate(this.fx.join),rt),ot.join=this.fx.join.link());const st={ran:this.ran.link(),out:this.result,fx:ot,meta:this.meta,iss:this.issuer.did(),prf:nt},at=await this.issuer.sign(encode$a(st)),lt=await writeInto({ocm:st,sig:at},rt,{hasher:et,codec:tt});return new Receipt({root:lt,store:rt,signature:at,proofs:this.proofs,ran:this.ran})}}const NOFX=Object.freeze({fork:Object.freeze([])}),issue=_e=>new ReceptBuilder(_e).buildIPLDView(),MessageSchema=variant({"ucanto/message@7.0.0":struct({execute:match$3().array().optional(),delegate:dictionary({key:string(),value:match$3()}).array().optional()})}),build=({invocations:_e,receipts:et})=>new MessageBuilder({invocations:_e,receipts:et}).buildIPLDView(),view=({root:_e,store:et},tt)=>{const rt=get$8(_e,et,null);if(rt===null)return tt!==void 0?tt:notFound(_e);const nt=decode$j(rt.bytes),[ot,st]=MessageSchema.match(nt,tt);switch(ot){case"ucanto/message@7.0.0":return new Message({root:{...rt,data:nt},store:et});default:return st}};class MessageBuilder{constructor({invocations:et,receipts:tt}){this.invocations=et,this.receipts=tt}async buildIPLDView(et){const tt=new Map,{invocations:rt,...nt}=await writeInvocations(this.invocations||[],tt),{receipts:ot,...st}=await writeReceipts(this.receipts||[],tt),at=await writeInto({"ucanto/message@7.0.0":{...nt,...st}},tt,et);return new Message({root:at,store:tt},{receipts:ot,invocations:rt})}}const writeInvocations=async(_e,et)=>{const tt=[],rt=[];for(const nt of _e){const ot=await nt.buildIPLDView();rt.push(ot.link()),tt.push(ot);for(const st of ot.iterateIPLDBlocks())et.set(`${st.cid}`,st)}return{invocations:tt,...rt.length>0?{execute:rt}:{}}},writeReceipts=async(_e,et)=>{if(_e.length===0)return{};const tt=new Map,rt={};for(const[nt,ot]of _e.entries()){const st=await ot.buildIPLDView();for(const ct of st.iterateIPLDBlocks())et.set(`${ct.cid}`,ct);const at=`${st.ran.link()}`;at in rt?tt.set(`${at}@${nt}`,st):(rt[at]=st.root.cid,tt.set(at,st))}return{receipts:tt,report:rt}};class Message{constructor({root:et,store:tt},{invocations:rt,receipts:nt}={}){this.root=et,this.store=tt,this._invocations=rt,this._receipts=nt}*iterateIPLDBlocks(){for(const et of this.invocations)yield*et.iterateIPLDBlocks();for(const et of this.receipts.values())yield*et.iterateIPLDBlocks();yield this.root}get(et,tt){const nt=(this.root.data["ucanto/message@7.0.0"].report||{})[`${et}`];return nt?view$1({root:nt,blocks:this.store}):tt!==void 0?tt:panic(`Message does not include receipt for ${et}`)}get invocationLinks(){return this.root.data["ucanto/message@7.0.0"].execute||[]}get invocations(){let et=this._invocations;return et||(et=this.invocationLinks.map(tt=>view$2({root:tt,blocks:this.store}))),et}get receipts(){let et=this._receipts;if(!et){et=new Map;const tt=this.root.data["ucanto/message@7.0.0"].report||{};for(const[rt,nt]of Object.entries(tt)){const ot=view$1({root:nt,blocks:this.store});et.set(`${ot.ran.link()}`,ot)}}return et}}const connect=_e=>new Connection(_e);class Connection{constructor(et){this.id=et.id,this.options=et,this.codec=et.codec,this.channel=et.channel,this.hasher=et.hasher||sha256}async execute(...et){return execute(et,this)}}const execute=async(_e,et)=>{const tt=await build({invocations:_e}),rt=await et.codec.encode(tt,et),nt=await et.channel.request(rt);try{const ot=await et.codec.decode(nt);return tt.invocationLinks.map(at=>ot.get(at))}catch(ot){const{message:st,name:at="Error",...ct}=ot,lt=[];for await(const dt of tt.invocationLinks){const ft=await issue({ran:dt,result:{error:{...ct,name:at,message:st}},issuer:{did(){return et.id.did()},sign(){return createNonStandard("",new Uint8Array)}}});lt.push(ft)}return lt}},contentType$5=contentType$6,HEADERS$2=Object.freeze({"content-type":contentType$5,accept:contentType$5}),encode$7=(_e,et)=>{const tt=new Map;for(const nt of _e.iterateIPLDBlocks())tt.set(`${nt.cid}`,nt);const rt=encode$8({roots:[_e.root],blocks:tt});return{headers:(et==null?void 0:et.headers)||{...HEADERS$2},body:rt}},decode$6=async({headers:_e,body:et})=>{const{roots:tt,blocks:rt}=decode$8(et);return view({root:tt[0].cid,store:rt})},request$1=Object.freeze(Object.defineProperty({__proto__:null,codec:car,contentType:contentType$5,decode:decode$6,encode:encode$7},Symbol.toStringTag,{value:"Module"})),contentType$4=contentType$6,HEADERS$1=Object.freeze({"content-type":contentType$4}),encode$6=(_e,et)=>{const tt=new Map;for(const nt of _e.iterateIPLDBlocks())tt.set(`${nt.cid}`,nt);const rt=encode$8({roots:[_e.root],blocks:tt});return{headers:{...HEADERS$1},body:rt}},decode$5=async({headers:_e,body:et})=>{const{roots:tt,blocks:rt}=decode$8(et);return view({root:tt[0].cid,store:rt})},response$1=Object.freeze(Object.defineProperty({__proto__:null,codec:car,contentType:contentType$4,decode:decode$5,encode:encode$6},Symbol.toStringTag,{value:"Module"})),inbound=_e=>new Inbound(_e);class Inbound{accept({headers:et}){const tt=et["content-type"]||et["Content-Type"],rt=this.decoders[tt];if(!rt)return{error:{status:415,message:"The server cannot process the request because the payload format is not supported. Please check the content-type header and try again with a supported media type.",headers:{accept:Object.keys(this.decoders).join(", ")}}};const nt=parseAcceptHeader(et.accept||et.Accept||"*/*");for(const{category:ot,type:st}of nt)for(const at of this.encoders)if((ot==="*"||ot===at.category)&&(st==="*"||st===at.type))return{ok:{...at,decoder:rt}};return{error:{status:406,message:"The requested resource cannot be served in the requested content type. Please specify a supported content type using the Accept header.",headers:{accept:formatAcceptHeader(Object.values(this.encoders))}}}}constructor({decoders:et={},encoders:tt={}}){if(this.decoders=et,Object.keys(et).length===0)throw new Error("At least one decoder MUST be provided");if(this.encoders=Object.entries(tt).map(([rt,nt])=>({...parseMediaType(rt),encoder:nt})).sort((rt,nt)=>nt.preference-rt.preference),this.encoders.length===0)throw new Error("At least one encoder MUST be provided")}}const outbound$1=_e=>new Outbound(_e);class Outbound{constructor({decoders:et={},encoders:tt={}}){if(this.decoders=et,Object.keys(et).length===0)throw new Error("At least one decoder MUST be provided");if(this.encoders=Object.entries(tt).map(([rt,nt])=>({...parseMediaType(rt),encoder:nt})).sort((rt,nt)=>nt.preference-rt.preference),this.acceptType=formatAcceptHeader(this.encoders),this.encoders.length===0)throw new Error("At least one encoder MUST be provided");this.encoder=this.encoders[0].encoder}encode(et){return this.encoder.encode(et,{accept:this.acceptType})}decode(et){const{headers:tt}=et,rt=tt["content-type"]||tt["Content-Type"],nt=this.decoders[rt]||this.decoders["*/*"];switch(et.status){case 415:case 406:throw Object.assign(new RangeError(new TextDecoder().decode(et.body)),{status:et.status,headers:et.headers})}if(!nt)throw Object.assign(TypeError(`Can not decode response with content-type '${rt}' because no matching transport decoder is configured.`),{error:!0});return nt.decode(et)}}const parseMediaType=_e=>{const[et="*/*",tt=""]=_e.trim().split(";"),[rt="*",nt="*"]=et.split("/"),ot=new URLSearchParams(tt),st=parseFloat(ot.get("q")||"0");return{category:rt,type:nt,preference:isNaN(st)?0:st}},formatMediaType=({category:_e,type:et,preference:tt})=>`${_e}/${et}${tt?`;q=${tt}`:""}`,parseAcceptHeader=_e=>_e.split(",").map(parseMediaType).sort((et,tt)=>tt.preference-et.preference),formatAcceptHeader=_e=>_e.map(formatMediaType).join(", "),contentType$3=contentType$6;inbound({decoders:{[contentType$5]:request$1},encoders:{[contentType$4]:response$1}});const outbound=outbound$1({encoders:{[contentType$5]:request$1},decoders:{[contentType$4]:response$1}}),open$1=({url:_e,method:et="POST",fetch:tt,headers:rt})=>{if(!tt)if(typeof globalThis.fetch<"u")tt=globalThis.fetch.bind(globalThis);else throw new TypeError("ucanto HTTP transport got undefined `fetch`. Try passing in a `fetch` implementation explicitly.");return new Channel({url:_e,method:et,fetch:tt,headers:rt})};class Channel{constructor({url:et,fetch:tt,method:rt,headers:nt}){this.fetch=tt,this.method=rt,this.url=et,this.headers=nt}async request({headers:et,body:tt}){const rt=await this.fetch(this.url.href,{headers:{...this.headers,...et},body:tt,method:this.method}),nt=rt.ok?await rt.arrayBuffer():HTTPError.throw(`HTTP Request failed. ${this.method} ${this.url.href} → ${rt.status}`,rt);return{headers:rt.headers.entries?Object.fromEntries(rt.headers.entries()):{},body:new Uint8Array(nt)}}}class HTTPError extends Error{static throw(et,tt){throw new this(et,tt)}constructor(et,{url:tt,status:rt=500,statusText:nt="Server error"}){super(et),this.name="HTTPError",this.url=tt,this.status=rt,this.statusText=nt}}const the=_e=>_e,entries=_e=>Object.entries(_e),combine=([_e,...et])=>{const tt=_e.map(rt=>[rt]);for(const rt of et){const nt=tt.splice(0);for(const ot of rt)for(const st of nt)tt.push([...st,ot])}return tt},intersection=(_e,et)=>{const[tt,rt]=_e.length<et.length?[new Set(_e),new Set(et)]:[new Set(et),new Set(_e)];for(const nt of tt)rt.has(nt)||tt.delete(nt);return[...tt]};class EscalatedCapability extends Failure{constructor(et,tt,rt){super(),this.claimed=et,this.delegated=tt,this.cause=rt,this.name=the("EscalatedCapability")}describe(){return`Constraint violation: ${this.cause.message}`}}class DelegationError extends Failure{constructor(et,tt){super(),this.name=the("InvalidClaim"),this.causes=et,this.context=tt}describe(){return[`Can not derive ${this.context} from delegated capabilities:`,...this.causes.map(et=>li(et.message))].join(`
`)}get cause(){if(this.causes.length!==1)return this;{const[et]=this.causes,tt=et.name==="InvalidClaim"?et.cause:et;return Object.defineProperties(this,{cause:{value:tt}}),tt}}}class MalformedCapability extends Failure{constructor(et,tt){super(),this.name=the("MalformedCapability"),this.capability=et,this.cause=tt}describe(){return[`Encountered malformed '${this.capability.can}' capability: ${format(this.capability)}`,li(this.cause.message)].join(`
`)}}class UnknownCapability extends Failure{constructor(et){super(),this.name=the("UnknownCapability"),this.capability=et}describe(){return`Encountered unknown capability: ${format(this.capability)}`}}const format=(_e,et)=>JSON.stringify(_e,(tt,rt)=>isLink(rt)?rt.toString():rt,et),indent=(_e,et="  ")=>`${et}${_e.split(`
`).join(`
${et}`)}`,li=_e=>indent(`- ${_e}`),capability=({derives:_e=defaultDerives,nb:et=defaultNBSchema,...tt})=>new Capability({derives:_e,nb:et,...tt}),defaultNBSchema=struct({}),or=(_e,et)=>new Or(_e,et),and$1=(..._e)=>new And(_e),derive=({from:_e,to:et,derives:tt})=>new Derive(_e,et,tt);class View{match(et){return{error:new UnknownCapability(et.capability)}}select(et){return select(this,et)}derive({derives:et,to:tt}){return derive({derives:et,to:tt,from:this})}}class Unit extends View{or(et){return or(this,et)}and(et){return and$1(this,et)}}class Capability extends Unit{constructor(et){super(),this.descriptor=et,this.schema=struct({can:literal(et.can),with:et.with,nb:et.nb})}create(et){const{descriptor:tt,can:rt}=this;tt.nb;const nt=et.nb||{},ot=tt.with.read(et.with);if(ot.error)throw Object.assign(new Error(`Invalid 'with' - ${ot.error.message}`),{cause:ot});const st=tt.nb.read(nt);if(st.error)throw Object.assign(new Error(`Invalid 'nb' - ${st.error.message}`),{cause:st});return createCapability({can:rt,with:ot.ok,nb:st.ok})}invoke({with:et,nb:tt,...rt}){return invoke({...rt,capability:this.create({with:et,nb:tt})})}async delegate({nb:et={},with:tt,...rt}){const{descriptor:nt,can:ot}=this;nt.nb;const st=nt.with.read(tt);if(st.error)throw Object.assign(new Error(`Invalid 'with' - ${st.error.message}`),{cause:st});const at=nt.nb.partial().read(et);if(at.error)throw Object.assign(new Error(`Invalid 'nb' - ${at.error.message}`),{cause:at});return delegate({capabilities:[createCapability({can:ot,with:st.ok,nb:at.ok})],...rt})}get can(){return this.descriptor.can}match(et){const tt=parseCapability(this.descriptor,et);return tt.error?tt:{ok:new Match(et,tt.ok,this.descriptor)}}toString(){return JSON.stringify({can:this.descriptor.can})}}const createCapability=({can:_e,with:et,nb:tt})=>({can:_e,with:et,...isEmpty(tt)?{}:{nb:tt}}),isEmpty=_e=>{for(const et in _e)return!1;return!0};class Or extends Unit{constructor(et,tt){super(),this.left=et,this.right=tt}match(et){const tt=this.left.match(et);if(tt.error){const rt=this.right.match(et);return rt.error?rt.error.name==="MalformedCapability"?rt:tt:rt}else return tt}toString(){return`${this.left.toString()}|${this.right.toString()}`}}class And extends View{constructor(et){super(),this.selectors=et}match(et){const tt=[];for(const rt of this.selectors){const nt=rt.match(et);if(nt.error)return nt;tt.push(nt.ok)}return{ok:new AndMatch(tt)}}select(et){return selectGroup(this,et)}and(et){return new And([...this.selectors,et])}toString(){return`[${this.selectors.map(String).join(", ")}]`}}class Derive extends Unit{constructor(et,tt,rt){super(),this.from=et,this.to=tt,this.derives=rt}create(et){return this.to.create(et)}invoke(et){return this.to.invoke(et)}delegate(et){return this.to.delegate(et)}get can(){return this.to.can}match(et){const tt=this.to.match(et);return tt.error?tt:{ok:new DerivedMatch(tt.ok,this.from,this.derives)}}toString(){return this.to.toString()}}class Match{constructor(et,tt,rt){this.source=[et],this.value=tt,this.descriptor=rt}get can(){return this.value.can}get proofs(){const et=[this.source[0].delegation];return Object.defineProperties(this,{proofs:{value:et}}),et}prune(et){return et.canIssue(this.value,this.source[0].delegation.issuer.did())?null:this}select(et){const tt=[],rt=[],nt=[];for(const ot of et){const st=resolveCapability(this.descriptor,this.value,ot);if(st.ok){const at=this.descriptor.derives(this.value,st.ok);at.error?rt.push(new DelegationError([new EscalatedCapability(this.value,st.ok,at.error)],this)):nt.push(new Match(ot,st.ok,this.descriptor))}else switch(st.error.name){case"UnknownCapability":tt.push(st.error.capability);break;case"MalformedCapability":default:rt.push(new DelegationError([st.error],this))}}return{matches:nt,unknown:tt,errors:rt}}toString(){const{nb:et}=this.value;return JSON.stringify({can:this.descriptor.can,with:this.value.with,nb:et&&Object.keys(et).length>0?et:void 0})}}class DerivedMatch{constructor(et,tt,rt){this.selected=et,this.from=tt,this.derives=rt}get can(){return this.value.can}get source(){return this.selected.source}get proofs(){const et=[];for(const{delegation:tt}of this.selected.source)et.push(tt);return Object.defineProperties(this,{proofs:{value:et}}),et}get value(){return this.selected.value}prune(et){const tt=this.selected.prune(et);return tt?new DerivedMatch(tt,this.from,this.derives):null}select(et){const{derives:tt,selected:rt,from:nt}=this,{value:ot}=rt,st=rt.select(et),at=nt.select(et),ct=[],lt=[];for(const dt of at.matches){const ft=tt(ot,dt.value);ft.error?lt.push(new DelegationError([new EscalatedCapability(ot,dt.value,ft.error)],this)):ct.push(dt)}return{unknown:intersection(st.unknown,at.unknown),errors:[...lt,...st.errors,...at.errors.map(dt=>new DelegationError([dt],this))],matches:[...st.matches.map(dt=>new DerivedMatch(dt,nt,tt)),...ct]}}toString(){return this.selected.toString()}}class AndMatch{constructor(et){this.matches=et}get selectors(){return this.matches}get source(){const et=[];for(const tt of this.matches)et.push(...tt.source);return Object.defineProperties(this,{source:{value:et}}),et}prune(et){const tt=[];for(const rt of this.matches){const nt=rt.prune(et);nt&&tt.push(nt)}return tt.length===0?null:new AndMatch(tt)}get proofs(){const et=[];for(const{delegation:tt}of this.source)et.push(tt);return Object.defineProperties(this,{proofs:{value:et}}),et}get value(){const et=[];for(const tt of this.matches)et.push(tt.value);return Object.defineProperties(this,{value:{value:et}}),et}select(et){return selectGroup(this,et)}toString(){return`[${this.matches.map(et=>et.toString()).join(", ")}]`}}const resolveAbility=(_e,et,tt)=>{switch(_e){case et:case"*":return et;default:return _e.endsWith("/*")&&et.startsWith(_e.slice(0,-1))?et:tt}},resolveResource=(_e,et,tt)=>{switch(_e){case et:case"ucan:*":return et;default:return tt}},parseCapability=(_e,et)=>{const{delegation:tt}=et,rt=et.capability;if(_e.can!==rt.can)return{error:new UnknownCapability(rt)};const nt=_e.with.read(rt.with);if(nt.error)return{error:new MalformedCapability(rt,nt.error)};const ot=_e.nb.read(rt.nb||{});return ot.error?{error:new MalformedCapability(rt,ot.error)}:{ok:new CapabilityView(_e.can,nt.ok,ot.ok,tt)}},resolveCapability=(_e,et,{capability:tt,delegation:rt})=>{const nt=resolveAbility(tt.can,et.can,null);if(nt==null)return{error:new UnknownCapability(tt)};const ot=resolveResource(tt.with,et.with,tt.with),st=_e.with.read(ot);if(st.error)return{error:new MalformedCapability(tt,st.error)};const at=_e.nb.read({...et.nb,...tt.nb});return at.error?{error:new MalformedCapability(tt,at.error)}:{ok:new CapabilityView(nt,st.ok,at.ok,rt)}};class CapabilityView{constructor(et,tt,rt,nt){this.can=et,this.with=tt,this.delegation=nt,this.nb=rt}}const select=(_e,et)=>{const tt=[],rt=[],nt=[];for(const ot of et){const st=_e.match(ot);if(st.error)switch(st.error.name){case"UnknownCapability":tt.push(st.error.capability);break;case"MalformedCapability":default:nt.push(new DelegationError([st.error],st.error.capability))}else rt.push(st.ok)}return{matches:rt,errors:nt,unknown:tt}},selectGroup=(_e,et)=>{let tt;const rt=[],nt=[];for(const st of _e.selectors){const at=st.select(et);tt=tt?intersection(tt,at.unknown):at.unknown;for(const ct of at.errors)nt.push(new DelegationError([ct],_e));rt.push(at.matches)}const ot=combine(rt).map(st=>new AndMatch(st));return{unknown:tt||[],errors:nt,matches:ot}},defaultDerives=(_e,et)=>{if(et.with.endsWith("*")){if(!_e.with.startsWith(et.with.slice(0,-1)))return error(`Resource ${_e.with} does not match delegated ${et.with} `)}else if(et.with!==_e.with)return error(`Resource ${_e.with} is not contained by ${et.with}`);const tt=et.nb||{},rt=_e.nb||{},nt=entries(tt);for(const[ot,st]of nt)if(rt[ot]!=st)return error(`${String(ot)}: ${rt[ot]} violates ${st}`);return{ok:!0}},ProviderDID$3=match$1({method:"web"}),SpaceDID=match$1({method:"key"}),AccountDID=match$1({method:"mailto"}),Await=struct({"ucan/await":tuple([string(),match$3()])});function equalWith(_e,et){return _e.with===et.with?ok({}):fail(`Can not derive ${_e.can} with ${_e.with} from ${et.with}`)}function equal(_e,et,tt){return et===void 0||et==="*"?ok({}):String(_e)===String(et)?ok({}):fail(`Constraint violation: ${_e} violates imposed ${tt} constraint ${et}`)}function containedWithin(_e,et,tt){return _e.every(rt=>et.includes(rt))?ok({}):fail(`Constraint violation: ${_e} violates imposed ${tt} constraint ${et} because it contains items not in the constraint`)}const equalLink=(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):et.nb.link&&`${et.nb.link}`!=`${_e.nb.link}`?fail(`Link ${_e.nb.link?`${_e.nb.link}`:""} violates imposed ${et.nb.link} constraint.`):ok({}),toDigestBytes=_e=>"multihash"in _e?_e.multihash.bytes:_e.digest,equalLinkOrDigestContent=(_e,et)=>{if(et.nb.content){const tt=toDigestBytes(et.nb.content);if(!_e.nb.content)return fail(`Constraint violation: undefined violates imposed content constraint ${base58btc.encode(tt)}`);const rt=toDigestBytes(_e.nb.content);if(!equals$3(rt,tt))return fail(`Constraint violation: ${base58btc.encode(rt)} violates imposed content constraint ${base58btc.encode(tt)}`)}return ok({})},equalBlob=(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):et.nb.blob.digest&&!equals$3(et.nb.blob.digest,_e.nb.blob.digest)?fail(`Link ${_e.nb.blob.digest?`${_e.nb.blob.digest}`:""} violates imposed ${et.nb.blob.digest} constraint.`):_e.nb.blob.size!==void 0&&et.nb.blob.size!==void 0?_e.nb.blob.size>et.nb.blob.size?fail(`Size constraint violation: ${_e.nb.blob.size} > ${et.nb.blob.size}`):ok({}):ok({}),equalBody=(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):et.nb.body.digest&&!equals$3(et.nb.body.digest,_e.nb.body.digest)?fail(`Link ${_e.nb.body.digest?`${_e.nb.body.digest}`:""} violates imposed ${et.nb.body.digest} constraint.`):_e.nb.body.size!==void 0&&et.nb.body.size!==void 0?_e.nb.body.size!==et.nb.body.size?fail(`Size constraint violation: ${_e.nb.body.size} !== ${et.nb.body.size}`):ok({}):ok({}),checkLink=(_e,et,tt)=>equal(String(_e),et===void 0?void 0:String(et),tt),and=_e=>_e.error?_e:void 0,code$4=514,CARLink$1=match$3({code:code$4,version:1}),store$1=capability({can:"store/*",with:SpaceDID,derives:equalWith}),add$5=capability({can:"store/add",with:SpaceDID,nb:struct({link:CARLink$1,size:integer(),origin:optional()}),derives:(_e,et)=>{const tt=equalLink(_e,et);return tt.error?tt:_e.nb.size!==void 0&&et.nb.size!==void 0?_e.nb.size>et.nb.size?fail(`Size constraint violation: ${_e.nb.size} > ${et.nb.size}`):ok({}):ok({})}}),get$7=capability({can:"store/get",with:SpaceDID,nb:struct({link:CARLink$1.optional()}),derives:equalLink}),remove$3=capability({can:"store/remove",with:SpaceDID,nb:struct({link:CARLink$1}),derives:equalLink}),list$4=capability({can:"store/list",with:SpaceDID,nb:struct({cursor:string().optional(),size:integer().optional(),pre:boolean().optional()}),derives:(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):ok({})});add$5.or(remove$3).or(list$4);const upload$1=capability({can:"upload/*",with:SpaceDID,derives:equalWith}),CARLink=match$3({code:code$5,version:1}),add$4=capability({can:"upload/add",with:SpaceDID,nb:struct({root:Link,shards:CARLink.array().optional()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.root,et.nb.root,"root"))||and(equal(_e.nb.shards,et.nb.shards,"shards"))||ok({})}),get$6=capability({can:"upload/get",with:SpaceDID,nb:struct({root:optional()}),derives:(_e,et)=>{const tt=equalWith(_e,et);return tt.error||!et.nb.root?tt:equal(_e.nb.root,et.nb.root,"root")}}),remove$2=capability({can:"upload/remove",with:SpaceDID,nb:struct({root:Link}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.root,et.nb.root,"root"))||ok({})}),list$3=capability({can:"upload/list",with:SpaceDID,nb:struct({cursor:string().optional(),size:integer().optional(),pre:boolean().optional()})});add$4.or(remove$2).or(list$3);const top=capability({can:"*",with:or$1(match$1(),literal("ucan:*")),derives:equalWith}),space=capability({can:"space/*",with:SpaceDID,derives:equalWith}),info=add$5.or(list$4).or(remove$3).or(add$4).or(list$3).or(remove$2).derive({to:capability({can:"space/info",with:SpaceDID}),derives:equalWith});capability({can:"space/allocate",with:SpaceDID,nb:struct({size:integer()}),derives:(_e,et)=>{const tt=equalWith(_e,et);return tt.ok?_e.nb.size<=et.nb.size?ok({}):fail(`Claimed size ${_e.nb.size} escalates delegated size ${et.nb.size}`):tt}});capability({can:"space/content/serve/*",with:SpaceDID,derives:equalWith});capability({can:"space/content/serve/egress/record",with:SpaceDID,nb:struct({resource:match$3(),bytes:integer().greaterThan(0),servedAt:integer().greaterThan(-1)}),derives:equalWith});capability({can:"space/content/decrypt",with:SpaceDID,nb:struct({resource:match$3()}),derives:(_e,et)=>_e.with!==et.with?fail(`Can not derive ${_e.can} with ${_e.with} from ${et.with}`):_e.nb.resource.toString()!==et.nb.resource.toString()?fail(`Can not derive ${_e.can} resource ${_e.nb.resource} from ${et.nb.resource}`):ok({})});const EncryptionSetup=capability({can:"space/encryption/setup",with:SpaceDID,nb:struct({location:string().optional(),keyring:string().optional()}),derives:(_e,et)=>_e.with!==et.with?fail(`Can not derive ${_e.can} with ${_e.with} from ${et.with}`):_e.nb.location!==et.nb.location?fail(`Can not derive ${_e.can} location ${_e.nb.location} from ${et.nb.location}`):_e.nb.keyring!==et.nb.keyring?fail(`Can not derive ${_e.can} keyring ${_e.nb.keyring} from ${et.nb.keyring}`):ok({})}),EncryptionKeyDecrypt=capability({can:"space/encryption/key/decrypt",with:SpaceDID,nb:struct({key:bytes()}),derives:(_e,et)=>_e.with!==et.with?fail(`Can not derive ${_e.can} with ${_e.with} from ${et.with}`):_e.nb.key!==et.nb.key?fail(`Can not derive ${_e.can} key ${_e.nb.key} from ${et.nb.key}`):ok({})}),UCANLink=match$3({version:1});capability({can:"ucan/*",with:match$1(),derives:equalWith});capability({can:"ucan/revoke",with:match$1(),nb:struct({ucan:UCANLink,proof:UCANLink.array().optional()}),derives:(_e,et)=>and(equalWith(_e,et))??and(checkLink(_e.nb.ucan,et.nb.ucan,"nb.ucan"))??equal((_e.nb.proof??[]).join("/"),(et.nb.proof??[]).join("/"),"nb.proof")});const conclude=capability({can:"ucan/conclude",with:match$1(),nb:struct({receipt:match$3()}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.receipt,et.nb.receipt,"nb.receipt"))||ok({})}),attest=capability({can:"ucan/attest",with:match$1(),nb:struct({proof:match$3({version:1})}),derives:(_e,et)=>and(equalWith(_e,et))??checkLink(_e.nb.proof,et.nb.proof,"nb.proof")}),Account=match$1({method:"mailto"}),CapabilityRequest=struct({can:string()}),AuthorizationRequest=struct({iss:Account.optional(),att:CapabilityRequest.array()}),access=capability({can:"access/*",with:match$4({protocol:"did:"})}),authorize=capability({can:"access/authorize",with:match$1({method:"key"}),nb:AuthorizationRequest,derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.iss,et.nb.iss,"iss"))||and(subsetCapabilities(_e.nb.att,et.nb.att))||ok({})});capability({can:"access/confirm",with:DID,nb:struct({cause:match$3({version:1}),iss:Account,aud:match$1(),att:CapabilityRequest.array()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.iss,et.nb.iss,"iss"))||and(equal(_e.nb.aud,et.nb.aud,"aud"))||and(subsetCapabilities(_e.nb.att,et.nb.att))||and(checkLink(_e.nb.cause,et.nb.cause,"nb.cause"))||ok({})});capability({can:"access/claim",with:match$1({method:"key"}).or(match$1({method:"mailto"}))});capability({can:"access/delegate",with:SpaceDID,nb:struct({delegations:dictionary({value:match$3()})}),derives:(_e,et)=>and(equalWith(_e,et))||and(subsetsNbDelegations(_e,et))||ok({})});function subsetsNbDelegations(_e,et){const tt=setDifference(delegatedCids(_e),new Set(delegatedCids(et)));return tt.size>0?fail(`unauthorized nb.delegations ${[...tt].join(", ")}`):ok({})}const subsetCapabilities=(_e,et)=>{const tt=new Set(et.map(nt=>nt.can));if(tt.has("*"))return ok({});const rt=setDifference(_e.map(nt=>nt.can),tt);return rt.size>0?fail(`unauthorized nb.att.can ${[...rt].join(", ")}`):ok({})};function*delegatedCids(_e){for(const et of Object.values(_e.nb.delegations||{}))yield et.toString()}function setDifference(_e,et){const tt=new Set;for(const rt of _e)et.has(rt)||tt.add(rt);return tt}var AppName;(function(_e){_e.BskyBackups="bsky-backups",_e.TGMiniapp="tg-miniapp",_e.Console="console"})(AppName||(AppName={}));function equals$1(_e,et){if(_e===et)return!0;if(_e.byteLength!==et.byteLength)return!1;for(let tt=0;tt<_e.byteLength;tt++)if(_e[tt]!==et[tt])return!1;return!0}function alloc(_e=0){return new Uint8Array(_e)}function allocUnsafe(_e=0){return new Uint8Array(_e)}function asUint8Array(_e){return _e}function concat(_e,et){et==null&&(et=_e.reduce((nt,ot)=>nt+ot.length,0));const tt=allocUnsafe(et);let rt=0;for(const nt of _e)tt.set(nt,rt),rt+=nt.length;return tt}baseX({prefix:"9",name:"base10",alphabet:"0123456789"});rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});const alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((_e,et,tt)=>(_e[tt]=et,_e),[]),alphabetCharsToBytes=alphabet.reduce((_e,et,tt)=>{const rt=et.codePointAt(0);if(rt==null)throw new Error(`Invalid character: ${et}`);return _e[rt]=tt,_e},[]);function encode$5(_e){return _e.reduce((et,tt)=>(et+=alphabetBytesToChars[tt],et),"")}function decode$4(_e){const et=[];for(const tt of _e){const rt=tt.codePointAt(0);if(rt==null)throw new Error(`Invalid character: ${tt}`);const nt=alphabetCharsToBytes[rt];if(nt==null)throw new Error(`Non-base256emoji character: ${tt}`);et.push(nt)}return new Uint8Array(et)}from$6({prefix:"🚀",name:"base256emoji",encode:encode$5,decode:decode$4});rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});from$6({prefix:"\0",name:"identity",encode:_e=>toString$1(_e),decode:_e=>fromString(_e)});new TextEncoder;new TextDecoder;const __viteBrowserExternal={},nodeCrypto=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_8n=BigInt(8),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(et,tt,rt,nt){this.x=et,this.y=tt,this.z=rt,this.t=nt}static fromAffine(et){if(!(et instanceof Point))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return et.equals(Point.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(et.x,et.y,_1n,mod(et.x*et.y))}static toAffineBatch(et){const tt=invertBatch(et.map(rt=>rt.z));return et.map((rt,nt)=>rt.toAffine(tt[nt]))}static normalizeZ(et){return this.toAffineBatch(et).map(this.fromAffine)}equals(et){assertExtPoint(et);const{x:tt,y:rt,z:nt}=this,{x:ot,y:st,z:at}=et,ct=mod(tt*at),lt=mod(ot*nt),dt=mod(rt*at),ft=mod(st*nt);return ct===lt&&dt===ft}negate(){return new ExtendedPoint(mod(-this.x),this.y,this.z,mod(-this.t))}double(){const{x:et,y:tt,z:rt}=this,{a:nt}=CURVE,ot=mod,st=ot(et*et),at=ot(tt*tt),ct=ot(_2n*ot(rt*rt)),lt=ot(nt*st),dt=et+tt,ft=ot(ot(dt*dt)-st-at),ht=lt+at,pt=ht-ct,gt=lt-at,mt=ot(ft*pt),vt=ot(ht*gt),yt=ot(ft*gt),bt=ot(pt*ht);return new ExtendedPoint(mt,vt,bt,yt)}add(et){const{x:tt,y:rt,z:nt,t:ot}=this;assertExtPoint(et);const{x:st,y:at,z:ct,t:lt}=et,{a:dt,d:ft}=CURVE,ht=mod,pt=ht(tt*st),gt=ht(rt*at),mt=ht(ot*ft*lt),vt=ht(nt*ct),yt=ht((tt+rt)*(st+at)-pt-gt),bt=ht(vt-mt),xt=ht(vt+mt),wt=ht(gt-dt*pt),At=ht(yt*bt),St=ht(xt*wt),$t=ht(yt*wt),kt=ht(bt*xt);return new ExtendedPoint(At,St,kt,$t)}subtract(et){return this.add(et.negate())}precomputeWindow(et){const tt=1+256/et,rt=[];let nt=this,ot=nt;for(let st=0;st<tt;st++){ot=nt,rt.push(ot);for(let at=1;at<2**(et-1);at++)ot=ot.add(nt),rt.push(ot);nt=ot.double()}return rt}wNAF(et,tt){!tt&&this.equals(ExtendedPoint.BASE)&&(tt=Point.BASE);const rt=tt&&tt._WINDOW_SIZE||1;if(256%rt)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let nt=tt&&pointPrecomputes.get(tt);nt||(nt=this.precomputeWindow(rt),tt&&rt!==1&&(nt=ExtendedPoint.normalizeZ(nt),pointPrecomputes.set(tt,nt)));let ot=ExtendedPoint.ZERO,st=ExtendedPoint.BASE;const at=1+256/rt,ct=2**(rt-1),lt=BigInt(2**rt-1),dt=2**rt,ft=BigInt(rt);for(let ht=0;ht<at;ht++){const pt=ht*ct;let gt=Number(et&lt);et>>=ft,gt>ct&&(gt-=dt,et+=_1n);const mt=pt,vt=pt+Math.abs(gt)-1,yt=ht%2!==0,bt=gt<0;gt===0?st=st.add(constTimeNegate(yt,nt[mt])):ot=ot.add(constTimeNegate(bt,nt[vt]))}return ExtendedPoint.normalizeZ([ot,st])[0]}multiply(et,tt){return this.wNAF(normalizeScalar(et,CURVE.l),tt)}multiplyUnsafe(et){let tt=normalizeScalar(et,CURVE.l,!1);const rt=ExtendedPoint.BASE,nt=ExtendedPoint.ZERO;if(tt===_0n)return nt;if(this.equals(nt)||tt===_1n)return this;if(this.equals(rt))return this.wNAF(tt);let ot=nt,st=this;for(;tt>_0n;)tt&_1n&&(ot=ot.add(st)),st=st.double(),tt>>=_1n;return ot}isSmallOrder(){return this.multiplyUnsafe(CURVE.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){let et=this.multiplyUnsafe(CURVE.l/_2n).double();return CURVE.l%_2n&&(et=et.add(this)),et.equals(ExtendedPoint.ZERO)}toAffine(et){const{x:tt,y:rt,z:nt}=this,ot=this.equals(ExtendedPoint.ZERO);et==null&&(et=ot?_8n:invert(nt));const st=mod(tt*et),at=mod(rt*et),ct=mod(nt*et);if(ot)return Point.ZERO;if(ct!==_1n)throw new Error("invZ was invalid");return new Point(st,at)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE.Gx,CURVE.Gy,_1n,mod(CURVE.Gx*CURVE.Gy));ExtendedPoint.ZERO=new ExtendedPoint(_0n,_1n,_1n,_0n);function constTimeNegate(_e,et){const tt=et.negate();return _e?tt:et}function assertExtPoint(_e){if(!(_e instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(_e){if(!(_e instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(et){this.ep=et}static calcElligatorRistrettoMap(et){const{d:tt}=CURVE,rt=mod(SQRT_M1*et*et),nt=mod((rt+_1n)*ONE_MINUS_D_SQ);let ot=BigInt(-1);const st=mod((ot-tt*rt)*mod(rt+tt));let{isValid:at,value:ct}=uvRatio(nt,st),lt=mod(ct*et);edIsNegative(lt)||(lt=mod(-lt)),at||(ct=lt),at||(ot=rt);const dt=mod(ot*(rt-_1n)*D_MINUS_ONE_SQ-st),ft=ct*ct,ht=mod((ct+ct)*st),pt=mod(dt*SQRT_AD_MINUS_ONE),gt=mod(_1n-ft),mt=mod(_1n+ft);return new ExtendedPoint(mod(ht*mt),mod(gt*pt),mod(pt*mt),mod(ht*gt))}static hashToCurve(et){et=ensureBytes(et,64);const tt=bytes255ToNumberLE(et.slice(0,32)),rt=this.calcElligatorRistrettoMap(tt),nt=bytes255ToNumberLE(et.slice(32,64)),ot=this.calcElligatorRistrettoMap(nt);return new RistrettoPoint(rt.add(ot))}static fromHex(et){et=ensureBytes(et,32);const{a:tt,d:rt}=CURVE,nt="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ot=bytes255ToNumberLE(et);if(!equalBytes(numberTo32BytesLE(ot),et)||edIsNegative(ot))throw new Error(nt);const st=mod(ot*ot),at=mod(_1n+tt*st),ct=mod(_1n-tt*st),lt=mod(at*at),dt=mod(ct*ct),ft=mod(tt*rt*lt-dt),{isValid:ht,value:pt}=invertSqrt(mod(ft*dt)),gt=mod(pt*ct),mt=mod(pt*gt*ft);let vt=mod((ot+ot)*gt);edIsNegative(vt)&&(vt=mod(-vt));const yt=mod(at*mt),bt=mod(vt*yt);if(!ht||edIsNegative(bt)||yt===_0n)throw new Error(nt);return new RistrettoPoint(new ExtendedPoint(vt,yt,_1n,bt))}toRawBytes(){let{x:et,y:tt,z:rt,t:nt}=this.ep;const ot=mod(mod(rt+tt)*mod(rt-tt)),st=mod(et*tt),at=mod(st*st),{value:ct}=invertSqrt(mod(ot*at)),lt=mod(ct*ot),dt=mod(ct*st),ft=mod(lt*dt*nt);let ht;if(edIsNegative(nt*ft)){let gt=mod(tt*SQRT_M1),mt=mod(et*SQRT_M1);et=gt,tt=mt,ht=mod(lt*INVSQRT_A_MINUS_D)}else ht=dt;edIsNegative(et*ft)&&(tt=mod(-tt));let pt=mod((rt-tt)*ht);return edIsNegative(pt)&&(pt=mod(-pt)),numberTo32BytesLE(pt)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(et){assertRstPoint(et);const tt=this.ep,rt=et.ep,nt=mod(tt.x*rt.y)===mod(tt.y*rt.x),ot=mod(tt.y*rt.y)===mod(tt.x*rt.x);return nt||ot}add(et){return assertRstPoint(et),new RistrettoPoint(this.ep.add(et.ep))}subtract(et){return assertRstPoint(et),new RistrettoPoint(this.ep.subtract(et.ep))}multiply(et){return new RistrettoPoint(this.ep.multiply(et))}multiplyUnsafe(et){return new RistrettoPoint(this.ep.multiplyUnsafe(et))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE);RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes=new WeakMap;class Point{constructor(et,tt){this.x=et,this.y=tt}_setWindowSize(et){this._WINDOW_SIZE=et,pointPrecomputes.delete(this)}static fromHex(et,tt=!0){const{d:rt,P:nt}=CURVE;et=ensureBytes(et,32);const ot=et.slice();ot[31]=et[31]&-129;const st=bytesToNumberLE(ot);if(tt&&st>=nt)throw new Error("Expected 0 < hex < P");if(!tt&&st>=POW_2_256)throw new Error("Expected 0 < hex < 2**256");const at=mod(st*st),ct=mod(at-_1n),lt=mod(rt*at+_1n);let{isValid:dt,value:ft}=uvRatio(ct,lt);if(!dt)throw new Error("Point.fromHex: invalid y coordinate");const ht=(ft&_1n)===_1n;return(et[31]&128)!==0!==ht&&(ft=mod(-ft)),new Point(ft,st)}static async fromPrivateKey(et){return(await getExtendedPublicKey(et)).point}toRawBytes(){const et=numberTo32BytesLE(this.y);return et[31]|=this.x&_1n?128:0,et}toHex(){return bytesToHex(this.toRawBytes())}toX25519(){const{y:et}=this,tt=mod((_1n+et)*invert(_1n-et));return numberTo32BytesLE(tt)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(et){return this.x===et.x&&this.y===et.y}negate(){return new Point(mod(-this.x),this.y)}add(et){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(et)).toAffine()}subtract(et){return this.add(et.negate())}multiply(et){return ExtendedPoint.fromAffine(this).multiply(et,this).toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n,_1n);function isBytes(_e){return _e instanceof Uint8Array||ArrayBuffer.isView(_e)&&_e.constructor.name==="Uint8Array"}function abytes(_e){if(!isBytes(_e))throw new Error("Uint8Array expected")}function concatBytes(..._e){if(_e.every(abytes),_e.length===1)return _e[0];const et=_e.reduce((rt,nt)=>rt+nt.length,0),tt=new Uint8Array(et);for(let rt=0,nt=0;rt<_e.length;rt++){const ot=_e[rt];tt.set(ot,nt),nt+=ot.length}return tt}const hexes=Array.from({length:256},(_e,et)=>et.toString(16).padStart(2,"0"));function bytesToHex(_e){abytes(_e);let et="";for(let tt=0;tt<_e.length;tt++)et+=hexes[_e[tt]];return et}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(_e){if(_e>=asciis._0&&_e<=asciis._9)return _e-asciis._0;if(_e>=asciis.A&&_e<=asciis.F)return _e-(asciis.A-10);if(_e>=asciis.a&&_e<=asciis.f)return _e-(asciis.a-10)}function hexToBytes(_e){if(typeof _e!="string")throw new Error("hex string expected, got "+typeof _e);const et=_e.length,tt=et/2;if(et%2)throw new Error("hex string expected, got unpadded hex of length "+et);const rt=new Uint8Array(tt);for(let nt=0,ot=0;nt<tt;nt++,ot+=2){const st=asciiToBase16(_e.charCodeAt(ot)),at=asciiToBase16(_e.charCodeAt(ot+1));if(st===void 0||at===void 0){const ct=_e[ot]+_e[ot+1];throw new Error('hex string expected, got non-hex character "'+ct+'" at index '+ot)}rt[nt]=st*16+at}return rt}function numberTo32BytesBE(_e){const tt=_e.toString(16).padStart(64,"0");return hexToBytes(tt)}function numberTo32BytesLE(_e){return numberTo32BytesBE(_e).reverse()}function edIsNegative(_e){return(mod(_e)&_1n)===_1n}function bytesToNumberLE(_e){return abytes(_e),BigInt("0x"+bytesToHex(Uint8Array.from(_e).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(_e){return mod(bytesToNumberLE(_e)&MAX_255B)}function mod(_e,et=CURVE.P){const tt=_e%et;return tt>=_0n?tt:et+tt}function invert(_e,et=CURVE.P){if(_e===_0n||et<=_0n)throw new Error(`invert: expected positive integers, got n=${_e} mod=${et}`);let tt=mod(_e,et),rt=et,nt=_0n,ot=_1n;for(;tt!==_0n;){const at=rt/tt,ct=rt%tt,lt=nt-ot*at;rt=tt,tt=ct,nt=ot,ot=lt}if(rt!==_1n)throw new Error("invert: does not exist");return mod(nt,et)}function invertBatch(_e,et=CURVE.P){const tt=new Array(_e.length),rt=_e.reduce((ot,st,at)=>st===_0n?ot:(tt[at]=ot,mod(ot*st,et)),_1n),nt=invert(rt,et);return _e.reduceRight((ot,st,at)=>st===_0n?ot:(tt[at]=mod(ot*tt[at],et),mod(ot*st,et)),nt),tt}function pow2(_e,et){const{P:tt}=CURVE;let rt=_e;for(;et-- >_0n;)rt*=rt,rt%=tt;return rt}function pow_2_252_3(_e){const{P:et}=CURVE,tt=BigInt(5),rt=BigInt(10),nt=BigInt(20),ot=BigInt(40),st=BigInt(80),ct=_e*_e%et*_e%et,lt=pow2(ct,_2n)*ct%et,dt=pow2(lt,_1n)*_e%et,ft=pow2(dt,tt)*dt%et,ht=pow2(ft,rt)*ft%et,pt=pow2(ht,nt)*ht%et,gt=pow2(pt,ot)*pt%et,mt=pow2(gt,st)*gt%et,vt=pow2(mt,st)*gt%et,yt=pow2(vt,rt)*ft%et;return{pow_p_5_8:pow2(yt,_2n)*_e%et,b2:ct}}function uvRatio(_e,et){const tt=mod(et*et*et),rt=mod(tt*tt*et),nt=pow_2_252_3(_e*rt).pow_p_5_8;let ot=mod(_e*tt*nt);const st=mod(et*ot*ot),at=ot,ct=mod(ot*SQRT_M1),lt=st===_e,dt=st===mod(-_e),ft=st===mod(-_e*SQRT_M1);return lt&&(ot=at),(dt||ft)&&(ot=ct),edIsNegative(ot)&&(ot=mod(-ot)),{isValid:lt||dt,value:ot}}function invertSqrt(_e){return uvRatio(_1n,_e)}function modlLE(_e){return mod(bytesToNumberLE(_e),CURVE.l)}function equalBytes(_e,et){if(_e.length!==et.length)return!1;for(let tt=0;tt<_e.length;tt++)if(_e[tt]!==et[tt])return!1;return!0}function ensureBytes(_e,et){const tt=isBytes(_e)?Uint8Array.from(_e):hexToBytes(_e);if(typeof et=="number"&&tt.length!==et)throw new Error(`Expected ${et} bytes`);return tt}function normalizeScalar(_e,et,tt=!0){if(!et)throw new TypeError("Specify max value");if(typeof _e=="number"&&Number.isSafeInteger(_e)&&(_e=BigInt(_e)),typeof _e=="bigint"&&_e<et){if(tt){if(_0n<_e)return _e}else if(_0n<=_e)return _e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(_e){return _e[0]&=248,_e[31]&=127,_e[31]|=64,_e}function checkPrivateKey(_e){if(_e=typeof _e=="bigint"||typeof _e=="number"?numberTo32BytesBE(normalizeScalar(_e,POW_2_256)):ensureBytes(_e),_e.length!==32)throw new Error("Expected 32 bytes");return _e}function getKeyFromHash(_e){const et=adjustBytes25519(_e.slice(0,32)),tt=_e.slice(32,64),rt=modlLE(et),nt=Point.BASE.multiply(rt),ot=nt.toRawBytes();return{head:et,prefix:tt,scalar:rt,point:nt,pointBytes:ot}}let _sha512Sync;async function getExtendedPublicKey(_e){return getKeyFromHash(await utils.sha512(checkPrivateKey(_e)))}Point.BASE._setWindowSize(8);const crypto$1={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils={bytesToHex,hexToBytes,concatBytes,getExtendedPublicKey,mod,invert,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:_e=>{if(_e=ensureBytes(_e),_e.length<40||_e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod(bytesToNumberLE(_e),CURVE.l-_1n)+_1n},randomBytes:(_e=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(_e));if(crypto$1.node){const{randomBytes:et}=crypto$1.node;return new Uint8Array(et(_e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils.randomBytes(32),sha512:async(..._e)=>{const et=concatBytes(..._e);if(crypto$1.web){const tt=await crypto$1.web.subtle.digest("SHA-512",et.buffer);return new Uint8Array(tt)}else{if(crypto$1.node)return Uint8Array.from(crypto$1.node.createHash("sha512").update(et).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(_e=8,et=Point.BASE){const tt=et.equals(Point.BASE)?et:new Point(et.x,et.y);return tt._setWindowSize(_e),tt.multiply(_2n),tt},sha512Sync:void 0};Object.defineProperties(utils,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(_e){_sha512Sync||(_sha512Sync=_e)}}});const Provider$1=match$1({method:"web"}),add$3=capability({can:"provider/add",with:AccountDID,nb:struct({provider:Provider$1,consumer:SpaceDID}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.provider,et.nb.provider,"provider"))||and(equal(_e.nb.consumer,et.nb.consumer,"consumer"))||ok({})});match$1({method:"key"});const linkOrDigest=()=>match$3().or(struct({digest:bytes()})),assert=capability({can:"assert/*",with:match$4({protocol:"did:"})}),location=capability({can:"assert/location",with:match$4({protocol:"did:"}),nb:struct({content:linkOrDigest(),location:array(URI),range:struct({offset:integer(),length:integer().optional()}).optional(),space:match$2().optional()}),derives:(_e,et)=>{var tt,rt,nt,ot;return and(equalWith(_e,et))||and(equalLinkOrDigestContent(_e,et))||and(equal(_e.nb.location,et.nb.location,"location"))||and(equal((tt=_e.nb.range)==null?void 0:tt.offset,(rt=et.nb.range)==null?void 0:rt.offset,"offset"))||and(equal((nt=_e.nb.range)==null?void 0:nt.length,(ot=et.nb.range)==null?void 0:ot.length,"length"))||and(equal(_e.nb.space,et.nb.space,"space"))||ok({})}}),inclusion=capability({can:"assert/inclusion",with:match$4({protocol:"did:"}),nb:struct({content:linkOrDigest(),includes:match$3({version:1}),proof:match$3({version:1}).optional()})}),index$1=capability({can:"assert/index",with:match$4({protocol:"did:"}),nb:struct({content:linkOrDigest(),index:match$3({version:1})}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.content,et.nb.content,"content"))||and(equal(_e.nb.index,et.nb.index,"index"))||ok({})}),partition=capability({can:"assert/partition",with:match$4({protocol:"did:"}),nb:struct({content:linkOrDigest(),blocks:match$3({version:1}).optional(),parts:array(match$3({version:1}))})}),relation=capability({can:"assert/relation",with:match$4({protocol:"did:"}),nb:struct({content:linkOrDigest(),children:array(match$3()),parts:array(struct({content:match$3({version:1}),includes:struct({content:match$3({version:1}),parts:array(match$3({version:1})).optional()}).optional()}))})}),equals=capability({can:"assert/equals",with:match$4({protocol:"did:"}),nb:struct({content:linkOrDigest(),equals:match$3()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equalLinkOrDigestContent(_e,et))||and(equal(_e.nb.equals,et.nb.equals,"equals"))||ok({})}),multiaddr=bytes(),claim=capability({can:"claim/*",with:match$4({protocol:"did:"})}),cache$1=capability({can:"claim/cache",with:match$4({protocol:"did:"}),nb:struct({claim:match$3({version:1}),provider:struct({addresses:array(multiaddr)})}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.claim,et.nb.claim,"claim"))||and(equalProviderAddresses(_e,et))||ok({})}),equalProviderAddresses=(_e,et)=>{var tt,rt,nt,ot;if((rt=(tt=et.nb)==null?void 0:tt.provider)!=null&&rt.addresses){const st=et.nb.provider.addresses,at=((ot=(nt=_e.nb)==null?void 0:nt.provider)==null?void 0:ot.addresses)??[];if(at.length!==st.length)return fail(`Constraint violation: ${at.length} provider addresses violates imposed constraint ${st.length} provider addresses`);for(let ct=0;ct<st.length;ct++){const lt=st[ct];if(!at.some(ft=>equals$3(lt,ft)))return fail(`Constraint violation: provider address ${ct} is not an allowed provider address`)}}return ok({})},ProviderDID$2=match$1({method:"web"}),has=capability({can:"consumer/has",with:ProviderDID$2,nb:struct({consumer:SpaceDID}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.consumer,et.nb.consumer,"consumer"))||ok({})}),get$5=capability({can:"consumer/get",with:ProviderDID$2,nb:struct({consumer:SpaceDID}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.consumer,et.nb.consumer,"consumer"))||ok({})}),ProviderDID$1=match$1({method:"web"}),get$4=capability({can:"customer/get",with:ProviderDID$1,nb:struct({customer:AccountDID}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.customer,et.nb.customer,"customer"))||ok({})});capability({can:"console/*",with:match$1(),derives:equalWith});capability({can:"console/log",with:match$1(),nb:struct({value:unknown()}),derives:equalWith});capability({can:"console/error",with:match$1(),nb:struct({error:unknown()}),derives:equalWith});const Provider=DID,add$2=capability({can:"rate-limit/add",with:Provider,nb:struct({subject:string(),rate:number()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.subject,et.nb.subject,"subject"))||and(equal(_e.nb.rate,et.nb.rate,"rate"))||ok({})}),remove$1=capability({can:"rate-limit/remove",with:Provider,nb:struct({id:string()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.id,et.nb.id,"id"))||ok({})}),list$2=capability({can:"rate-limit/list",with:Provider,nb:struct({subject:string()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.subject,et.nb.subject,"subject"))||ok({})}),admin=capability({can:"admin/*",with:ProviderDID$3,derives:equalWith}),upload={inspect:capability({can:"admin/upload/inspect",with:ProviderDID$3,nb:struct({root:Link}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.root,et.nb.root,"root"))||ok({})})},store={inspect:capability({can:"admin/store/inspect",with:ProviderDID$3,nb:struct({link:Link}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.link,et.nb.link,"link"))||ok({})})},ProviderDID=match$1({method:"web"}),get$3=capability({can:"subscription/get",with:ProviderDID,nb:struct({subscription:string()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.subscription,et.nb.subscription,"consumer"))||ok({})}),list$1=capability({can:"subscription/list",with:AccountDID,derives:equalWith}),FR32_SHA2_256_TRUNC254_PADDED_BINARY_TREE=4113,RAW_CODE=85,PieceLink=match$3({code:RAW_CODE,version:1,multihash:{code:FR32_SHA2_256_TRUNC254_PADDED_BINARY_TREE}});capability({can:"filecoin/*",with:match$1(),derives:equalWith});const filecoinOffer=capability({can:"filecoin/offer",with:match$1(),nb:struct({content:match$3(),piece:PieceLink}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.content,et.nb.content,"nb.content"))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||ok({})}),filecoinSubmit=capability({can:"filecoin/submit",with:match$1(),nb:struct({content:match$3(),piece:PieceLink}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.content,et.nb.content,"nb.content"))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||ok({})}),filecoinAccept=capability({can:"filecoin/accept",with:match$1(),nb:struct({content:match$3(),piece:PieceLink}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.content,et.nb.content,"nb.content"))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||ok({})}),filecoinInfo=capability({can:"filecoin/info",with:match$1(),nb:struct({piece:PieceLink}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||ok({})}),pieceOffer=capability({can:"piece/offer",with:match$1(),nb:struct({piece:PieceLink,group:match()}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||and(equal(_e.nb.group,et.nb.group,"nb.group"))||ok({})}),pieceAccept=capability({can:"piece/accept",with:match$1(),nb:struct({piece:PieceLink,group:match()}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||and(equal(_e.nb.group,et.nb.group,"nb.group"))||ok({})}),aggregateOffer=capability({can:"aggregate/offer",with:match$1(),nb:struct({aggregate:PieceLink,pieces:match$3({version:1})}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.aggregate,et.nb.aggregate,"nb.aggregate"))||and(checkLink(_e.nb.pieces,et.nb.pieces,"nb.pieces"))||ok({})}),aggregateAccept=capability({can:"aggregate/accept",with:match$1(),nb:struct({aggregate:PieceLink,pieces:match$3()}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.aggregate,et.nb.aggregate,"nb.aggregate"))||and(checkLink(_e.nb.pieces,et.nb.pieces,"nb.pieces"))||ok({})}),dealInfo=capability({can:"deal/info",with:match$1(),nb:struct({piece:PieceLink}),derives:(_e,et)=>and(equalWith(_e,et))||and(checkLink(_e.nb.piece,et.nb.piece,"nb.piece"))||ok({})}),index=capability({can:"space/index/*",with:SpaceDID,derives:equalWith}),add$1=capability({can:"space/index/add",with:SpaceDID,nb:struct({index:match$3({code:code$5,version:1}),content:match$3().optional()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.index,et.nb.index,"index"))||ok({})}),get$2=capability({can:"plan/get",with:AccountDID,derives:(_e,et)=>and(equalWith(_e,et))||ok({})}),set=capability({can:"plan/set",with:AccountDID,nb:struct({product:DID}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.product,et.nb.product,"product"))||ok({})}),createAdminSession=capability({can:"plan/create-admin-session",with:AccountDID,nb:struct({returnURL:string()}),derives:(_e,et)=>and(equalWith(_e,et))||and(equal(_e.nb.returnURL,et.nb.returnURL,"returnURL"))||ok({})}),usage=capability({can:"usage/*",with:SpaceDID,derives:equalWith}),report=capability({can:"usage/report",with:SpaceDID,nb:struct({period:struct({from:integer().greaterThan(-1),to:integer().greaterThan(-1)})}),derives:(_e,et)=>{var tt,rt,nt,ot;return and(equalWith(_e,et))||and(equal((tt=_e.nb.period)==null?void 0:tt.from,(rt=et.nb.period)==null?void 0:rt.from,"period.from"))||and(equal((nt=_e.nb.period)==null?void 0:nt.to,(ot=et.nb.period)==null?void 0:ot.to,"period.to"))||ok({})}}),blob$2=capability({can:"space/blob/*",with:SpaceDID,derives:equalWith}),content=struct({digest:bytes(),size:integer()}),add=capability({can:"space/blob/add",with:SpaceDID,nb:struct({blob:content}),derives:equalBlob}),remove=capability({can:"space/blob/remove",with:SpaceDID,nb:struct({digest:bytes()}),derives:(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):et.nb.digest&&!equals$3(et.nb.digest,_e.nb.digest)?fail(`Link ${_e.nb.digest?`${_e.nb.digest}`:""} violates imposed ${et.nb.digest} constraint.`):ok({})}),list=capability({can:"space/blob/list",with:SpaceDID,nb:struct({cursor:string().optional(),size:integer().optional()}),derives:(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):ok({})}),get$1=capability({can:"space/blob/get/0/1",with:SpaceDID,nb:struct({digest:bytes()}),derives:(_e,et)=>_e.with!==et.with?fail(`Expected 'with: "${et.with}"' instead got '${_e.with}'`):et.nb.digest&&!equals$3(et.nb.digest,_e.nb.digest)?fail(`Link ${_e.nb.digest?`${_e.nb.digest}`:""} violates imposed ${et.nb.digest} constraint.`):ok({})}),replicate=capability({can:"space/blob/replicate",with:SpaceDID,nb:struct({blob:content,replicas:integer().greaterThan(0),site:match$3({version:1})}),derives:(_e,et)=>and(equalWith(_e,et))||and(equalBlob(_e,et))||and(equal(_e.nb.replicas,et.nb.replicas,"replicas"))||and(checkLink(_e.nb.site,et.nb.site,"site"))||ok({})}),blob$1=capability({can:"blob/*",with:match$1(),derives:equalWith}),allocate$1=capability({can:"blob/allocate",with:match$1(),nb:struct({blob:content,cause:match$3({version:1}),space:match$2({method:"key"})}),derives:(_e,et)=>{var tt,rt;return and(equalWith(_e,et))||and(equalBlob(_e,et))||and(checkLink(_e.nb.cause,et.nb.cause,"cause"))||and(equal((tt=_e.nb.space)==null?void 0:tt.did(),(rt=et.nb.space)==null?void 0:rt.did(),"space"))||ok({})}}),accept$1=capability({can:"blob/accept",with:match$1(),nb:struct({blob:content,space:match$2({method:"key"}),_put:Await}),derives:(_e,et)=>{var tt,rt;return and(equalWith(_e,et))||and(equalBlob(_e,et))||and(equal((tt=_e.nb.space)==null?void 0:tt.did(),(rt=et.nb.space)==null?void 0:rt.did(),"space"))||ok({})}}),blob=capability({can:"web3.storage/blob/*",with:SpaceDID,derives:equalWith}),allocate=capability({can:"web3.storage/blob/allocate",with:match$1(),nb:struct({blob:content,cause:Link,space:SpaceDID}),derives:(_e,et)=>and(equalWith(_e,et))||and(equalBlob(_e,et))||and(checkLink(_e.nb.cause,et.nb.cause,"cause"))||and(equal(_e.nb.space,et.nb.space,"space"))||ok({})}),accept=capability({can:"web3.storage/blob/accept",with:match$1(),nb:struct({blob:content,ttl:integer().optional(),space:SpaceDID,_put:Await}),derives:(_e,et)=>and(equalWith(_e,et))||and(equalBlob(_e,et))||and(equal(_e.nb.ttl,et.nb.ttl,"ttl"))||and(equal(_e.nb.space,et.nb.space,"space"))||ok({})}),put=capability({can:"http/put",with:SpaceDID,nb:struct({body:content,url:string().or(Await),headers:dictionary({value:string()}).or(Await)}),derives:(_e,et)=>and(equalWith(_e,et))||and(equalBody(_e,et))||and(equal(_e.nb.url,et.nb,"url"))||and(equal(_e.nb.headers,et.nb,"headers"))||ok({})});capability({can:"account/usage/*",with:AccountDID,derives:equalWith});const get=capability({can:"account/usage/get",with:AccountDID,nb:struct({spaces:SpaceDID.array().optional(),period:struct({from:integer().greaterThan(-1),to:integer().greaterThan(-1)}).optional()}),derives:(_e,et)=>{var tt,rt,nt,ot;return and(equalWith(_e,et))||and(et.nb.spaces===void 0?ok({}):_e.nb.spaces===void 0?fail(`Constraint violation: violates imposed spaces constraint ${et.nb.spaces} because it asks for all spaces`):containedWithin(_e.nb.spaces,et.nb.spaces,"spaces"))||and(equal((tt=_e.nb.period)==null?void 0:tt.from,(rt=et.nb.period)==null?void 0:rt.from,"period.from"))||and(equal((nt=_e.nb.period)==null?void 0:nt.to,(ot=et.nb.period)==null?void 0:ot.to,"period.to"))||ok({})}}),abilitiesAsStrings=[top.can,assert.can,equals.can,inclusion.can,index$1.can,location.can,partition.can,relation.can,claim.can,cache$1.can,add$3.can,space.can,info.can,EncryptionSetup.can,EncryptionKeyDecrypt.can,upload$1.can,add$4.can,get$6.can,remove$2.can,list$3.can,store$1.can,add$5.can,get$7.can,remove$3.can,list$4.can,access.can,authorize.can,attest.can,conclude.can,get$4.can,has.can,get$5.can,get$3.can,list$1.can,add$2.can,remove$1.can,list$2.can,filecoinOffer.can,filecoinSubmit.can,filecoinAccept.can,filecoinInfo.can,pieceOffer.can,pieceAccept.can,aggregateOffer.can,aggregateAccept.can,dealInfo.can,admin.can,upload.inspect.can,store.inspect.can,get$2.can,set.can,createAdminSession.can,usage.can,report.can,blob$1.can,allocate$1.can,accept$1.can,blob$2.can,add.can,remove.can,list.can,blob.can,allocate.can,accept.can,put.can,index.can,add$1.can,get.can];match$1({method:"web"});const PRINCIPAL=parse$1("did:web:up.storacha.network");PRINCIPAL.did();const BITS_PER_BYTE=8,FRS_PER_QUAD=4;BigInt(FRS_PER_QUAD);const IN_BITS_FR=254,OUT_BITS_FR=256,IN_BYTES_PER_QUAD=FRS_PER_QUAD*IN_BITS_FR/BITS_PER_BYTE,OUT_BYTES_PER_QUAD=FRS_PER_QUAD*OUT_BITS_FR/BITS_PER_BYTE;BigInt(IN_BYTES_PER_QUAD);BigInt(OUT_BYTES_PER_QUAD);const NODE_SIZE=OUT_BYTES_PER_QUAD/FRS_PER_QUAD,EXPANDED_BYTES_PER_NODE=BigInt(NODE_SIZE),from=_e=>{if(_e instanceof Uint8Array){if(_e.length>NODE_SIZE)return _e.subarray(0,NODE_SIZE);if(_e.length==NODE_SIZE)return _e}const et=new Uint8Array(NODE_SIZE);return et.set([..._e]),et},empty=()=>EMPTY$2,EMPTY$2=from(new Uint8Array(NODE_SIZE).fill(0));Object.freeze(EMPTY$2.buffer);const name$2="sha2-256",code$3=18,size=32,prefix=new Uint8Array([18,32]);class Digest{constructor(et){this.code=code$3,this.name=name$2,this.bytes=et,this.size=size,this.digest=et.subarray(2)}}const digest=_e=>{const et=new Uint8Array(prefix.length+size);return et.set(prefix,0),et.set(sha256$2(_e),prefix.length),new Digest(et)},code$2=code$3,SHA256=Object.freeze(Object.defineProperty({__proto__:null,code:code$2,digest,name:name$2,size},Symbol.toStringTag,{value:"Module"}));function truncatedHash(_e,et={}){const tt=et.hasher||SHA256,{digest:rt}=tt.digest(_e);return truncate(rt)}const computeNode=(_e,et,tt)=>{const rt=new Uint8Array(_e.length+et.length);return rt.set(_e,0),rt.set(et,_e.length),truncatedHash(rt,tt)};function truncate(_e){return _e[NODE_SIZE-1]&=63,_e}const MAX_LEVEL=64;class ZeroComm{constructor(){this.bytes=new Uint8Array(MAX_LEVEL*NODE_SIZE),this.bytes.set(empty(),0),this.node=empty(),this.length=NODE_SIZE}slice(et,tt){for(;this.length<tt;)this.node=computeNode(this.node,this.node),this.bytes.set(this.node,this.length),this.length+=NODE_SIZE;return this.bytes.subarray(et,tt)}}new ZeroComm;const fromHeight=_e=>fromWidth(2n**BigInt(_e)),fromWidth=_e=>_e*EXPANDED_BYTES_PER_NODE,MAX_HEIGHT$1=255;fromHeight(MAX_HEIGHT$1)*BigInt(IN_BITS_FR)/BigInt(OUT_BITS_FR);const MAX_HEIGHT=255;fromHeight(MAX_HEIGHT)*BigInt(IN_BITS_FR)/BigInt(OUT_BITS_FR);new TextEncoder;new TextDecoder;const contentType$2="application/cbor",HEADERS=Object.freeze({"content-type":contentType$2}),encode$4=(_e,et)=>{const tt=[];for(const nt of _e.receipts.values()){const ot=nt.out;ot.ok?tt.push(ot.ok):tt.push({...ot.error,error:!0})}const rt=encode$a(tt);return{headers:HEADERS,body:rt}},response=Object.freeze(Object.defineProperty({__proto__:null,contentType:contentType$2,encode:encode$4},Symbol.toStringTag,{value:"Module"})),contentType$1="application/car",decode$3=async({body:_e})=>{const{roots:et,blocks:tt}=decode$8(_e),rt=[];for(const{cid:ot}of et){const st=view$2({root:ot,blocks:tt});rt.push(st)}return await build({invocations:rt})},request=Object.freeze(Object.defineProperty({__proto__:null,contentType:contentType$1,decode:decode$3},Symbol.toStringTag,{value:"Module"})),{contentType}=request;inbound({decoders:{[contentType]:request,[contentType$3]:request$1},encoders:{"*/*;q=0.1":response,[contentType$3]:response$1}});const services={STOREFRONT:{url:new URL("https://up.storacha.network"),principal:parse$1("did:web:up.storacha.network")},AGGREGATOR:{url:new URL("https://aggregator.web3.storage"),principal:parse$1("did:web:web3.storage")},DEALER:{url:new URL("https://dealer.web3.storage"),principal:parse$1("did:web:web3.storage")},DEAL_TRACKER:{url:new URL("https://tracker.web3.storage"),principal:parse$1("did:web:web3.storage")}};connect({id:services.STOREFRONT.principal,codec:outbound,channel:open$1({url:services.STOREFRONT.url,method:"POST"})});connect({id:services.AGGREGATOR.principal,codec:outbound,channel:open$1({url:services.AGGREGATOR.url,method:"POST"})});connect({id:services.DEALER.principal,codec:outbound,channel:open$1({url:services.DEALER.url,method:"POST"})});connect({id:services.DEAL_TRACKER.principal,codec:outbound,channel:open$1({url:services.DEAL_TRACKER.url,method:"POST"})});var retry={};function RetryOperation(_e,et){typeof et=="boolean"&&(et={forever:et}),this._originalTimeouts=JSON.parse(JSON.stringify(_e)),this._timeouts=_e,this._options=et||{},this._maxRetryTime=et&&et.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(_e){if(this._timeout&&clearTimeout(this._timeout),!_e)return!1;var et=new Date().getTime();if(_e&&et-this._operationStart>=this._maxRetryTime)return this._errors.push(_e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(_e);var tt=this._timeouts.shift();if(tt===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),tt=this._cachedTimeouts.slice(-1);else return!1;var rt=this;return this._timer=setTimeout(function(){rt._attempts++,rt._operationTimeoutCb&&(rt._timeout=setTimeout(function(){rt._operationTimeoutCb(rt._attempts)},rt._operationTimeout),rt._options.unref&&rt._timeout.unref()),rt._fn(rt._attempts)},tt),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(_e,et){this._fn=_e,et&&(et.timeout&&(this._operationTimeout=et.timeout),et.cb&&(this._operationTimeoutCb=et.cb));var tt=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){tt._operationTimeoutCb()},tt._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(_e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(_e)};RetryOperation.prototype.start=function(_e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(_e)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var _e={},et=null,tt=0,rt=0;rt<this._errors.length;rt++){var nt=this._errors[rt],ot=nt.message,st=(_e[ot]||0)+1;_e[ot]=st,st>=tt&&(et=nt,tt=st)}return et};(function(_e){var et=retry_operation;_e.operation=function(tt){var rt=_e.timeouts(tt);return new et(rt,{forever:tt&&(tt.forever||tt.retries===1/0),unref:tt&&tt.unref,maxRetryTime:tt&&tt.maxRetryTime})},_e.timeouts=function(tt){if(tt instanceof Array)return[].concat(tt);var rt={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var nt in tt)rt[nt]=tt[nt];if(rt.minTimeout>rt.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var ot=[],st=0;st<rt.retries;st++)ot.push(this.createTimeout(st,rt));return tt&&tt.forever&&!ot.length&&ot.push(this.createTimeout(st,rt)),ot.sort(function(at,ct){return at-ct}),ot},_e.createTimeout=function(tt,rt){var nt=rt.randomize?Math.random()+1:1,ot=Math.round(nt*Math.max(rt.minTimeout,1)*Math.pow(rt.factor,tt));return ot=Math.min(ot,rt.maxTimeout),ot},_e.wrap=function(tt,rt,nt){if(rt instanceof Array&&(nt=rt,rt=null),!nt){nt=[];for(var ot in tt)typeof tt[ot]=="function"&&nt.push(ot)}for(var st=0;st<nt.length;st++){var at=nt[st],ct=tt[at];tt[at]=(function(dt){var ft=_e.operation(rt),ht=Array.prototype.slice.call(arguments,1),pt=ht.pop();ht.push(function(gt){ft.retry(gt)||(gt&&(arguments[0]=ft.mainError()),pt.apply(this,arguments))}),ft.attempt(function(){dt.apply(tt,ht)})}).bind(tt,ct),tt[at].options=rt}}})(retry);const serviceURL=new URL("https://up.storacha.network"),servicePrincipal=parse$1("did:web:up.storacha.network");connect({id:servicePrincipal,codec:outbound,channel:open$1({url:serviceURL,method:"POST"})});add.can;get$1.can;list.can;remove.can;replicate.can;add$1.can;add$4.can;get$6.can;list$3.can;remove$2.can;const textDecoder=new TextDecoder;function decodeVarint(_e,et){let tt=0;for(let rt=0;;rt+=7){if(rt>=64)throw new Error("protobuf: varint overflow");if(et>=_e.length)throw new Error("protobuf: unexpected end of data");const nt=_e[et++];if(tt+=rt<28?(nt&127)<<rt:(nt&127)*2**rt,nt<128)break}return[tt,et]}function decodeBytes(_e,et){let tt;[tt,et]=decodeVarint(_e,et);const rt=et+tt;if(tt<0||rt<0)throw new Error("protobuf: invalid length");if(rt>_e.length)throw new Error("protobuf: unexpected end of data");return[_e.subarray(et,rt),rt]}function decodeKey(_e,et){let tt;return[tt,et]=decodeVarint(_e,et),[tt&7,tt>>3,et]}function decodeLink(_e){const et={},tt=_e.length;let rt=0;for(;rt<tt;){let nt,ot;if([nt,ot,rt]=decodeKey(_e,rt),ot===1){if(et.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(nt!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${nt}) for Hash`);if(et.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(et.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[et.Hash,rt]=decodeBytes(_e,rt)}else if(ot===2){if(et.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(nt!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${nt}) for Name`);if(et.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let st;[st,rt]=decodeBytes(_e,rt),et.Name=textDecoder.decode(st)}else if(ot===3){if(et.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(nt!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${nt}) for Tsize`);[et.Tsize,rt]=decodeVarint(_e,rt)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${ot}`)}if(rt>tt)throw new Error("protobuf: (PBLink) unexpected end of data");return et}function decodeNode(_e){const et=_e.length;let tt=0,rt,nt=!1,ot;for(;tt<et;){let at,ct;if([at,ct,tt]=decodeKey(_e,tt),at!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${at}`);if(ct===1){if(ot)throw new Error("protobuf: (PBNode) duplicate Data section");[ot,tt]=decodeBytes(_e,tt),rt&&(nt=!0)}else if(ct===2){if(nt)throw new Error("protobuf: (PBNode) duplicate Links section");rt||(rt=[]);let lt;[lt,tt]=decodeBytes(_e,tt),rt.push(decodeLink(lt))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${ct}`)}if(tt>et)throw new Error("protobuf: (PBNode) unexpected end of data");const st={};return ot&&(st.Data=ot),st.Links=rt||[],st}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink$1(_e,et){let tt=et.length;if(typeof _e.Tsize=="number"){if(_e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(_e.Tsize))throw new Error("Tsize too large for encoding");tt=encodeVarint(et,tt,_e.Tsize)-1,et[tt]=24}if(typeof _e.Name=="string"){const rt=textEncoder$1.encode(_e.Name);tt-=rt.length,et.set(rt,tt),tt=encodeVarint(et,tt,rt.length)-1,et[tt]=18}return _e.Hash&&(tt-=_e.Hash.length,et.set(_e.Hash,tt),tt=encodeVarint(et,tt,_e.Hash.length)-1,et[tt]=10),et.length-tt}function encodeNode(_e){const et=sizeNode(_e),tt=new Uint8Array(et);let rt=et;if(_e.Data&&(rt-=_e.Data.length,tt.set(_e.Data,rt),rt=encodeVarint(tt,rt,_e.Data.length)-1,tt[rt]=10),_e.Links)for(let nt=_e.Links.length-1;nt>=0;nt--){const ot=encodeLink$1(_e.Links[nt],tt.subarray(0,rt));rt-=ot,rt=encodeVarint(tt,rt,ot)-1,tt[rt]=18}return tt}function sizeLink(_e){let et=0;if(_e.Hash){const tt=_e.Hash.length;et+=1+tt+sov(tt)}if(typeof _e.Name=="string"){const tt=textEncoder$1.encode(_e.Name).length;et+=1+tt+sov(tt)}return typeof _e.Tsize=="number"&&(et+=1+sov(_e.Tsize)),et}function sizeNode(_e){let et=0;if(_e.Data){const tt=_e.Data.length;et+=1+tt+sov(tt)}if(_e.Links)for(const tt of _e.Links){const rt=sizeLink(tt);et+=1+rt+sov(rt)}return et}function encodeVarint(_e,et,tt){et-=sov(tt);const rt=et;for(;tt>=maxUInt32;)_e[et++]=tt&127|128,tt/=128;for(;tt>=128;)_e[et++]=tt&127|128,tt>>>=7;return _e[et]=tt,rt}function sov(_e){return _e%2===0&&_e++,Math.floor((len64(_e)+6)/7)}function len64(_e){let et=0;return _e>=maxInt32&&(_e=Math.floor(_e/maxInt32),et=32),_e>=65536&&(_e>>>=16,et+=16),_e>=256&&(_e>>>=8,et+=8),et+len8tab[_e]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(_e,et){if(_e===et)return 0;const tt=_e.Name?textEncoder.encode(_e.Name):[],rt=et.Name?textEncoder.encode(et.Name):[];let nt=tt.length,ot=rt.length;for(let st=0,at=Math.min(nt,ot);st<at;++st)if(tt[st]!==rt[st]){nt=tt[st],ot=rt[st];break}return nt<ot?-1:ot<nt?1:0}function hasOnlyProperties(_e,et){return!Object.keys(_e).some(tt=>!et.includes(tt))}function asLink(_e){if(typeof _e.asCID=="object"){const tt=CID.asCID(_e);if(!tt)throw new TypeError("Invalid DAG-PB form");return{Hash:tt}}if(typeof _e!="object"||Array.isArray(_e))throw new TypeError("Invalid DAG-PB form");const et={};if(_e.Hash){let tt=CID.asCID(_e.Hash);try{tt||(typeof _e.Hash=="string"?tt=CID.parse(_e.Hash):_e.Hash instanceof Uint8Array&&(tt=CID.decode(_e.Hash)))}catch(rt){throw new TypeError(`Invalid DAG-PB form: ${rt.message}`)}tt&&(et.Hash=tt)}if(!et.Hash)throw new TypeError("Invalid DAG-PB form");return typeof _e.Name=="string"&&(et.Name=_e.Name),typeof _e.Tsize=="number"&&(et.Tsize=_e.Tsize),et}function prepare(_e){if((_e instanceof Uint8Array||typeof _e=="string")&&(_e={Data:_e}),typeof _e!="object"||Array.isArray(_e))throw new TypeError("Invalid DAG-PB form");const et={};if(_e.Data!==void 0)if(typeof _e.Data=="string")et.Data=textEncoder.encode(_e.Data);else if(_e.Data instanceof Uint8Array)et.Data=_e.Data;else throw new TypeError("Invalid DAG-PB form");if(_e.Links!==void 0)if(Array.isArray(_e.Links))et.Links=_e.Links.map(asLink),et.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else et.Links=[];return et}function validate(_e){if(!_e||typeof _e!="object"||Array.isArray(_e)||_e instanceof Uint8Array||_e["/"]&&_e["/"]===_e.bytes)throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(_e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(_e.Data!==void 0&&!(_e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(_e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let et=0;et<_e.Links.length;et++){const tt=_e.Links[et];if(!tt||typeof tt!="object"||Array.isArray(tt)||tt instanceof Uint8Array||tt["/"]&&tt["/"]===tt.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!hasOnlyProperties(tt,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(tt.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(tt.Hash==null||!tt.Hash["/"]||tt.Hash["/"]!==tt.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(tt.Name!==void 0&&typeof tt.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(tt.Tsize!==void 0){if(typeof tt.Tsize!="number"||tt.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(tt.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(et>0&&linkComparator(tt,_e.Links[et-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function toByteView(_e){return _e instanceof ArrayBuffer?new Uint8Array(_e,0,_e.byteLength):_e}const code$1=112;function encode$3(_e){validate(_e);const et={};return _e.Links&&(et.Links=_e.Links.map(tt=>{const rt={};return tt.Hash&&(rt.Hash=tt.Hash.bytes),tt.Name!==void 0&&(rt.Name=tt.Name),tt.Tsize!==void 0&&(rt.Tsize=tt.Tsize),rt})),_e.Data&&(et.Data=_e.Data),encodeNode(et)}function decode$2(_e){const et=toByteView(_e),tt=decodeNode(et),rt={};return tt.Data&&(rt.Data=tt.Data),tt.Links&&(rt.Links=tt.Links.map(nt=>{const ot={};try{ot.Hash=CID.decode(nt.Hash)}catch{}if(!ot.Hash)throw new Error("Invalid Hash field found in link, expected CID");return nt.Name!==void 0&&(ot.Name=nt.Name),nt.Tsize!==void 0&&(ot.Tsize=nt.Tsize),ot})),rt}var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(_e,et){for(var tt=new Array(arguments.length-1),rt=0,nt=2,ot=!0;nt<arguments.length;)tt[rt++]=arguments[nt++];return new Promise(function(at,ct){tt[rt]=function(dt){if(ot)if(ot=!1,dt)ct(dt);else{for(var ft=new Array(arguments.length-1),ht=0;ht<ft.length;)ft[ht++]=arguments[ht];at.apply(null,ft)}};try{_e.apply(et||null,tt)}catch(lt){ot&&(ot=!1,ct(lt))}})}var base64$1={};(function(_e){var et=_e;et.length=function(at){var ct=at.length;if(!ct)return 0;for(var lt=0;--ct%4>1&&at.charAt(ct)==="=";)++lt;return Math.ceil(at.length*3)/4-lt};for(var tt=new Array(64),rt=new Array(123),nt=0;nt<64;)rt[tt[nt]=nt<26?nt+65:nt<52?nt+71:nt<62?nt-4:nt-59|43]=nt++;et.encode=function(at,ct,lt){for(var dt=null,ft=[],ht=0,pt=0,gt;ct<lt;){var mt=at[ct++];switch(pt){case 0:ft[ht++]=tt[mt>>2],gt=(mt&3)<<4,pt=1;break;case 1:ft[ht++]=tt[gt|mt>>4],gt=(mt&15)<<2,pt=2;break;case 2:ft[ht++]=tt[gt|mt>>6],ft[ht++]=tt[mt&63],pt=0;break}ht>8191&&((dt||(dt=[])).push(String.fromCharCode.apply(String,ft)),ht=0)}return pt&&(ft[ht++]=tt[gt],ft[ht++]=61,pt===1&&(ft[ht++]=61)),dt?(ht&&dt.push(String.fromCharCode.apply(String,ft.slice(0,ht))),dt.join("")):String.fromCharCode.apply(String,ft.slice(0,ht))};var ot="invalid encoding";et.decode=function(at,ct,lt){for(var dt=lt,ft=0,ht,pt=0;pt<at.length;){var gt=at.charCodeAt(pt++);if(gt===61&&ft>1)break;if((gt=rt[gt])===void 0)throw Error(ot);switch(ft){case 0:ht=gt,ft=1;break;case 1:ct[lt++]=ht<<2|(gt&48)>>4,ht=gt,ft=2;break;case 2:ct[lt++]=(ht&15)<<4|(gt&60)>>2,ht=gt,ft=3;break;case 3:ct[lt++]=(ht&3)<<6|gt,ft=0;break}}if(ft===1)throw Error(ot);return lt-dt},et.test=function(at){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(at)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(et,tt,rt){return(this._listeners[et]||(this._listeners[et]=[])).push({fn:tt,ctx:rt||this}),this};EventEmitter.prototype.off=function(et,tt){if(et===void 0)this._listeners={};else if(tt===void 0)this._listeners[et]=[];else for(var rt=this._listeners[et],nt=0;nt<rt.length;)rt[nt].fn===tt?rt.splice(nt,1):++nt;return this};EventEmitter.prototype.emit=function(et){var tt=this._listeners[et];if(tt){for(var rt=[],nt=1;nt<arguments.length;)rt.push(arguments[nt++]);for(nt=0;nt<tt.length;)tt[nt].fn.apply(tt[nt++].ctx,rt)}return this};var float=factory(factory);function factory(_e){return typeof Float32Array<"u"?function(){var et=new Float32Array([-0]),tt=new Uint8Array(et.buffer),rt=tt[3]===128;function nt(ct,lt,dt){et[0]=ct,lt[dt]=tt[0],lt[dt+1]=tt[1],lt[dt+2]=tt[2],lt[dt+3]=tt[3]}function ot(ct,lt,dt){et[0]=ct,lt[dt]=tt[3],lt[dt+1]=tt[2],lt[dt+2]=tt[1],lt[dt+3]=tt[0]}_e.writeFloatLE=rt?nt:ot,_e.writeFloatBE=rt?ot:nt;function st(ct,lt){return tt[0]=ct[lt],tt[1]=ct[lt+1],tt[2]=ct[lt+2],tt[3]=ct[lt+3],et[0]}function at(ct,lt){return tt[3]=ct[lt],tt[2]=ct[lt+1],tt[1]=ct[lt+2],tt[0]=ct[lt+3],et[0]}_e.readFloatLE=rt?st:at,_e.readFloatBE=rt?at:st}():function(){function et(rt,nt,ot,st){var at=nt<0?1:0;if(at&&(nt=-nt),nt===0)rt(1/nt>0?0:2147483648,ot,st);else if(isNaN(nt))rt(2143289344,ot,st);else if(nt>34028234663852886e22)rt((at<<31|2139095040)>>>0,ot,st);else if(nt<11754943508222875e-54)rt((at<<31|Math.round(nt/1401298464324817e-60))>>>0,ot,st);else{var ct=Math.floor(Math.log(nt)/Math.LN2),lt=Math.round(nt*Math.pow(2,-ct)*8388608)&8388607;rt((at<<31|ct+127<<23|lt)>>>0,ot,st)}}_e.writeFloatLE=et.bind(null,writeUintLE),_e.writeFloatBE=et.bind(null,writeUintBE);function tt(rt,nt,ot){var st=rt(nt,ot),at=(st>>31)*2+1,ct=st>>>23&255,lt=st&8388607;return ct===255?lt?NaN:at*(1/0):ct===0?at*1401298464324817e-60*lt:at*Math.pow(2,ct-150)*(lt+8388608)}_e.readFloatLE=tt.bind(null,readUintLE),_e.readFloatBE=tt.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var et=new Float64Array([-0]),tt=new Uint8Array(et.buffer),rt=tt[7]===128;function nt(ct,lt,dt){et[0]=ct,lt[dt]=tt[0],lt[dt+1]=tt[1],lt[dt+2]=tt[2],lt[dt+3]=tt[3],lt[dt+4]=tt[4],lt[dt+5]=tt[5],lt[dt+6]=tt[6],lt[dt+7]=tt[7]}function ot(ct,lt,dt){et[0]=ct,lt[dt]=tt[7],lt[dt+1]=tt[6],lt[dt+2]=tt[5],lt[dt+3]=tt[4],lt[dt+4]=tt[3],lt[dt+5]=tt[2],lt[dt+6]=tt[1],lt[dt+7]=tt[0]}_e.writeDoubleLE=rt?nt:ot,_e.writeDoubleBE=rt?ot:nt;function st(ct,lt){return tt[0]=ct[lt],tt[1]=ct[lt+1],tt[2]=ct[lt+2],tt[3]=ct[lt+3],tt[4]=ct[lt+4],tt[5]=ct[lt+5],tt[6]=ct[lt+6],tt[7]=ct[lt+7],et[0]}function at(ct,lt){return tt[7]=ct[lt],tt[6]=ct[lt+1],tt[5]=ct[lt+2],tt[4]=ct[lt+3],tt[3]=ct[lt+4],tt[2]=ct[lt+5],tt[1]=ct[lt+6],tt[0]=ct[lt+7],et[0]}_e.readDoubleLE=rt?st:at,_e.readDoubleBE=rt?at:st}():function(){function et(rt,nt,ot,st,at,ct){var lt=st<0?1:0;if(lt&&(st=-st),st===0)rt(0,at,ct+nt),rt(1/st>0?0:2147483648,at,ct+ot);else if(isNaN(st))rt(0,at,ct+nt),rt(2146959360,at,ct+ot);else if(st>17976931348623157e292)rt(0,at,ct+nt),rt((lt<<31|2146435072)>>>0,at,ct+ot);else{var dt;if(st<22250738585072014e-324)dt=st/5e-324,rt(dt>>>0,at,ct+nt),rt((lt<<31|dt/4294967296)>>>0,at,ct+ot);else{var ft=Math.floor(Math.log(st)/Math.LN2);ft===1024&&(ft=1023),dt=st*Math.pow(2,-ft),rt(dt*4503599627370496>>>0,at,ct+nt),rt((lt<<31|ft+1023<<20|dt*1048576&1048575)>>>0,at,ct+ot)}}}_e.writeDoubleLE=et.bind(null,writeUintLE,0,4),_e.writeDoubleBE=et.bind(null,writeUintBE,4,0);function tt(rt,nt,ot,st,at){var ct=rt(st,at+nt),lt=rt(st,at+ot),dt=(lt>>31)*2+1,ft=lt>>>20&2047,ht=4294967296*(lt&1048575)+ct;return ft===2047?ht?NaN:dt*(1/0):ft===0?dt*5e-324*ht:dt*Math.pow(2,ft-1075)*(ht+4503599627370496)}_e.readDoubleLE=tt.bind(null,readUintLE,0,4),_e.readDoubleBE=tt.bind(null,readUintBE,4,0)}(),_e}function writeUintLE(_e,et,tt){et[tt]=_e&255,et[tt+1]=_e>>>8&255,et[tt+2]=_e>>>16&255,et[tt+3]=_e>>>24}function writeUintBE(_e,et,tt){et[tt]=_e>>>24,et[tt+1]=_e>>>16&255,et[tt+2]=_e>>>8&255,et[tt+3]=_e&255}function readUintLE(_e,et){return(_e[et]|_e[et+1]<<8|_e[et+2]<<16|_e[et+3]<<24)>>>0}function readUintBE(_e,et){return(_e[et]<<24|_e[et+1]<<16|_e[et+2]<<8|_e[et+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(_e){}return null}var utf8$3={};(function(_e){var et=_e;et.length=function(rt){for(var nt=0,ot=0,st=0;st<rt.length;++st)ot=rt.charCodeAt(st),ot<128?nt+=1:ot<2048?nt+=2:(ot&64512)===55296&&(rt.charCodeAt(st+1)&64512)===56320?(++st,nt+=4):nt+=3;return nt},et.read=function(rt,nt,ot){var st=ot-nt;if(st<1)return"";for(var at=null,ct=[],lt=0,dt;nt<ot;)dt=rt[nt++],dt<128?ct[lt++]=dt:dt>191&&dt<224?ct[lt++]=(dt&31)<<6|rt[nt++]&63:dt>239&&dt<365?(dt=((dt&7)<<18|(rt[nt++]&63)<<12|(rt[nt++]&63)<<6|rt[nt++]&63)-65536,ct[lt++]=55296+(dt>>10),ct[lt++]=56320+(dt&1023)):ct[lt++]=(dt&15)<<12|(rt[nt++]&63)<<6|rt[nt++]&63,lt>8191&&((at||(at=[])).push(String.fromCharCode.apply(String,ct)),lt=0);return at?(lt&&at.push(String.fromCharCode.apply(String,ct.slice(0,lt))),at.join("")):String.fromCharCode.apply(String,ct.slice(0,lt))},et.write=function(rt,nt,ot){for(var st=ot,at,ct,lt=0;lt<rt.length;++lt)at=rt.charCodeAt(lt),at<128?nt[ot++]=at:at<2048?(nt[ot++]=at>>6|192,nt[ot++]=at&63|128):(at&64512)===55296&&((ct=rt.charCodeAt(lt+1))&64512)===56320?(at=65536+((at&1023)<<10)+(ct&1023),++lt,nt[ot++]=at>>18|240,nt[ot++]=at>>12&63|128,nt[ot++]=at>>6&63|128,nt[ot++]=at&63|128):(nt[ot++]=at>>12|224,nt[ot++]=at>>6&63|128,nt[ot++]=at&63|128);return ot-st}})(utf8$3);var pool_1=pool;function pool(_e,et,tt){var rt=tt||8192,nt=rt>>>1,ot=null,st=rt;return function(ct){if(ct<1||ct>nt)return _e(ct);st+ct>rt&&(ot=_e(rt),st=0);var lt=et.call(ot,st,st+=ct);return st&7&&(st=(st|7)+1),lt}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=et;var _e=requireMinimal();function et(ot,st){this.lo=ot>>>0,this.hi=st>>>0}var tt=et.zero=new et(0,0);tt.toNumber=function(){return 0},tt.zzEncode=tt.zzDecode=function(){return this},tt.length=function(){return 1};var rt=et.zeroHash="\0\0\0\0\0\0\0\0";et.fromNumber=function(st){if(st===0)return tt;var at=st<0;at&&(st=-st);var ct=st>>>0,lt=(st-ct)/4294967296>>>0;return at&&(lt=~lt>>>0,ct=~ct>>>0,++ct>4294967295&&(ct=0,++lt>4294967295&&(lt=0))),new et(ct,lt)},et.from=function(st){if(typeof st=="number")return et.fromNumber(st);if(_e.isString(st))if(_e.Long)st=_e.Long.fromString(st);else return et.fromNumber(parseInt(st,10));return st.low||st.high?new et(st.low>>>0,st.high>>>0):tt},et.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var at=~this.lo+1>>>0,ct=~this.hi>>>0;return at||(ct=ct+1>>>0),-(at+ct*4294967296)}return this.lo+this.hi*4294967296},et.prototype.toLong=function(st){return _e.Long?new _e.Long(this.lo|0,this.hi|0,!!st):{low:this.lo|0,high:this.hi|0,unsigned:!!st}};var nt=String.prototype.charCodeAt;return et.fromHash=function(st){return st===rt?tt:new et((nt.call(st,0)|nt.call(st,1)<<8|nt.call(st,2)<<16|nt.call(st,3)<<24)>>>0,(nt.call(st,4)|nt.call(st,5)<<8|nt.call(st,6)<<16|nt.call(st,7)<<24)>>>0)},et.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},et.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},et.prototype.zzDecode=function(){var st=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},et.prototype.length=function(){var st=this.lo,at=(this.lo>>>28|this.hi<<4)>>>0,ct=this.hi>>>24;return ct===0?at===0?st<16384?st<128?1:2:st<2097152?3:4:at<16384?at<128?5:6:at<2097152?7:8:ct<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(_e){var et=_e;et.asPromise=aspromise,et.base64=base64$1,et.EventEmitter=eventemitter,et.float=float,et.inquire=inquire_1,et.utf8=utf8$3,et.pool=pool_1,et.LongBits=requireLongbits(),et.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),et.global=et.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,et.emptyArray=Object.freeze?Object.freeze([]):[],et.emptyObject=Object.freeze?Object.freeze({}):{},et.isInteger=Number.isInteger||function(ot){return typeof ot=="number"&&isFinite(ot)&&Math.floor(ot)===ot},et.isString=function(ot){return typeof ot=="string"||ot instanceof String},et.isObject=function(ot){return ot&&typeof ot=="object"},et.isset=et.isSet=function(ot,st){var at=ot[st];return at!=null&&ot.hasOwnProperty(st)?typeof at!="object"||(Array.isArray(at)?at.length:Object.keys(at).length)>0:!1},et.Buffer=function(){try{var nt=et.inquire("buffer").Buffer;return nt.prototype.utf8Write?nt:null}catch{return null}}(),et._Buffer_from=null,et._Buffer_allocUnsafe=null,et.newBuffer=function(ot){return typeof ot=="number"?et.Buffer?et._Buffer_allocUnsafe(ot):new et.Array(ot):et.Buffer?et._Buffer_from(ot):typeof Uint8Array>"u"?ot:new Uint8Array(ot)},et.Array=typeof Uint8Array<"u"?Uint8Array:Array,et.Long=et.global.dcodeIO&&et.global.dcodeIO.Long||et.global.Long||et.inquire("long"),et.key2Re=/^true|false|0|1$/,et.key32Re=/^-?(?:0|[1-9][0-9]*)$/,et.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,et.longToHash=function(ot){return ot?et.LongBits.from(ot).toHash():et.LongBits.zeroHash},et.longFromHash=function(ot,st){var at=et.LongBits.fromHash(ot);return et.Long?et.Long.fromBits(at.lo,at.hi,st):at.toNumber(!!st)};function tt(nt,ot,st){for(var at=Object.keys(ot),ct=0;ct<at.length;++ct)(nt[at[ct]]===void 0||!st)&&(nt[at[ct]]=ot[at[ct]]);return nt}et.merge=tt,et.lcFirst=function(ot){return ot.charAt(0).toLowerCase()+ot.substring(1)};function rt(nt){function ot(st,at){if(!(this instanceof ot))return new ot(st,at);Object.defineProperty(this,"message",{get:function(){return st}}),Error.captureStackTrace?Error.captureStackTrace(this,ot):Object.defineProperty(this,"stack",{value:new Error().stack||""}),at&&tt(this,at)}return ot.prototype=Object.create(Error.prototype,{constructor:{value:ot,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return nt},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),ot}et.newError=rt,et.ProtocolError=rt("ProtocolError"),et.oneOfGetter=function(ot){for(var st={},at=0;at<ot.length;++at)st[ot[at]]=1;return function(){for(var ct=Object.keys(this),lt=ct.length-1;lt>-1;--lt)if(st[ct[lt]]===1&&this[ct[lt]]!==void 0&&this[ct[lt]]!==null)return ct[lt]}},et.oneOfSetter=function(ot){return function(st){for(var at=0;at<ot.length;++at)ot[at]!==st&&delete this[ot[at]]}},et.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},et._configure=function(){var nt=et.Buffer;if(!nt){et._Buffer_from=et._Buffer_allocUnsafe=null;return}et._Buffer_from=nt.from!==Uint8Array.from&&nt.from||function(st,at){return new nt(st,at)},et._Buffer_allocUnsafe=nt.allocUnsafe||function(st){return new nt(st)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$2=util$4.utf8;function Op(_e,et,tt){this.fn=_e,this.len=et,this.next=void 0,this.val=tt}function noop$1(){}function State$1(_e){this.head=_e.head,this.tail=_e.tail,this.len=_e.len,this.next=_e.states}function Writer$1(){this.len=0,this.head=new Op(noop$1,0,0),this.tail=this.head,this.states=null}var create$2=function _e(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$2();Writer$1.alloc=function _e(et){return new util$4.Array(et)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function _e(et,tt,rt){return this.tail=this.tail.next=new Op(et,tt,rt),this.len+=tt,this};function writeByte(_e,et,tt){et[tt]=_e&255}function writeVarint32(_e,et,tt){for(;_e>127;)et[tt++]=_e&127|128,_e>>>=7;et[tt]=_e}function VarintOp(_e,et){this.len=_e,this.next=void 0,this.val=et}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function _e(et){return this.len+=(this.tail=this.tail.next=new VarintOp((et=et>>>0)<128?1:et<16384?2:et<2097152?3:et<268435456?4:5,et)).len,this};Writer$1.prototype.int32=function _e(et){return et<0?this._push(writeVarint64,10,LongBits$1.fromNumber(et)):this.uint32(et)};Writer$1.prototype.sint32=function _e(et){return this.uint32((et<<1^et>>31)>>>0)};function writeVarint64(_e,et,tt){for(;_e.hi;)et[tt++]=_e.lo&127|128,_e.lo=(_e.lo>>>7|_e.hi<<25)>>>0,_e.hi>>>=7;for(;_e.lo>127;)et[tt++]=_e.lo&127|128,_e.lo=_e.lo>>>7;et[tt++]=_e.lo}Writer$1.prototype.uint64=function _e(et){var tt=LongBits$1.from(et);return this._push(writeVarint64,tt.length(),tt)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function _e(et){var tt=LongBits$1.from(et).zzEncode();return this._push(writeVarint64,tt.length(),tt)};Writer$1.prototype.bool=function _e(et){return this._push(writeByte,1,et?1:0)};function writeFixed32(_e,et,tt){et[tt]=_e&255,et[tt+1]=_e>>>8&255,et[tt+2]=_e>>>16&255,et[tt+3]=_e>>>24}Writer$1.prototype.fixed32=function _e(et){return this._push(writeFixed32,4,et>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function _e(et){var tt=LongBits$1.from(et);return this._push(writeFixed32,4,tt.lo)._push(writeFixed32,4,tt.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function _e(et){return this._push(util$4.float.writeFloatLE,4,et)};Writer$1.prototype.double=function _e(et){return this._push(util$4.float.writeDoubleLE,8,et)};var writeBytes=util$4.Array.prototype.set?function _e(et,tt,rt){tt.set(et,rt)}:function _e(et,tt,rt){for(var nt=0;nt<et.length;++nt)tt[rt+nt]=et[nt]};Writer$1.prototype.bytes=function _e(et){var tt=et.length>>>0;if(!tt)return this._push(writeByte,1,0);if(util$4.isString(et)){var rt=Writer$1.alloc(tt=base64.length(et));base64.decode(et,rt,0),et=rt}return this.uint32(tt)._push(writeBytes,tt,et)};Writer$1.prototype.string=function _e(et){var tt=utf8$2.length(et);return tt?this.uint32(tt)._push(utf8$2.write,tt,et):this._push(writeByte,1,0)};Writer$1.prototype.fork=function _e(){return this.states=new State$1(this),this.head=this.tail=new Op(noop$1,0,0),this.len=0,this};Writer$1.prototype.reset=function _e(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$1,0,0),this.len=0),this};Writer$1.prototype.ldelim=function _e(){var et=this.head,tt=this.tail,rt=this.len;return this.reset().uint32(rt),rt&&(this.tail.next=et.next,this.tail=tt,this.len+=rt),this};Writer$1.prototype.finish=function _e(){for(var et=this.head.next,tt=this.constructor.alloc(this.len),rt=0;et;)et.fn(et.val,tt,rt),rt+=et.len,et=et.next;return tt};Writer$1._configure=function(_e){BufferWriter$1=_e,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(et,tt,rt){tt.set(et,rt)}:function(et,tt,rt){if(et.copy)et.copy(tt,rt,0,et.length);else for(var nt=0;nt<et.length;)tt[rt++]=et[nt++]}};BufferWriter.prototype.bytes=function _e(et){util$3.isString(et)&&(et=util$3._Buffer_from(et,"base64"));var tt=et.length>>>0;return this.uint32(tt),tt&&this._push(BufferWriter.writeBytesBuffer,tt,et),this};function writeStringBuffer(_e,et,tt){_e.length<40?util$3.utf8.write(_e,et,tt):et.utf8Write?et.utf8Write(_e,tt):et.write(_e,tt)}BufferWriter.prototype.string=function _e(et){var tt=util$3.Buffer.byteLength(et);return this.uint32(tt),tt&&this._push(writeStringBuffer,tt,et),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8$1=util$2.utf8;function indexOutOfRange(_e,et){return RangeError("index out of range: "+_e.pos+" + "+(et||1)+" > "+_e.len)}function Reader$1(_e){this.buf=_e,this.pos=0,this.len=_e.length}var create_array=typeof Uint8Array<"u"?function _e(et){if(et instanceof Uint8Array||Array.isArray(et))return new Reader$1(et);throw Error("illegal buffer")}:function _e(et){if(Array.isArray(et))return new Reader$1(et);throw Error("illegal buffer")},create$1=function _e(){return util$2.Buffer?function(tt){return(Reader$1.create=function(nt){return util$2.Buffer.isBuffer(nt)?new BufferReader$1(nt):create_array(nt)})(tt)}:create_array};Reader$1.create=create$1();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function _e(){var et=4294967295;return function(){if(et=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(et=(et|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(et=(et|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(et=(et|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(et=(et|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return et;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return et}}();Reader$1.prototype.int32=function _e(){return this.uint32()|0};Reader$1.prototype.sint32=function _e(){var et=this.uint32();return et>>>1^-(et&1)|0};function readLongVarint(){var _e=new LongBits(0,0),et=0;if(this.len-this.pos>4){for(;et<4;++et)if(_e.lo=(_e.lo|(this.buf[this.pos]&127)<<et*7)>>>0,this.buf[this.pos++]<128)return _e;if(_e.lo=(_e.lo|(this.buf[this.pos]&127)<<28)>>>0,_e.hi=(_e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return _e;et=0}else{for(;et<3;++et){if(this.pos>=this.len)throw indexOutOfRange(this);if(_e.lo=(_e.lo|(this.buf[this.pos]&127)<<et*7)>>>0,this.buf[this.pos++]<128)return _e}return _e.lo=(_e.lo|(this.buf[this.pos++]&127)<<et*7)>>>0,_e}if(this.len-this.pos>4){for(;et<5;++et)if(_e.hi=(_e.hi|(this.buf[this.pos]&127)<<et*7+3)>>>0,this.buf[this.pos++]<128)return _e}else for(;et<5;++et){if(this.pos>=this.len)throw indexOutOfRange(this);if(_e.hi=(_e.hi|(this.buf[this.pos]&127)<<et*7+3)>>>0,this.buf[this.pos++]<128)return _e}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function _e(){return this.uint32()!==0};function readFixed32_end(_e,et){return(_e[et-4]|_e[et-3]<<8|_e[et-2]<<16|_e[et-1]<<24)>>>0}Reader$1.prototype.fixed32=function _e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function _e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function _e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var et=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,et};Reader$1.prototype.double=function _e(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var et=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,et};Reader$1.prototype.bytes=function _e(){var et=this.uint32(),tt=this.pos,rt=this.pos+et;if(rt>this.len)throw indexOutOfRange(this,et);if(this.pos+=et,Array.isArray(this.buf))return this.buf.slice(tt,rt);if(tt===rt){var nt=util$2.Buffer;return nt?nt.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,tt,rt)};Reader$1.prototype.string=function _e(){var et=this.bytes();return utf8$1.read(et,0,et.length)};Reader$1.prototype.skip=function _e(et){if(typeof et=="number"){if(this.pos+et>this.len)throw indexOutOfRange(this,et);this.pos+=et}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(_e){switch(_e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(_e=this.uint32()&7)!==4;)this.skipType(_e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+_e+" at offset "+this.pos)}return this};Reader$1._configure=function(_e){BufferReader$1=_e,Reader$1.create=create$1(),BufferReader$1._configure();var et=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[et](!1)},uint64:function(){return readLongVarint.call(this)[et](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[et](!1)},fixed64:function(){return readFixed64.call(this)[et](!0)},sfixed64:function(){return readFixed64.call(this)[et](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(_e){Reader.call(this,_e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function _e(){var et=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+et,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+et,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(_e,et,tt){if(typeof _e!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=_e,this.requestDelimited=!!et,this.responseDelimited=!!tt}Service.prototype.rpcCall=function _e(et,tt,rt,nt,ot){if(!nt)throw TypeError("request must be specified");var st=this;if(!ot)return util.asPromise(_e,st,et,tt,rt,nt);if(!st.rpcImpl){setTimeout(function(){ot(Error("already ended"))},0);return}try{return st.rpcImpl(et,tt[st.requestDelimited?"encodeDelimited":"encode"](nt).finish(),function(ct,lt){if(ct)return st.emit("error",ct,et),ot(ct);if(lt===null){st.end(!0);return}if(!(lt instanceof rt))try{lt=rt[st.responseDelimited?"decodeDelimited":"decode"](lt)}catch(dt){return st.emit("error",dt,et),ot(dt)}return st.emit("data",lt,et),ot(null,lt)})}catch(at){st.emit("error",at,et),setTimeout(function(){ot(at)},0);return}};Service.prototype.end=function _e(et){return this.rpcImpl&&(et||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(_e){var et=_e;et.Service=service})(rpc);var roots={};(function(_e){var et=_e;et.build="minimal",et.Writer=writer,et.BufferWriter=writer_buffer,et.Reader=reader,et.BufferReader=reader_buffer,et.util=requireMinimal(),et.rpc=rpc,et.roots=roots,et.configure=tt;function tt(){et.util._configure(),et.Writer._configure(et.BufferWriter),et.Reader._configure(et.BufferReader)}tt()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots.unixfs||($protobuf.roots.unixfs={}),Data=$root.Data=(()=>{function _e(et){if(this.blocksizes=[],et)for(var tt=Object.keys(et),rt=0;rt<tt.length;++rt)et[tt[rt]]!=null&&(this[tt[rt]]=et[tt[rt]])}return _e.prototype.Type=0,_e.prototype.Data=$util.newBuffer([]),_e.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,_e.prototype.blocksizes=$util.emptyArray,_e.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,_e.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,_e.prototype.mode=0,_e.prototype.mtime=null,_e.encode=function(tt,rt){if(rt||(rt=$Writer.create()),rt.uint32(8).int32(tt.Type),tt.Data!=null&&Object.hasOwnProperty.call(tt,"Data")&&rt.uint32(18).bytes(tt.Data),tt.filesize!=null&&Object.hasOwnProperty.call(tt,"filesize")&&rt.uint32(24).uint64(tt.filesize),tt.blocksizes!=null&&tt.blocksizes.length)for(var nt=0;nt<tt.blocksizes.length;++nt)rt.uint32(32).uint64(tt.blocksizes[nt]);return tt.hashType!=null&&Object.hasOwnProperty.call(tt,"hashType")&&rt.uint32(40).uint64(tt.hashType),tt.fanout!=null&&Object.hasOwnProperty.call(tt,"fanout")&&rt.uint32(48).uint64(tt.fanout),tt.mode!=null&&Object.hasOwnProperty.call(tt,"mode")&&rt.uint32(56).uint32(tt.mode),tt.mtime!=null&&Object.hasOwnProperty.call(tt,"mtime")&&$root.UnixTime.encode(tt.mtime,rt.uint32(66).fork()).ldelim(),rt},_e.decode=function(tt,rt){tt instanceof $Reader||(tt=$Reader.create(tt));for(var nt=rt===void 0?tt.len:tt.pos+rt,ot=new $root.Data;tt.pos<nt;){var st=tt.uint32();switch(st>>>3){case 1:ot.Type=tt.int32();break;case 2:ot.Data=tt.bytes();break;case 3:ot.filesize=tt.uint64();break;case 4:if(ot.blocksizes&&ot.blocksizes.length||(ot.blocksizes=[]),(st&7)===2)for(var at=tt.uint32()+tt.pos;tt.pos<at;)ot.blocksizes.push(tt.uint64());else ot.blocksizes.push(tt.uint64());break;case 5:ot.hashType=tt.uint64();break;case 6:ot.fanout=tt.uint64();break;case 7:ot.mode=tt.uint32();break;case 8:ot.mtime=$root.UnixTime.decode(tt,tt.uint32());break;default:tt.skipType(st&7);break}}if(!ot.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:ot});return ot},_e.fromObject=function(tt){if(tt instanceof $root.Data)return tt;var rt=new $root.Data;switch(tt.Type){case"Raw":case 0:rt.Type=0;break;case"Directory":case 1:rt.Type=1;break;case"File":case 2:rt.Type=2;break;case"Metadata":case 3:rt.Type=3;break;case"Symlink":case 4:rt.Type=4;break;case"HAMTShard":case 5:rt.Type=5;break}if(tt.Data!=null&&(typeof tt.Data=="string"?$util.base64.decode(tt.Data,rt.Data=$util.newBuffer($util.base64.length(tt.Data)),0):tt.Data.length&&(rt.Data=tt.Data)),tt.filesize!=null&&($util.Long?(rt.filesize=$util.Long.fromValue(tt.filesize)).unsigned=!0:typeof tt.filesize=="string"?rt.filesize=parseInt(tt.filesize,10):typeof tt.filesize=="number"?rt.filesize=tt.filesize:typeof tt.filesize=="object"&&(rt.filesize=new $util.LongBits(tt.filesize.low>>>0,tt.filesize.high>>>0).toNumber(!0))),tt.blocksizes){if(!Array.isArray(tt.blocksizes))throw TypeError(".Data.blocksizes: array expected");rt.blocksizes=[];for(var nt=0;nt<tt.blocksizes.length;++nt)$util.Long?(rt.blocksizes[nt]=$util.Long.fromValue(tt.blocksizes[nt])).unsigned=!0:typeof tt.blocksizes[nt]=="string"?rt.blocksizes[nt]=parseInt(tt.blocksizes[nt],10):typeof tt.blocksizes[nt]=="number"?rt.blocksizes[nt]=tt.blocksizes[nt]:typeof tt.blocksizes[nt]=="object"&&(rt.blocksizes[nt]=new $util.LongBits(tt.blocksizes[nt].low>>>0,tt.blocksizes[nt].high>>>0).toNumber(!0))}if(tt.hashType!=null&&($util.Long?(rt.hashType=$util.Long.fromValue(tt.hashType)).unsigned=!0:typeof tt.hashType=="string"?rt.hashType=parseInt(tt.hashType,10):typeof tt.hashType=="number"?rt.hashType=tt.hashType:typeof tt.hashType=="object"&&(rt.hashType=new $util.LongBits(tt.hashType.low>>>0,tt.hashType.high>>>0).toNumber(!0))),tt.fanout!=null&&($util.Long?(rt.fanout=$util.Long.fromValue(tt.fanout)).unsigned=!0:typeof tt.fanout=="string"?rt.fanout=parseInt(tt.fanout,10):typeof tt.fanout=="number"?rt.fanout=tt.fanout:typeof tt.fanout=="object"&&(rt.fanout=new $util.LongBits(tt.fanout.low>>>0,tt.fanout.high>>>0).toNumber(!0))),tt.mode!=null&&(rt.mode=tt.mode>>>0),tt.mtime!=null){if(typeof tt.mtime!="object")throw TypeError(".Data.mtime: object expected");rt.mtime=$root.UnixTime.fromObject(tt.mtime)}return rt},_e.toObject=function(tt,rt){rt||(rt={});var nt={};if((rt.arrays||rt.defaults)&&(nt.blocksizes=[]),rt.defaults){if(nt.Type=rt.enums===String?"Raw":0,rt.bytes===String?nt.Data="":(nt.Data=[],rt.bytes!==Array&&(nt.Data=$util.newBuffer(nt.Data))),$util.Long){var ot=new $util.Long(0,0,!0);nt.filesize=rt.longs===String?ot.toString():rt.longs===Number?ot.toNumber():ot}else nt.filesize=rt.longs===String?"0":0;if($util.Long){var ot=new $util.Long(0,0,!0);nt.hashType=rt.longs===String?ot.toString():rt.longs===Number?ot.toNumber():ot}else nt.hashType=rt.longs===String?"0":0;if($util.Long){var ot=new $util.Long(0,0,!0);nt.fanout=rt.longs===String?ot.toString():rt.longs===Number?ot.toNumber():ot}else nt.fanout=rt.longs===String?"0":0;nt.mode=0,nt.mtime=null}if(tt.Type!=null&&tt.hasOwnProperty("Type")&&(nt.Type=rt.enums===String?$root.Data.DataType[tt.Type]:tt.Type),tt.Data!=null&&tt.hasOwnProperty("Data")&&(nt.Data=rt.bytes===String?$util.base64.encode(tt.Data,0,tt.Data.length):rt.bytes===Array?Array.prototype.slice.call(tt.Data):tt.Data),tt.filesize!=null&&tt.hasOwnProperty("filesize")&&(typeof tt.filesize=="number"?nt.filesize=rt.longs===String?String(tt.filesize):tt.filesize:nt.filesize=rt.longs===String?$util.Long.prototype.toString.call(tt.filesize):rt.longs===Number?new $util.LongBits(tt.filesize.low>>>0,tt.filesize.high>>>0).toNumber(!0):tt.filesize),tt.blocksizes&&tt.blocksizes.length){nt.blocksizes=[];for(var st=0;st<tt.blocksizes.length;++st)typeof tt.blocksizes[st]=="number"?nt.blocksizes[st]=rt.longs===String?String(tt.blocksizes[st]):tt.blocksizes[st]:nt.blocksizes[st]=rt.longs===String?$util.Long.prototype.toString.call(tt.blocksizes[st]):rt.longs===Number?new $util.LongBits(tt.blocksizes[st].low>>>0,tt.blocksizes[st].high>>>0).toNumber(!0):tt.blocksizes[st]}return tt.hashType!=null&&tt.hasOwnProperty("hashType")&&(typeof tt.hashType=="number"?nt.hashType=rt.longs===String?String(tt.hashType):tt.hashType:nt.hashType=rt.longs===String?$util.Long.prototype.toString.call(tt.hashType):rt.longs===Number?new $util.LongBits(tt.hashType.low>>>0,tt.hashType.high>>>0).toNumber(!0):tt.hashType),tt.fanout!=null&&tt.hasOwnProperty("fanout")&&(typeof tt.fanout=="number"?nt.fanout=rt.longs===String?String(tt.fanout):tt.fanout:nt.fanout=rt.longs===String?$util.Long.prototype.toString.call(tt.fanout):rt.longs===Number?new $util.LongBits(tt.fanout.low>>>0,tt.fanout.high>>>0).toNumber(!0):tt.fanout),tt.mode!=null&&tt.hasOwnProperty("mode")&&(nt.mode=tt.mode),tt.mtime!=null&&tt.hasOwnProperty("mtime")&&(nt.mtime=$root.UnixTime.toObject(tt.mtime,rt)),nt},_e.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},_e.DataType=function(){const et={},tt=Object.create(et);return tt[et[0]="Raw"]=0,tt[et[1]="Directory"]=1,tt[et[2]="File"]=2,tt[et[3]="Metadata"]=3,tt[et[4]="Symlink"]=4,tt[et[5]="HAMTShard"]=5,tt}(),_e})();$root.UnixTime=(()=>{function _e(et){if(et)for(var tt=Object.keys(et),rt=0;rt<tt.length;++rt)et[tt[rt]]!=null&&(this[tt[rt]]=et[tt[rt]])}return _e.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,_e.prototype.FractionalNanoseconds=0,_e.encode=function(tt,rt){return rt||(rt=$Writer.create()),rt.uint32(8).int64(tt.Seconds),tt.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(tt,"FractionalNanoseconds")&&rt.uint32(21).fixed32(tt.FractionalNanoseconds),rt},_e.decode=function(tt,rt){tt instanceof $Reader||(tt=$Reader.create(tt));for(var nt=rt===void 0?tt.len:tt.pos+rt,ot=new $root.UnixTime;tt.pos<nt;){var st=tt.uint32();switch(st>>>3){case 1:ot.Seconds=tt.int64();break;case 2:ot.FractionalNanoseconds=tt.fixed32();break;default:tt.skipType(st&7);break}}if(!ot.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:ot});return ot},_e.fromObject=function(tt){if(tt instanceof $root.UnixTime)return tt;var rt=new $root.UnixTime;return tt.Seconds!=null&&($util.Long?(rt.Seconds=$util.Long.fromValue(tt.Seconds)).unsigned=!1:typeof tt.Seconds=="string"?rt.Seconds=parseInt(tt.Seconds,10):typeof tt.Seconds=="number"?rt.Seconds=tt.Seconds:typeof tt.Seconds=="object"&&(rt.Seconds=new $util.LongBits(tt.Seconds.low>>>0,tt.Seconds.high>>>0).toNumber())),tt.FractionalNanoseconds!=null&&(rt.FractionalNanoseconds=tt.FractionalNanoseconds>>>0),rt},_e.toObject=function(tt,rt){rt||(rt={});var nt={};if(rt.defaults){if($util.Long){var ot=new $util.Long(0,0,!1);nt.Seconds=rt.longs===String?ot.toString():rt.longs===Number?ot.toNumber():ot}else nt.Seconds=rt.longs===String?"0":0;nt.FractionalNanoseconds=0}return tt.Seconds!=null&&tt.hasOwnProperty("Seconds")&&(typeof tt.Seconds=="number"?nt.Seconds=rt.longs===String?String(tt.Seconds):tt.Seconds:nt.Seconds=rt.longs===String?$util.Long.prototype.toString.call(tt.Seconds):rt.longs===Number?new $util.LongBits(tt.Seconds.low>>>0,tt.Seconds.high>>>0).toNumber():tt.Seconds),tt.FractionalNanoseconds!=null&&tt.hasOwnProperty("FractionalNanoseconds")&&(nt.FractionalNanoseconds=tt.FractionalNanoseconds),nt},_e.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},_e})();$root.Metadata=(()=>{function _e(et){if(et)for(var tt=Object.keys(et),rt=0;rt<tt.length;++rt)et[tt[rt]]!=null&&(this[tt[rt]]=et[tt[rt]])}return _e.prototype.MimeType="",_e.encode=function(tt,rt){return rt||(rt=$Writer.create()),tt.MimeType!=null&&Object.hasOwnProperty.call(tt,"MimeType")&&rt.uint32(10).string(tt.MimeType),rt},_e.decode=function(tt,rt){tt instanceof $Reader||(tt=$Reader.create(tt));for(var nt=rt===void 0?tt.len:tt.pos+rt,ot=new $root.Metadata;tt.pos<nt;){var st=tt.uint32();switch(st>>>3){case 1:ot.MimeType=tt.string();break;default:tt.skipType(st&7);break}}return ot},_e.fromObject=function(tt){if(tt instanceof $root.Metadata)return tt;var rt=new $root.Metadata;return tt.MimeType!=null&&(rt.MimeType=String(tt.MimeType)),rt},_e.toObject=function(tt,rt){rt||(rt={});var nt={};return rt.defaults&&(nt.MimeType=""),tt.MimeType!=null&&tt.hasOwnProperty("MimeType")&&(nt.MimeType=tt.MimeType),nt},_e.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},_e})();const NodeType=Data.DataType,EMPTY$1=Object.freeze([]),EMPTY_BUFFER=new Uint8Array(0),BLANK=Object.freeze({}),DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8),code=code$1,name$1="UnixFS",encodePB=(_e,et)=>(Object(globalThis).debug&&console.log({data:_e,links:et}),encode$3(prepare({Data:Data.encode(_e).finish(),Links:et}))),createRaw=_e=>({type:NodeType.Raw,content:_e}),createEmptyFile=_e=>createSimpleFile(EMPTY_BUFFER,_e),createSimpleFile=(_e,et)=>({type:NodeType.File,layout:"simple",content:_e,metadata:decodeMetadata(et)}),createFileChunk=_e=>({type:NodeType.File,layout:"simple",content:_e}),createAdvancedFile=(_e,et)=>({type:NodeType.File,layout:"advanced",parts:_e,metadata:decodeMetadata(et)}),createFileShard=_e=>({type:NodeType.File,layout:"advanced",parts:_e}),createComplexFile=(_e,et,tt)=>({type:NodeType.File,layout:"complex",content:_e,parts:et,metadata:decodeMetadata(tt)}),createFlatDirectory=(_e,et)=>({type:NodeType.Directory,metadata:decodeMetadata(et),entries:_e}),createShardedDirectory=(_e,et,tt,rt,nt=BLANK)=>({type:NodeType.HAMTShard,bitfield:et,fanout:readFanout(tt),hashType:readInt(rt),entries:_e,metadata:decodeMetadata(nt)}),createDirectoryShard=(_e,et,tt,rt)=>({type:NodeType.HAMTShard,bitfield:et,fanout:readFanout(tt),hashType:readInt(rt),entries:_e}),encodeRaw=_e=>encodePB({Type:NodeType.Raw,Data:_e.byteLength>0?_e:void 0,filesize:_e.byteLength,blocksizes:EMPTY$1},[]),encodeFile=(_e,et=!1)=>{const tt=et?BLANK:Object(_e).metadata;switch(_e.layout){case"simple":return encodeSimpleFile(_e.content,tt);case"advanced":return encodeAdvancedFile(_e.parts,tt);case"complex":return encodeComplexFile(_e.content,_e.parts,tt);default:throw new TypeError(`File with unknown layout "${Object(_e).layout}" was passed`)}},encodeFileChunk=_e=>encodeSimpleFile(_e,BLANK),encodeFileShard=_e=>encodePB({Type:NodeType.File,blocksizes:_e.map(contentByteLength),filesize:cumulativeContentByteLength(_e)},_e.map(encodeLink)),encodeAdvancedFile=(_e,et=BLANK)=>encodePB({Type:NodeType.File,blocksizes:_e.map(contentByteLength),filesize:cumulativeContentByteLength(_e),...encodeMetadata(et)},_e.map(encodeLink)),encodeLink=_e=>({Name:"",Tsize:_e.dagByteLength,Hash:_e.cid}),encodeSimpleFile=(_e,et=BLANK)=>encodePB({Type:NodeType.File,Data:_e.byteLength>0?_e:void 0,filesize:_e.byteLength,blocksizes:[],...encodeMetadata(et)},[]),encodeComplexFile=(_e,et,tt=BLANK)=>encodePB({Type:NodeType.File,Data:_e,filesize:_e.byteLength+cumulativeContentByteLength(et),blocksizes:et.map(contentByteLength)},et.map(encodeLink)),encodeDirectory=_e=>encodePB({Type:_e.type,...encodeDirectoryMetadata(_e.metadata||BLANK)},_e.entries.map(encodeNamedLink)),encodeHAMTShard=({bitfield:_e,fanout:et,hashType:tt,entries:rt,metadata:nt=BLANK})=>encodePB({Type:NodeType.HAMTShard,Data:_e.byteLength>0?_e:void 0,fanout:readFanout(et),hashType:readInt(tt),...encodeDirectoryMetadata(nt)},rt.map(encodeNamedLink)),readFanout=_e=>{if(Math.log2(_e)%1===0)return _e;throw new TypeError(`Expected hamt size to be a power of two instead got ${_e}`)},readInt=_e=>{if(Number.isInteger(_e))return _e;throw new TypeError(`Expected an integer value instead got ${_e}`)},createSymlink=(_e,et=BLANK)=>({type:NodeType.Symlink,content:_e,metadata:decodeMetadata(et)}),encodeSymlink=(_e,et=!1)=>{const tt=et?BLANK:Object(_e).metadata;return encodePB({Type:NodeType.Symlink,Data:_e.content,...encodeMetadata(tt||BLANK)},[])},encode$2=(_e,et=!0)=>{switch(_e.type){case NodeType.Raw:return encodeRaw(_e.content);case NodeType.File:return encodeFile(_e);case NodeType.Directory:return encodeDirectory(_e);case NodeType.HAMTShard:return encodeHAMTShard(_e);case NodeType.Symlink:return encodeSymlink(_e);default:throw new Error(`Unknown node type ${Object(_e).type}`)}},decode$1=_e=>{const et=decode$2(_e),tt=Data.decode(et.Data),{Type:rt,Data:nt,mtime:ot,mode:st,blocksizes:at,...ct}=Data.toObject(tt,{defaults:!1,arrays:!0,longs:Number,objects:!1}),lt={...st&&{mode:st},...decodeMtime(ot)},dt=et.Links;switch(tt.Type){case NodeType.Raw:return createRaw(nt);case NodeType.File:return dt.length===0?new SimpleFileView(nt,lt):nt.byteLength===0?new AdvancedFileView(decodeFileLinks(ct.blocksizes,dt),lt):new ComplexFileView(nt,decodeFileLinks(ct.blocksizes,dt),lt);case NodeType.Directory:return createFlatDirectory(decodeDirectoryLinks(dt),lt);case NodeType.HAMTShard:return createShardedDirectory(decodeDirectoryLinks(dt),nt||EMPTY_BUFFER,ct.fanout,ct.hashType,lt);case NodeType.Symlink:return createSymlink(nt,lt);default:throw new TypeError(`Unsupported node type ${tt.Type}`)}},decodeMtime=_e=>_e==null?void 0:{mtime:{secs:_e.Seconds,nsecs:_e.FractionalNanoseconds||0}},decodeFileLinks=(_e,et)=>{const tt=[],rt=_e.length;let nt=0;for(;nt<rt;)tt.push({cid:et[nt].Hash,dagByteLength:et[nt].Tsize||0,contentByteLength:_e[nt]});return tt},decodeDirectoryLinks=_e=>_e.map(et=>({cid:et.Hash,name:et.Name||"",dagByteLength:et.Tsize||0})),cumulativeContentByteLength=_e=>_e.reduce((et,tt)=>et+tt.contentByteLength,0),cumulativeDagByteLength=(_e,et)=>et.reduce((tt,rt)=>tt+rt.dagByteLength,_e.byteLength),contentByteLength=_e=>_e.contentByteLength,encodeNamedLink=({name:_e,dagByteLength:et,cid:tt})=>({Name:_e,Tsize:et,Hash:tt}),encodeDirectoryMetadata=_e=>encodeMetadata(_e,DEFAULT_DIRECTORY_MODE),encodeMetadata=({mode:_e,mtime:et},tt=DEFAULT_FILE_MODE)=>({mode:_e!=null?encodeMode(_e,tt):void 0,mtime:et!=null?encodeMTime(et):void 0}),decodeMetadata=_e=>_e==null?BLANK:{..._e.mode==null?void 0:{mode:decodeMode(_e.mode)},..._e.mtime==null?void 0:{mtime:_e.mtime}},encodeMTime=_e=>_e==null?void 0:_e.nsecs!==0?{Seconds:_e.secs,FractionalNanoseconds:_e.nsecs}:{Seconds:_e.secs},encodeMode=(_e,et)=>{const tt=_e==null?void 0:decodeMode(_e);return tt===et||tt==null?void 0:tt},decodeMode=_e=>_e&4095|_e&4294963200,matchFile=({content:_e=EMPTY_BUFFER,parts:et=EMPTY$1,metadata:tt=BLANK,...rt})=>et.length===0?new SimpleFileView(_e,tt):_e.byteLength===0?new AdvancedFileView(et,tt):new ComplexFileView(_e,et,tt);class SimpleFileView{constructor(et,tt){this.content=et,this.metadata=tt,this.layout="simple",this.type=NodeType.File}get filesize(){return this.content.byteLength}encode(){return encodeSimpleFile(this.content,this.metadata)}}class AdvancedFileView{constructor(et,tt){this.parts=et,this.metadata=tt}get layout(){return"advanced"}get type(){return NodeType.File}get fileSize(){return cumulativeContentByteLength(this.parts)}get blockSizes(){return this.parts.map(contentByteLength)}encode(){return encodeAdvancedFile(this.parts,this.metadata)}}class ComplexFileView{constructor(et,tt,rt){this.content=et,this.parts=tt,this.metadata=rt}get layout(){return"complex"}get type(){return NodeType.File}get fileSize(){return this.content.byteLength+cumulativeContentByteLength(this.parts)}get blockSizes(){return this.parts.map(contentByteLength)}encode(){return encodeComplexFile(this.content,this.parts,this.metadata)}}const filesize=_e=>{switch(_e.type){case NodeType.Raw:case NodeType.Symlink:return _e.content.byteLength;case NodeType.File:switch(_e.layout){case"simple":return _e.content.byteLength;case"advanced":return cumulativeContentByteLength(_e.parts);case"complex":return _e.content.byteLength+cumulativeContentByteLength(_e.parts)}default:return 0}},UnixFS=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_DIRECTORY_MODE,DEFAULT_FILE_MODE,NodeType,code,createAdvancedFile,createComplexFile,createDirectoryShard,createEmptyFile,createFileChunk,createFileShard,createFlatDirectory,createRaw,createShardedDirectory,createSimpleFile,createSymlink,cumulativeContentByteLength,cumulativeDagByteLength,decode:decode$1,decodeMetadata,encode:encode$2,encodeAdvancedFile,encodeComplexFile,encodeDirectory,encodeDirectoryMetadata,encodeFile,encodeFileChunk,encodeFileShard,encodeHAMTShard,encodeLink,encodeMetadata,encodeMode,encodeRaw,encodeSimpleFile,encodeSymlink,filesize,matchFile,name:name$1},Symbol.toStringTag,{value:"Module"}));function Indexed(){}Object.defineProperties(Indexed,{prototype:{value:new Proxy(Object.prototype,{get(_e,et,tt){return typeof et=="symbol"?Reflect.get(_e,et,tt):tt.get(et)}})}});const name="fixed",context={maxChunkSize:262144},type="Stateless",withMaxChunkSize=_e=>({type:"Stateless",context:{maxChunkSize:_e},name,cut}),cut=({maxChunkSize:_e},{byteLength:et},tt)=>{const rt=et/_e|0,nt=new Array(rt).fill(_e),ot=tt?et-rt*_e:0;return ot>0&&nt.push(ot),nt},FixedSize=Object.freeze(Object.defineProperty({__proto__:null,context,cut,name,type,withMaxChunkSize},Symbol.toStringTag,{value:"Module"}));class Node{constructor(et,tt,rt){this.id=et,this.children=tt,this.metadata=rt}}const withWidth=_e=>({open:()=>open({width:_e}),write,close}),defaults$1={width:174},open=({width:_e}=defaults$1)=>({width:_e,head:null,leafIndex:[],nodeIndex:[],lastID:0}),write=(_e,et)=>{if(et.length===0)return{layout:_e,nodes:EMPTY,leaves:EMPTY};{let{lastID:tt}=_e;const[rt,nt]=_e.head?[null,(et.unshift(_e.head),et)]:et.length===1&&_e.leafIndex.length===0?[et[0],EMPTY]:[null,et];if(nt.length===0)return{layout:{..._e,head:rt},nodes:EMPTY,leaves:EMPTY};{const ot=[..._e.leafIndex],st=[];for(const at of nt){const ct={id:++tt,content:at};st.push(ct),ot.push(ct.id)}return ot.length>_e.width?flush({..._e,leafIndex:ot,head:rt,lastID:tt},st):{layout:{..._e,head:rt,leafIndex:ot,lastID:tt},leaves:st,nodes:EMPTY}}}},flush=(_e,et=EMPTY,tt=[],rt=!1)=>{let{lastID:nt}=_e;const ot=_e.nodeIndex.map(lt=>[...lt]),st=[..._e.leafIndex],{width:at}=_e;for(;st.length>at||st.length>0&&rt;){grow(ot,1);const lt=new Node(++nt,st.splice(0,at));ot[0].push(lt.id),tt.push(lt)}let ct=0;for(;ct<ot.length;){const lt=ot[ct];for(ct++;lt.length>at||lt.length>0&&rt&&ct<ot.length;){const dt=new Node(++nt,lt.splice(0,at));grow(ot,ct+1),ot[ct].push(dt.id),tt.push(dt)}}return{layout:{..._e,lastID:nt,leafIndex:st,nodeIndex:ot},leaves:et,nodes:tt}},close=(_e,et)=>{const tt=_e;if(_e.head)return{root:{id:1,content:_e.head,metadata:et},leaves:EMPTY,nodes:EMPTY};if(_e.leafIndex.length===0)return{root:{id:1,metadata:et},leaves:EMPTY,nodes:EMPTY};{const{nodes:rt,layout:nt}=flush(tt,EMPTY,[],!0),{nodeIndex:ot}=nt,st=ot.length-1,at=ot[st];if(at.length===1){const ct=rt[rt.length-1];return rt.length=rt.length-1,{root:ct,nodes:rt,leaves:EMPTY}}else return{root:new Node(nt.lastID+1,at,et),nodes:rt,leaves:EMPTY}}},grow=(_e,et)=>{for(;_e.length<et;)_e.push([]);return _e},EMPTY=[],defaults=()=>({chunker:FixedSize,fileChunkEncoder:UnixFSLeaf,smallFileEncoder:UnixFSLeaf,fileEncoder:UnixFS,fileLayout:withWidth(174),hasher:sha256,linker:{createLink:CID.createV1}}),configure$1=_e=>({...defaults(),..._e}),UnixFSLeaf={code,name:name$1,encode:encodeFileChunk};var murmurHash3js={exports:{}};(function(_e,et){(function(tt,rt){var nt={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function ot(mt){if(!Array.isArray(mt)&&!ArrayBuffer.isView(mt))return!1;for(var vt=0;vt<mt.length;vt++)if(!Number.isInteger(mt[vt])||mt[vt]<0||mt[vt]>255)return!1;return!0}function st(mt,vt){return(mt&65535)*vt+(((mt>>>16)*vt&65535)<<16)}function at(mt,vt){return mt<<vt|mt>>>32-vt}function ct(mt){return mt^=mt>>>16,mt=st(mt,2246822507),mt^=mt>>>13,mt=st(mt,3266489909),mt^=mt>>>16,mt}function lt(mt,vt){mt=[mt[0]>>>16,mt[0]&65535,mt[1]>>>16,mt[1]&65535],vt=[vt[0]>>>16,vt[0]&65535,vt[1]>>>16,vt[1]&65535];var yt=[0,0,0,0];return yt[3]+=mt[3]+vt[3],yt[2]+=yt[3]>>>16,yt[3]&=65535,yt[2]+=mt[2]+vt[2],yt[1]+=yt[2]>>>16,yt[2]&=65535,yt[1]+=mt[1]+vt[1],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[0]+=mt[0]+vt[0],yt[0]&=65535,[yt[0]<<16|yt[1],yt[2]<<16|yt[3]]}function dt(mt,vt){mt=[mt[0]>>>16,mt[0]&65535,mt[1]>>>16,mt[1]&65535],vt=[vt[0]>>>16,vt[0]&65535,vt[1]>>>16,vt[1]&65535];var yt=[0,0,0,0];return yt[3]+=mt[3]*vt[3],yt[2]+=yt[3]>>>16,yt[3]&=65535,yt[2]+=mt[2]*vt[3],yt[1]+=yt[2]>>>16,yt[2]&=65535,yt[2]+=mt[3]*vt[2],yt[1]+=yt[2]>>>16,yt[2]&=65535,yt[1]+=mt[1]*vt[3],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[1]+=mt[2]*vt[2],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[1]+=mt[3]*vt[1],yt[0]+=yt[1]>>>16,yt[1]&=65535,yt[0]+=mt[0]*vt[3]+mt[1]*vt[2]+mt[2]*vt[1]+mt[3]*vt[0],yt[0]&=65535,[yt[0]<<16|yt[1],yt[2]<<16|yt[3]]}function ft(mt,vt){return vt%=64,vt===32?[mt[1],mt[0]]:vt<32?[mt[0]<<vt|mt[1]>>>32-vt,mt[1]<<vt|mt[0]>>>32-vt]:(vt-=32,[mt[1]<<vt|mt[0]>>>32-vt,mt[0]<<vt|mt[1]>>>32-vt])}function ht(mt,vt){return vt%=64,vt===0?mt:vt<32?[mt[0]<<vt|mt[1]>>>32-vt,mt[1]<<vt]:[mt[1]<<vt-32,0]}function pt(mt,vt){return[mt[0]^vt[0],mt[1]^vt[1]]}function gt(mt){return mt=pt(mt,[0,mt[0]>>>1]),mt=dt(mt,[4283543511,3981806797]),mt=pt(mt,[0,mt[0]>>>1]),mt=dt(mt,[3301882366,444984403]),mt=pt(mt,[0,mt[0]>>>1]),mt}nt.x86.hash32=function(mt,vt){if(nt.inputValidation&&!ot(mt))return rt;vt=vt||0;for(var yt=mt.length%4,bt=mt.length-yt,xt=vt,wt=0,At=3432918353,St=461845907,$t=0;$t<bt;$t=$t+4)wt=mt[$t]|mt[$t+1]<<8|mt[$t+2]<<16|mt[$t+3]<<24,wt=st(wt,At),wt=at(wt,15),wt=st(wt,St),xt^=wt,xt=at(xt,13),xt=st(xt,5)+3864292196;switch(wt=0,yt){case 3:wt^=mt[$t+2]<<16;case 2:wt^=mt[$t+1]<<8;case 1:wt^=mt[$t],wt=st(wt,At),wt=at(wt,15),wt=st(wt,St),xt^=wt}return xt^=mt.length,xt=ct(xt),xt>>>0},nt.x86.hash128=function(mt,vt){if(nt.inputValidation&&!ot(mt))return rt;vt=vt||0;for(var yt=mt.length%16,bt=mt.length-yt,xt=vt,wt=vt,At=vt,St=vt,$t=0,kt=0,Ct=0,_t=0,Tt=597399067,jt=2869860233,Bt=951274213,Gt=2716044179,Rt=0;Rt<bt;Rt=Rt+16)$t=mt[Rt]|mt[Rt+1]<<8|mt[Rt+2]<<16|mt[Rt+3]<<24,kt=mt[Rt+4]|mt[Rt+5]<<8|mt[Rt+6]<<16|mt[Rt+7]<<24,Ct=mt[Rt+8]|mt[Rt+9]<<8|mt[Rt+10]<<16|mt[Rt+11]<<24,_t=mt[Rt+12]|mt[Rt+13]<<8|mt[Rt+14]<<16|mt[Rt+15]<<24,$t=st($t,Tt),$t=at($t,15),$t=st($t,jt),xt^=$t,xt=at(xt,19),xt+=wt,xt=st(xt,5)+1444728091,kt=st(kt,jt),kt=at(kt,16),kt=st(kt,Bt),wt^=kt,wt=at(wt,17),wt+=At,wt=st(wt,5)+197830471,Ct=st(Ct,Bt),Ct=at(Ct,17),Ct=st(Ct,Gt),At^=Ct,At=at(At,15),At+=St,At=st(At,5)+2530024501,_t=st(_t,Gt),_t=at(_t,18),_t=st(_t,Tt),St^=_t,St=at(St,13),St+=xt,St=st(St,5)+850148119;switch($t=0,kt=0,Ct=0,_t=0,yt){case 15:_t^=mt[Rt+14]<<16;case 14:_t^=mt[Rt+13]<<8;case 13:_t^=mt[Rt+12],_t=st(_t,Gt),_t=at(_t,18),_t=st(_t,Tt),St^=_t;case 12:Ct^=mt[Rt+11]<<24;case 11:Ct^=mt[Rt+10]<<16;case 10:Ct^=mt[Rt+9]<<8;case 9:Ct^=mt[Rt+8],Ct=st(Ct,Bt),Ct=at(Ct,17),Ct=st(Ct,Gt),At^=Ct;case 8:kt^=mt[Rt+7]<<24;case 7:kt^=mt[Rt+6]<<16;case 6:kt^=mt[Rt+5]<<8;case 5:kt^=mt[Rt+4],kt=st(kt,jt),kt=at(kt,16),kt=st(kt,Bt),wt^=kt;case 4:$t^=mt[Rt+3]<<24;case 3:$t^=mt[Rt+2]<<16;case 2:$t^=mt[Rt+1]<<8;case 1:$t^=mt[Rt],$t=st($t,Tt),$t=at($t,15),$t=st($t,jt),xt^=$t}return xt^=mt.length,wt^=mt.length,At^=mt.length,St^=mt.length,xt+=wt,xt+=At,xt+=St,wt+=xt,At+=xt,St+=xt,xt=ct(xt),wt=ct(wt),At=ct(At),St=ct(St),xt+=wt,xt+=At,xt+=St,wt+=xt,At+=xt,St+=xt,("00000000"+(xt>>>0).toString(16)).slice(-8)+("00000000"+(wt>>>0).toString(16)).slice(-8)+("00000000"+(At>>>0).toString(16)).slice(-8)+("00000000"+(St>>>0).toString(16)).slice(-8)},nt.x64.hash128=function(mt,vt){if(nt.inputValidation&&!ot(mt))return rt;vt=vt||0;for(var yt=mt.length%16,bt=mt.length-yt,xt=[0,vt],wt=[0,vt],At=[0,0],St=[0,0],$t=[2277735313,289559509],kt=[1291169091,658871167],Ct=0;Ct<bt;Ct=Ct+16)At=[mt[Ct+4]|mt[Ct+5]<<8|mt[Ct+6]<<16|mt[Ct+7]<<24,mt[Ct]|mt[Ct+1]<<8|mt[Ct+2]<<16|mt[Ct+3]<<24],St=[mt[Ct+12]|mt[Ct+13]<<8|mt[Ct+14]<<16|mt[Ct+15]<<24,mt[Ct+8]|mt[Ct+9]<<8|mt[Ct+10]<<16|mt[Ct+11]<<24],At=dt(At,$t),At=ft(At,31),At=dt(At,kt),xt=pt(xt,At),xt=ft(xt,27),xt=lt(xt,wt),xt=lt(dt(xt,[0,5]),[0,1390208809]),St=dt(St,kt),St=ft(St,33),St=dt(St,$t),wt=pt(wt,St),wt=ft(wt,31),wt=lt(wt,xt),wt=lt(dt(wt,[0,5]),[0,944331445]);switch(At=[0,0],St=[0,0],yt){case 15:St=pt(St,ht([0,mt[Ct+14]],48));case 14:St=pt(St,ht([0,mt[Ct+13]],40));case 13:St=pt(St,ht([0,mt[Ct+12]],32));case 12:St=pt(St,ht([0,mt[Ct+11]],24));case 11:St=pt(St,ht([0,mt[Ct+10]],16));case 10:St=pt(St,ht([0,mt[Ct+9]],8));case 9:St=pt(St,[0,mt[Ct+8]]),St=dt(St,kt),St=ft(St,33),St=dt(St,$t),wt=pt(wt,St);case 8:At=pt(At,ht([0,mt[Ct+7]],56));case 7:At=pt(At,ht([0,mt[Ct+6]],48));case 6:At=pt(At,ht([0,mt[Ct+5]],40));case 5:At=pt(At,ht([0,mt[Ct+4]],32));case 4:At=pt(At,ht([0,mt[Ct+3]],24));case 3:At=pt(At,ht([0,mt[Ct+2]],16));case 2:At=pt(At,ht([0,mt[Ct+1]],8));case 1:At=pt(At,[0,mt[Ct]]),At=dt(At,$t),At=ft(At,31),At=dt(At,kt),xt=pt(xt,At)}return xt=pt(xt,[0,mt.length]),wt=pt(wt,[0,mt.length]),xt=lt(xt,wt),wt=lt(wt,xt),xt=gt(xt),wt=gt(wt),xt=lt(xt,wt),wt=lt(wt,xt),("00000000"+(xt[0]>>>0).toString(16)).slice(-8)+("00000000"+(xt[1]>>>0).toString(16)).slice(-8)+("00000000"+(wt[0]>>>0).toString(16)).slice(-8)+("00000000"+(wt[1]>>>0).toString(16)).slice(-8)},_e.exports&&(et=_e.exports=nt),et.murmurHash3=nt})()})(murmurHash3js,murmurHash3js.exports);var murmurHash3jsExports=murmurHash3js.exports,murmurhash3jsRevisited=murmurHash3jsExports;const mur=getDefaultExportFromCjs(murmurhash3jsRevisited);new TextEncoder;mur.x64.hash126;const murmur364=from$5({name:"murmur3-x64-64",code:34,encode:_e=>fromHex(mur.x64.hash128(_e)).subarray(0,8)});new TextEncoder;const toInt=(_e,et,tt)=>{let rt=et/8|0,nt=et%8,ot=tt,st=0;for(;ot>0&&rt<_e.byteLength;){const at=_e[rt],ct=8-nt,lt=ct<ot?ct:ot,dt=8-nt-lt,ht=(255>>nt&at)>>dt;st=(st<<lt)+ht,ot-=lt,rt++,nt=0}return st},utf8=new TextEncoder,hash64=_e=>murmur364.encode(_e),configure=({bitWidth:_e=8,hash:et=hash64})=>{const tt=et(new Uint8Array).byteLength,rt={bitWidth:_e,hash:et,hashSize:tt};return{at:(st,at)=>read(st,at,rt),from:st=>utf8.encode(st),size:1/0}},read=(_e,et=0,{bitWidth:tt=8,hash:rt,hashSize:nt})=>{const ot=nt*8;let st=0,at=tt,ct=tt*et;for(;at>0;){const lt=ct/ot>>0,dt=rt(lt===0?_e:appendByte(_e,lt)),ft=ot<=ct?ct%ot:ct,ht=ot-ft,pt=ht<at?ht:at;st=(st<<pt)+toInt(dt,ft,pt),at-=pt,ct+=pt}return st},appendByte=(_e,et)=>{const tt=new Uint8Array(_e.byteLength+1).fill(et,_e.byteLength);return tt.set(_e),tt},bitWidth=8;configure({bitWidth});configure$1({fileChunkEncoder:raw,smallFileEncoder:raw,chunker:withMaxChunkSize(1024*1024),fileLayout:withWidth(1024)});async function readHeader(_e,et){const tt=decodeVarint$1(await _e.upTo(8),_e);if(tt===0)throw new Error("Invalid CAR header (zero length)");const rt=await _e.exactly(tt,!0),nt=decode$j(rt);if(CarV1HeaderOrV2Pragma.toTyped(nt)===void 0)throw new Error("Invalid CAR header format");if(nt.version!==1&&nt.version!==2||et!==void 0&&nt.version!==et)throw new Error(`Invalid CAR version: ${nt.version}${et!==void 0?` (expected ${et})`:""}`);if(nt.version===1){if(!Array.isArray(nt.roots))throw new Error("Invalid CAR header format");return nt}if(nt.roots!==void 0)throw new Error("Invalid CAR header format");const ot=decodeV2Header(await _e.exactly(V2_HEADER_LENGTH,!0));_e.seek(ot.dataOffset-_e.pos);const st=await readHeader(_e,1);return Object.assign(st,ot)}function bytesReader(_e){let et=0;return{async upTo(tt){return _e.subarray(et,et+Math.min(tt,_e.length-et))},async exactly(tt,rt=!1){if(tt>_e.length-et)throw new Error("Unexpected end of data");const nt=_e.subarray(et,et+tt);return rt&&(et+=tt),nt},seek(tt){et+=tt},get pos(){return et}}}const CAR_V1_VERSION=1;function createHeader(_e){const et=encode$j({version:CAR_V1_VERSION,roots:_e}),tt=varint$1.encode(et.length),rt=new Uint8Array(tt.length+et.length);return rt.set(tt,0),rt.set(et,tt.length),rt}function createEncoder(_e){return{async setRoots(et){const tt=createHeader(et);await _e.write(tt)},async writeBlock(et){const{cid:tt,bytes:rt}=et;await _e.write(new Uint8Array(varint$1.encode(tt.bytes.length+rt.length))),await _e.write(tt.bytes),rt.length&&await _e.write(rt)},async close(){await _e.end()},version(){return CAR_V1_VERSION}}}function noop(){}function create(){const _e=[];let et=null,tt=noop,rt=!1,nt=null,ot=noop;const st=()=>(et||(et=new Promise(lt=>{tt=()=>{et=null,tt=noop,lt()}})),et),at={write(lt){_e.push(lt);const dt=st();return ot(),dt},async end(){rt=!0;const lt=st();ot(),await lt}},ct={async next(){const lt=_e.shift();return lt?(_e.length===0&&tt(),{done:!1,value:lt}):rt?(tt(),{done:!0,value:void 0}):(nt||(nt=new Promise(dt=>{ot=()=>(nt=null,ot=noop,dt(ct.next()))})),nt)}};return{writer:at,iterator:ct}}class CarWriter{constructor(et,tt){this._encoder=tt,this._mutex=tt.setRoots(et),this._ended=!1}async put(et){if(!(et.bytes instanceof Uint8Array)||!et.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const tt=CID.asCID(et.cid);if(!tt)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:tt,bytes:et.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}version(){return this._encoder.version()}static create(et){et=toRoots(et);const{encoder:tt,iterator:rt}=encodeWriter(),nt=new CarWriter(et,tt),ot=new CarWriterOut(rt);return{writer:nt,out:ot}}static createAppender(){const{encoder:et,iterator:tt}=encodeWriter();et.setRoots=()=>Promise.resolve();const rt=new CarWriter([],et),nt=new CarWriterOut(tt);return{writer:rt,out:nt}}static async updateRootsInBytes(et,tt){const rt=bytesReader(et);await readHeader(rt);const nt=createHeader(tt);if(Number(rt.pos)!==nt.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${rt.pos} bytes, new header is ${nt.length} bytes)`);return et.set(nt,0),et}}class CarWriterOut{constructor(et){this._iterator=et}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const _e=create(),{writer:et,iterator:tt}=_e;return{encoder:createEncoder(et),iterator:tt}}function toRoots(_e){if(_e===void 0)return[];if(!Array.isArray(_e)){const tt=CID.asCID(_e);if(!tt)throw new TypeError("roots must be a single CID or an array of CIDs");return[tt]}const et=[];for(const tt of _e){const rt=CID.asCID(tt);if(!rt)throw new TypeError("roots must be a single CID or an array of CIDs");et.push(rt)}return et}const NO_ROOTS_HEADER_LENGTH=18;function headerEncodingLength(_e){if(!_e)return NO_ROOTS_HEADER_LENGTH;const et=encode$j({version:1,roots:[_e]}).length;return varint$1.encodingLength(et)+et}function blockHeaderEncodingLength(_e){const et=_e.cid.bytes.length+_e.bytes.length;return varint$1.encodingLength(et)+_e.cid.bytes.length}function blockEncodingLength(_e){return blockHeaderEncodingLength(_e)+_e.bytes.length}async function encode$1(_e,et){const{writer:tt,out:rt}=CarWriter.create(et);let nt;(async()=>{try{for await(const at of _e)await tt.put(at)}catch(at){nt=at}finally{await tt.close()}})();const ot=[];for await(const at of rt)ot.push(at);if(nt!=null)throw nt;const st=et!=null?[et]:[];return Object.assign(new Blob(ot),{version:1,roots:st})}class BlockDeduplicationStream extends TransformStream{constructor(){const et=new Set;super({transform(tt,rt){const nt=tt.cid.toString();et.has(nt)||(et.add(nt),rt.enqueue(tt))},flush(){et.clear()}})}}const cache=new WeakMap,toBase58String=_e=>{let et=cache.get(_e.bytes);return et||(et=base58btc.encode(_e.bytes),cache.set(_e.bytes,et)),et};var xr;class DigestMap{constructor(et){Ot(this,xr);Pt(this,xr,new Map);for(const[tt,rt]of et??[])this.set(tt,rt)}get[Symbol.toStringTag](){return"DigestMap"}clear(){Et(this,xr).clear()}delete(et){const tt=toBase58String(et);return Et(this,xr).delete(tt)}forEach(et,tt){for(const[rt,nt]of Et(this,xr).values())et.call(tt,nt,rt,this)}get(et){const tt=Et(this,xr).get(toBase58String(et));if(tt)return tt[1]}has(et){return Et(this,xr).has(toBase58String(et))}set(et,tt){return Et(this,xr).set(toBase58String(et),[et,tt]),this}get size(){return Et(this,xr).size}[Symbol.iterator](){return this.entries()}*entries(){yield*Et(this,xr).values()}*keys(){for(const[et]of Et(this,xr).values())yield et}*values(){for(const[,et]of Et(this,xr).values())yield et}}xr=new WeakMap;const version="index/sharded/dag@0.1";variant({[version]:struct({content:match$3(),shards:array(match$3())})});const symbol=Symbol.for("@achingbrain/uint8arraylist");function findBufAndOffset(_e,et){if(et==null||et<0)throw new RangeError("index is out of bounds");let tt=0;for(const rt of _e){const nt=tt+rt.byteLength;if(et<nt)return{buf:rt,index:et-tt};tt=nt}throw new RangeError("index is out of bounds")}function isUint8ArrayList(_e){return!!(_e!=null&&_e[symbol])}var Ys;class Uint8ArrayList{constructor(...et){Nt(this,"bufs");Nt(this,"length");Nt(this,Ys,!0);this.bufs=[],this.length=0,et.length>0&&this.appendAll(et)}*[(Ys=symbol,Symbol.iterator)](){yield*this.bufs}get byteLength(){return this.length}append(...et){this.appendAll(et)}appendAll(et){let tt=0;for(const rt of et)if(rt instanceof Uint8Array)tt+=rt.byteLength,this.bufs.push(rt);else if(isUint8ArrayList(rt))tt+=rt.byteLength,this.bufs.push(...rt.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=tt}prepend(...et){this.prependAll(et)}prependAll(et){let tt=0;for(const rt of et.reverse())if(rt instanceof Uint8Array)tt+=rt.byteLength,this.bufs.unshift(rt);else if(isUint8ArrayList(rt))tt+=rt.byteLength,this.bufs.unshift(...rt.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=tt}get(et){const tt=findBufAndOffset(this.bufs,et);return tt.buf[tt.index]}set(et,tt){const rt=findBufAndOffset(this.bufs,et);rt.buf[rt.index]=tt}write(et,tt=0){if(et instanceof Uint8Array)for(let rt=0;rt<et.length;rt++)this.set(tt+rt,et[rt]);else if(isUint8ArrayList(et))for(let rt=0;rt<et.length;rt++)this.set(tt+rt,et.get(rt));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(et){if(et=Math.trunc(et),!(Number.isNaN(et)||et<=0)){if(et===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(et>=this.bufs[0].byteLength)et-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(et),this.length-=et;break}}}slice(et,tt){const{bufs:rt,length:nt}=this._subList(et,tt);return concat(rt,nt)}subarray(et,tt){const{bufs:rt,length:nt}=this._subList(et,tt);return rt.length===1?rt[0]:concat(rt,nt)}sublist(et,tt){const{bufs:rt,length:nt}=this._subList(et,tt),ot=new Uint8ArrayList;return ot.length=nt,ot.bufs=[...rt],ot}_subList(et,tt){if(et=et??0,tt=tt??this.length,et<0&&(et=this.length+et),tt<0&&(tt=this.length+tt),et<0||tt>this.length)throw new RangeError("index is out of bounds");if(et===tt)return{bufs:[],length:0};if(et===0&&tt===this.length)return{bufs:this.bufs,length:this.length};const rt=[];let nt=0;for(let ot=0;ot<this.bufs.length;ot++){const st=this.bufs[ot],at=nt,ct=at+st.byteLength;if(nt=ct,et>=ct)continue;const lt=et>=at&&et<ct,dt=tt>at&&tt<=ct;if(lt&&dt){if(et===at&&tt===ct){rt.push(st);break}const ft=et-at;rt.push(st.subarray(ft,ft+(tt-et)));break}if(lt){if(et===0){rt.push(st);continue}rt.push(st.subarray(et-at));continue}if(dt){if(tt===ct){rt.push(st);break}rt.push(st.subarray(0,tt-at));break}rt.push(st)}return{bufs:rt,length:tt-et}}indexOf(et,tt=0){if(!isUint8ArrayList(et)&&!(et instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const rt=et instanceof Uint8Array?et:et.subarray();if(tt=Number(tt??0),isNaN(tt)&&(tt=0),tt<0&&(tt=this.length+tt),tt<0&&(tt=0),et.length===0)return tt>this.length?this.length:tt;const nt=rt.byteLength;if(nt===0)throw new TypeError("search must be at least 1 byte long");const ot=256,st=new Int32Array(ot);for(let ft=0;ft<ot;ft++)st[ft]=-1;for(let ft=0;ft<nt;ft++)st[rt[ft]]=ft;const at=st,ct=this.byteLength-rt.byteLength,lt=rt.byteLength-1;let dt;for(let ft=tt;ft<=ct;ft+=dt){dt=0;for(let ht=lt;ht>=0;ht--){const pt=this.get(ft+ht);if(rt[ht]!==pt){dt=Math.max(1,ht-at[pt]);break}}if(dt===0)return ft}return-1}getInt8(et){const tt=this.subarray(et,et+1);return new DataView(tt.buffer,tt.byteOffset,tt.byteLength).getInt8(0)}setInt8(et,tt){const rt=allocUnsafe(1);new DataView(rt.buffer,rt.byteOffset,rt.byteLength).setInt8(0,tt),this.write(rt,et)}getInt16(et,tt){const rt=this.subarray(et,et+2);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getInt16(0,tt)}setInt16(et,tt,rt){const nt=alloc(2);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setInt16(0,tt,rt),this.write(nt,et)}getInt32(et,tt){const rt=this.subarray(et,et+4);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getInt32(0,tt)}setInt32(et,tt,rt){const nt=alloc(4);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setInt32(0,tt,rt),this.write(nt,et)}getBigInt64(et,tt){const rt=this.subarray(et,et+8);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getBigInt64(0,tt)}setBigInt64(et,tt,rt){const nt=alloc(8);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setBigInt64(0,tt,rt),this.write(nt,et)}getUint8(et){const tt=this.subarray(et,et+1);return new DataView(tt.buffer,tt.byteOffset,tt.byteLength).getUint8(0)}setUint8(et,tt){const rt=allocUnsafe(1);new DataView(rt.buffer,rt.byteOffset,rt.byteLength).setUint8(0,tt),this.write(rt,et)}getUint16(et,tt){const rt=this.subarray(et,et+2);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getUint16(0,tt)}setUint16(et,tt,rt){const nt=alloc(2);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setUint16(0,tt,rt),this.write(nt,et)}getUint32(et,tt){const rt=this.subarray(et,et+4);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getUint32(0,tt)}setUint32(et,tt,rt){const nt=alloc(4);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setUint32(0,tt,rt),this.write(nt,et)}getBigUint64(et,tt){const rt=this.subarray(et,et+8);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getBigUint64(0,tt)}setBigUint64(et,tt,rt){const nt=alloc(8);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setBigUint64(0,tt,rt),this.write(nt,et)}getFloat32(et,tt){const rt=this.subarray(et,et+4);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getFloat32(0,tt)}setFloat32(et,tt,rt){const nt=alloc(4);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setFloat32(0,tt,rt),this.write(nt,et)}getFloat64(et,tt){const rt=this.subarray(et,et+8);return new DataView(rt.buffer,rt.byteOffset,rt.byteLength).getFloat64(0,tt)}setFloat64(et,tt,rt){const nt=alloc(8);new DataView(nt.buffer,nt.byteOffset,nt.byteLength).setFloat64(0,tt,rt),this.write(nt,et)}equals(et){if(et==null||!(et instanceof Uint8ArrayList)||et.bufs.length!==this.bufs.length)return!1;for(let tt=0;tt<this.bufs.length;tt++)if(!equals$1(this.bufs[tt],et.bufs[tt]))return!1;return!0}static fromUint8Arrays(et,tt){const rt=new Uint8ArrayList;return rt.bufs=et,tt==null&&(tt=et.reduce((nt,ot)=>nt+ot.byteLength,0)),rt.length=tt,rt}}const MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31),encode=_e=>{const et=[];let tt=0;for(;_e>=INT;)et[tt++]=_e&255|MSB,_e/=128;for(;_e&MSBALL;)et[tt++]=_e&255|MSB,_e>>>=7;return et[tt]=_e|0,et},decode=(_e,et)=>{let tt=0;et=et||0;let rt=0,nt=et,ot;const st=_e.length;do{if(nt>=st||rt>49)throw new RangeError("Could not decode varint");ot=_e.get(nt++),tt+=rt<28?(ot&REST)<<rt:(ot&REST)*Math.pow(2,rt),rt+=7}while(ot>=MSB);return[tt,nt-et]},State={ReadHeaderLength:0,ReadHeader:1,ReadBlockLength:2,ReadBlock:3},CIDV0_BYTES={SHA2_256:18,LENGTH:32};var ps;class CARReaderStream extends TransformStream{constructor(tt,rt){const nt=new Uint8ArrayList;let ot=0,st=ot,at=8,ct=State.ReadHeaderLength,lt;const dt=new Promise(ft=>{lt=ft});super({transform(ft,ht){for(nt.append(ft);!(nt.length<at);)if(ct===State.ReadHeaderLength){const[pt,gt]=decode(nt);nt.consume(gt),st=ot,ot+=gt,ct=State.ReadHeader,at=pt}else if(ct===State.ReadHeader){const pt=decode$j(nt.slice(0,at));lt&&lt(pt),nt.consume(at),st=ot,ot+=at,ct=State.ReadBlockLength,at=8}else if(ct===State.ReadBlockLength){const[pt,gt]=decode(nt);nt.consume(gt),st=ot,ot+=gt,ct=State.ReadBlock,at=pt}else if(ct===State.ReadBlock){const pt=st,gt=ot-st+at;st=ot;let mt;if(nt.get(0)===CIDV0_BYTES.SHA2_256&&nt.get(1)===CIDV0_BYTES.LENGTH){const bt=nt.subarray(0,34),xt=decode$k(bt);mt=createLegacy(xt),nt.consume(34),ot+=34}else{const[bt,xt]=decode(nt);if(bt!==1)throw new Error(`unexpected CID version (${bt})`);nt.consume(xt),ot+=xt;const[wt,At]=decode(nt);nt.consume(At),ot+=At;const St=getMultihashLength(nt),$t=decode$k(nt.subarray(0,St));mt=create$6(wt,$t),nt.consume(St),ot+=St}const vt=at-(ot-st),yt=nt.subarray(0,vt);ht.enqueue({cid:mt,bytes:yt,offset:pt,length:gt,blockOffset:ot,blockLength:vt}),nt.consume(vt),st=ot,ot+=vt,ct=State.ReadBlockLength,at=8}},flush(ft){ct!==State.ReadBlockLength&&ft.error(new Error("unexpected end of data"))}},tt,rt??new CountQueuingStrategy({highWaterMark:1}));Ot(this,ps);Pt(this,ps,dt)}getHeader(){return Et(this,ps)}}ps=new WeakMap;const getMultihashLength=_e=>{const[,et]=decode(_e),[tt,rt]=decode(_e,et);return et+rt+tt},encodeHeader=_e=>{const et=encode$j({version:1,roots:_e}),tt=encode(et.length),rt=new Uint8Array(tt.length+et.length);return rt.set(tt,0),rt.set(et,tt.length),rt},encodeBlock=_e=>{const et=encode(_e.cid.bytes.length+_e.bytes.length),tt=new Uint8Array(et.length+_e.cid.bytes.length+_e.bytes.length);return tt.set(et),tt.set(_e.cid.bytes,et.length),tt.set(_e.bytes,et.length+_e.cid.bytes.length),tt};class CARWriterStream extends TransformStream{constructor(et=[],tt,rt){super({start:nt=>nt.enqueue(encodeHeader(et)),transform:(nt,ot)=>ot.enqueue(encodeBlock(nt))},tt,rt)}}const SHARD_SIZE=133169152;class ShardingStream extends TransformStream{constructor(et={}){const tt=et.shardSize??SHARD_SIZE,rt=tt-headerEncodingLength();let nt=[],ot=null,st=new DigestMap,at=null,ct=0;super({async transform(lt,dt){ot!=null&&at!=null&&(dt.enqueue(await encodeCAR(ot,at)),ot=null,at=null);const ft=blockHeaderEncodingLength(lt),ht=ft+lt.bytes.length;if(ht>rt)throw new Error(`block will cause CAR to exceed shard size: ${lt.cid}`);nt.length&&ct+ht>rt&&(ot=nt,at=st,nt=[],st=new DigestMap,ct=0),nt.push(lt),st.set(lt.cid.multihash,[headerEncodingLength()+ct+ft,lt.bytes.length]),ct+=ht},async flush(lt){ot!=null&&at!=null&&lt.enqueue(await encodeCAR(ot,at));const dt=nt.at(-1);if(dt==null)return;const ft=et.rootCID??dt.cid,ht=headerEncodingLength(ft);if(ht+ct>tt){const pt=ht+ct-tt,gt=[];let mt=0;for(;mt<pt;){const yt=nt[nt.length-1];if(nt.pop(),st.delete(yt.cid.multihash),gt.unshift(yt),mt+=blockEncodingLength(yt),nt.length<1)throw new Error(`block will cause CAR to exceed shard size: ${yt.cid}`)}lt.enqueue(await encodeCAR(nt,st)),mt=0;const vt=new DigestMap;for(const yt of gt){const bt=blockHeaderEncodingLength(yt);vt.set(yt.cid.multihash,[ht+mt+bt,yt.bytes.length]),mt+=bt+yt.bytes.length}lt.enqueue(await encodeCAR(gt,vt,ft))}else{const pt=ht-headerEncodingLength();for(const gt of st.values())gt[0]+=pt;lt.enqueue(await encodeCAR(nt,st,ft))}}})}}const encodeCAR=async(_e,et,tt)=>Object.assign(await encode$1(_e,tt),{slices:et});new URL("https://up.storacha.network");parse$1("did:web:up.storacha.network");new URL("https://up.storacha.network");parse$1("did:web:up.storacha.network");new URL("https://up.storacha.network");parse$1("did:web:up.storacha.network");new URL("https://gateway.storacha.network");parse$1("did:web:w3s.link");new Set(abilitiesAsStrings);async function uploadViaProxy(_e){const et="http://localhost:8787/upload",tt=new FormData;tt.append("file",_e,_e.name);const rt=await fetch(et,{method:"POST",body:tt});if(!rt.ok){const nt=await rt.text().catch(()=>"");throw new Error(`Proxy upload failed: ${rt.status} ${rt.statusText} ${nt}`)}return rt.json()}async function stripEXIF(_e,et=!0){return!et||!_e.type.startsWith("image/")?_e:new Promise(tt=>{const rt=new Image,nt=new FileReader;nt.onload=ot=>{var st;rt.onload=()=>{const at=document.createElement("canvas");at.width=rt.width,at.height=rt.height;const ct=at.getContext("2d");ct?(ct.drawImage(rt,0,0),at.toBlob(lt=>{if(lt){const dt=new File([lt],_e.name,{type:"image/jpeg"});tt(dt)}else tt(_e)},"image/jpeg",.9)):tt(_e)},rt.onerror=()=>tt(_e),rt.src=(st=ot.target)==null?void 0:st.result},nt.onerror=()=>tt(_e),nt.readAsDataURL(_e)})}async function computePerceptualHash(_e){return _e.type.startsWith("image/")?new Promise(et=>{const tt=new Image,rt=new FileReader;rt.onload=nt=>{var ot;tt.onload=()=>{const st=document.createElement("canvas"),at=9;st.width=at,st.height=at-1;const ct=st.getContext("2d");if(!ct){et("");return}ct.drawImage(tt,0,0,at,at-1);const dt=ct.getImageData(0,0,at,at-1).data;let ft="";for(let pt=0;pt<at-1;pt++)for(let gt=0;gt<at-1;gt++){const mt=(pt*at+gt)*4,vt=(pt*at+gt+1)*4,yt=(dt[mt]+dt[mt+1]+dt[mt+2])/3,bt=(dt[vt]+dt[vt+1]+dt[vt+2])/3;ft+=yt>bt?"1":"0"}const ht=parseInt(ft,2).toString(16).padStart(16,"0");et(ht)},tt.onerror=()=>et(""),tt.src=(ot=nt.target)==null?void 0:ot.result},rt.onerror=()=>et(""),rt.readAsDataURL(_e)}):""}async function uploadProof(_e,et={}){const tt=et.stripEXIF!==!1,rt=await computePerceptualHash(_e),nt=await stripEXIF(_e,tt);let ot;return ot=await uploadViaProxy(nt),{...ot,pHash:rt}}const MAX_MB=8,ActionForm=({provider:_e})=>{const[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(null),[ot,st]=reactExports.useState(!1),[at,ct]=reactExports.useState(0),[lt,dt]=reactExports.useState(""),[ft,ht]=reactExports.useState(""),[pt,gt]=reactExports.useState(""),[mt,vt]=reactExports.useState(""),[yt,bt]=reactExports.useState(""),[xt,wt]=reactExports.useState(""),[At,St]=reactExports.useState(null),$t=async kt=>{if(kt.preventDefault(),!et.trim())return zt.error("Description is required");if(rt&&rt.size>MAX_MB*1024*1024)return zt.error(`Max file size ${MAX_MB}MB`);{if(!lt.trim())return zt.error("Methodology is required");if(!ft.trim())return zt.error("Project label is required");if(!pt.trim())return zt.error("Baseline label is required");if(!mt.trim()||isNaN(Number(mt))||Number(mt)<=0)return zt.error("Valid quantity is required (grams CO2e)")}st(!0);try{let Ct="";if(rt){const{cid:Tt}=await uploadProof(rt);Ct=Tt}const{verifierWithSigner:_t}=await getContracts(_e,!0);if(USE_V2){let Tt="";if(At){const{cid:Wt}=await uploadProof(At);Tt=Wt}const jt=id(lt.trim()),Bt=id(ft.trim()),Gt=id(pt.trim());await(await _t.submitActionV2(et.trim(),Ct,at,jt,Bt,Gt,mt.trim(),yt.trim()||"0",xt.trim()||"0",Tt)).wait()}tt(""),nt(null),USE_V2&&(dt(""),ht(""),gt(""),vt(""),bt(""),wt(""),St(null)),zt.success("Action submitted!")}catch(Ct){zt.error(Ct.message??"Submit failed")}finally{st(!1)}};return jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:["🌱 Submit Eco-Action ","(V2)"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share your positive environmental impact and earn GCT tokens"}),jsxRuntimeExports.jsxs("form",{onSubmit:$t,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Action Description"}),jsxRuntimeExports.jsx("textarea",{className:"input resize-none",rows:4,placeholder:"e.g., Planted 5 trees in the local park, organized a neighborhood clean-up, or reduced plastic usage by 50%...",value:et,onChange:kt=>tt(kt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Be specific about your action for better verification"})]}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Credit Type"}),jsxRuntimeExports.jsxs("select",{className:"input",value:at,onChange:kt=>ct(Number(kt.target.value)),required:!0,children:[jsxRuntimeExports.jsx("option",{value:0,children:"Reduction"}),jsxRuntimeExports.jsx("option",{value:1,children:"Removal"}),jsxRuntimeExports.jsx("option",{value:2,children:"Avoidance"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type of carbon credit"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Methodology"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Cookstove v1.2",value:lt,onChange:kt=>dt(kt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Methodology name (will be hashed to ID)"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Project Label"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Project Kenya 001",value:ft,onChange:kt=>ht(kt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Project identifier (will be hashed to ID)"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Baseline Label"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Baseline Kenya 001 v1",value:pt,onChange:kt=>gt(kt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Baseline identifier (will be hashed to ID)"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Quantity (grams CO2e)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"number",placeholder:"e.g., 1000000 (1 ton = 1,000,000 grams)",value:mt,onChange:kt=>vt(kt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount in grams of CO2 equivalent"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Uncertainty (basis points, optional)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"number",placeholder:"e.g., 500 (5%)",value:yt,onChange:kt=>bt(kt.target.value)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"100 basis points = 1%"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Durability (years, for removals only)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"number",placeholder:"e.g., 100 (for permanent removals)",value:xt,onChange:kt=>wt(kt.target.value)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For removal credits, expected permanence in years"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Metadata File (optional)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"file",accept:".json,application/json",onChange:kt=>{var Ct;return St(((Ct=kt.target.files)==null?void 0:Ct[0])??null)}}),At&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",At.name]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JSON file with additional metadata"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Proof Image (optional)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"file",accept:"image/png,image/jpeg,image/webp",onChange:kt=>{var Ct;return nt(((Ct=kt.target.files)==null?void 0:Ct[0])??null)}}),rt&&jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("img",{src:URL.createObjectURL(rt),alt:"Preview",className:"max-w-full h-32 object-cover rounded-lg border border-gray-200"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",rt.name]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload photos to support your claim"})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ot,className:"btn btn-primary w-full",children:ot?"🌿 Submitting...":"🌿 Submit Action"})]})]})},ActionsList=({provider:_e})=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{nt(!0);const{verifier:ot}=await getContracts(_e),st=await ot.getActionCount(),at=Number(st>50n?50n:st),ct=Number(st)-at,lt=[];for(let dt=ct;dt<Number(st);dt++){const ft=await ot.actions(dt),ht=ft.proofCid!==void 0,pt=String(ft.description);let gt="";if(ht)gt=ft.proofCid;else{const vt=pt.match(/proof:\s*ipfs:\/\/([^\s|]+)/i);gt=(vt==null?void 0:vt[1])||""}const mt={id:dt,user:ft.user,description:pt,proof:gt,verified:!!ft.verified,timestamp:Number(ft.timestamp),reward:BigInt(ft.reward??0n)};ft.creditType!==void 0&&(mt.creditType=Number(ft.creditType),mt.methodologyId=ft.methodologyId,mt.projectId=ft.projectId,mt.baselineId=ft.baselineId,mt.quantity=BigInt(ft.quantity??0n),mt.uncertaintyBps=BigInt(ft.uncertaintyBps??0n),mt.durabilityYears=BigInt(ft.durabilityYears??0n),mt.metadataCid=ft.metadataCid,mt.attestationUID=ft.attestationUID),lt.push(mt)}lt.reverse(),tt(lt)})().catch(console.error).finally(()=>nt(!1))},[_e]),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"📋 Actions List"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"All eco-actions submitted on-chain with verification status"}),rt?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[...Array(3)].map((ot,st)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"loading h-4 w-32 mb-2"}),jsxRuntimeExports.jsx("div",{className:"loading h-4 w-full mb-2"}),jsxRuntimeExports.jsx("div",{className:"loading h-3 w-24"})]},st))}):et.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"🌱 No actions yet. Be the first to submit!"}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:et.map(ot=>{const st=ot.creditType!==void 0?["Reduction","Removal","Avoidance"][ot.creditType]||"Unknown":null;return jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold text-gray-800",children:["Action #",ot.id]}),jsxRuntimeExports.jsx("span",{className:`badge ${ot.verified?"badge-verified":"badge-pending"}`,children:ot.verified?"✅ Verified":"⏳ Pending"}),st&&jsxRuntimeExports.jsx("span",{className:"badge badge-info",children:st}),ot.verified&&ot.reward>0n&&jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",Number(ot.reward)/1e18," GCT"]})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:new Date(ot.timestamp*1e3).toLocaleString()})]}),jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-800 mb-3",children:ot.description}),ot.quantity!==void 0&&ot.quantity>0n&&jsxRuntimeExports.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded border border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Quantity:"})," ",Number(ot.quantity).toLocaleString()," gCO2e"]}),ot.uncertaintyBps!==void 0&&ot.uncertaintyBps>0n&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Uncertainty:"})," ",Number(ot.uncertaintyBps)/100,"%"]}),ot.durabilityYears!==void 0&&ot.durabilityYears>0n&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Durability:"})," ",Number(ot.durabilityYears)," years"]}),ot.methodologyId&&ot.methodologyId!=="0x0000000000000000000000000000000000000000000000000000000000000000"&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Methodology ID:"})," ",jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs",children:[ot.methodologyId.slice(0,10),"..."]})]}),ot.baselineId&&ot.baselineId!=="0x0000000000000000000000000000000000000000000000000000000000000000"&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Baseline ID:"})," ",jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs",children:[ot.baselineId.slice(0,10),"..."]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["By: ",ot.user.slice(0,6),"...",ot.user.slice(-4)]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[ot.proof&&jsxRuntimeExports.jsx("a",{className:"text-blue-500 hover:text-blue-700 hover:underline",href:`https://w3s.link/ipfs/${ot.proof}`,target:"_blank",rel:"noreferrer",children:"📎 View Proof"}),ot.metadataCid&&jsxRuntimeExports.jsx("a",{className:"text-blue-500 hover:text-blue-700 hover:underline",href:`https://w3s.link/ipfs/${ot.metadataCid}`,target:"_blank",rel:"noreferrer",children:"📄 Metadata"}),ot.attestationUID&&ot.attestationUID!=="0x0000000000000000000000000000000000000000000000000000000000000000"&&jsxRuntimeExports.jsx("span",{className:"text-xs text-purple-600",title:ot.attestationUID,children:"🔐 Attested"}),jsxRuntimeExports.jsx("a",{href:`https://moonbase.moonscan.io/address/${ot.user}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"View on MoonScan ↗"})]})]})]},ot.id)})})]})},AdminVerify=({provider:_e})=>{const[et,tt]=reactExports.useState(0),[rt,nt]=reactExports.useState(0),[ot,st]=reactExports.useState("10"),[at,ct]=reactExports.useState(!1),[lt,dt]=reactExports.useState(!1),[ft,ht]=reactExports.useState("0.01"),[pt,gt]=reactExports.useState("0"),[mt,vt]=reactExports.useState(""),[yt,bt]=reactExports.useState(0),[xt,wt]=reactExports.useState(""),[At,St]=reactExports.useState(""),[$t,kt]=reactExports.useState(""),[Ct,_t]=reactExports.useState(0),[Tt,jt]=reactExports.useState("0"),[Bt,Gt]=reactExports.useState("0"),[Rt,Wt]=reactExports.useState("0"),[Vt,Lt]=reactExports.useState("0");reactExports.useEffect(()=>{(async()=>{const{verifier:Ft}=await getContracts(_e),Jt=await Ft.getActionCount();tt(Number(Jt));const qt=await(await _e.getSigner()).getAddress(),Xt=await Ft.owner();ct(qt.toLowerCase()===Xt.toLowerCase());try{const Mt=await Ft.challengeWindowSecs();_t(Number(Mt));const nr=await Ft.stakeBalance(qt);jt(formatEther(nr));const er=await Ft.submitStakeWei();Gt(formatEther(er));const cr=await Ft.verifyStakeWei();Wt(formatEther(cr));const lr=await Ft.challengeStakeWei();Lt(formatEther(lr))}catch(Mt){console.warn("Could not load Phase 2 config:",Mt)}})().catch(console.error)},[_e]);const Ht=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0),Jt=parseUnits$1(ot||"0",18);await(await Ft.verifyAction(rt,Jt)).wait(),zt.success("Action verified")}catch(Ft){zt.error(Ft.message??"Verify failed")}finally{dt(!1)}},Kt=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0);await(await Ft.finalizeAction(rt)).wait(),zt.success("Action finalized")}catch(Ft){zt.error(Ft.message??"Finalize failed")}finally{dt(!1)}},Qt=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0);await(await Ft.challengeAction(rt,mt)).wait(),zt.success("Action challenged")}catch(Ft){zt.error(Ft.message??"Challenge failed")}finally{dt(!1)}},Yt=async Ft=>{dt(!0);try{const{verifierWithSigner:Jt}=await getContracts(_e,!0);await(await Jt.resolveChallenge(rt,yt,Ft,xt||"0x0000000000000000000000000000000000000000")).wait(),zt.success(`Challenge ${Ft?"upheld":"dismissed"}`)}catch(Jt){zt.error(Jt.message??"Resolve failed")}finally{dt(!1)}},ar=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0),Jt=parseUnits$1(ft||"0",18);await(await Ft.depositStake({value:Jt})).wait(),zt.success("Stake deposited");const Xt=await(await _e.getSigner()).getAddress(),Mt=await Ft.stakeBalance(Xt);jt(formatEther(Mt))}catch(Ft){zt.error(Ft.message??"Deposit failed")}finally{dt(!1)}},sr=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0),Jt=parseUnits$1(pt||"0",18);await(await Ft.withdrawStake(Jt)).wait(),zt.success("Stake withdrawn");const Xt=await(await _e.getSigner()).getAddress(),Mt=await Ft.stakeBalance(Xt);jt(formatEther(Mt))}catch(Ft){zt.error(Ft.message??"Withdraw failed")}finally{dt(!1)}},tr=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0);await(await Ft.attachOracleReport(rt,At)).wait(),zt.success("Oracle report attached")}catch(Ft){zt.error(Ft.message??"Attach failed")}finally{dt(!1)}},It=async()=>{dt(!0);try{const{verifierWithSigner:Ft}=await getContracts(_e,!0),Jt=$t.startsWith("0x")?$t.padEnd(66,"0"):"0x"+$t.slice(0,64).padEnd(64,"0");await(await Ft.setAttestation(rt,Jt)).wait(),zt.success("Attestation UID attached")}catch(Ft){zt.error(Ft.message??"Set attestation failed")}finally{dt(!1)}};return at?jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"🔍 Admin: Verify Actions"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Review and verify eco-actions to reward contributors"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Phase 2 Configuration"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Challenge Window:"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[Math.round(Ct/3600),"h"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Submit Stake:"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[Bt," DEV"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Verify Stake:"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[Rt," DEV"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Challenge Stake:"}),jsxRuntimeExports.jsxs("p",{className:"font-medium",children:[Vt," DEV"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 text-xs",children:"Your Stake Balance:"}),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-green-600",children:[Tt," DEV"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Action ID"}),jsxRuntimeExports.jsx("input",{className:"input",type:"number",min:0,max:Math.max(0,et-1),value:rt,onChange:Ft=>nt(Number(Ft.target.value)),placeholder:"0"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Range: 0 - ",Math.max(0,et-1)]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Reward Amount"}),jsxRuntimeExports.jsx("input",{className:"input",type:"number",step:"0.01",min:"0",value:ot,onChange:Ft=>st(Ft.target.value),placeholder:"10.00"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"GCT tokens to award"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsx("button",{onClick:Ht,disabled:lt,className:"btn btn-primary w-full",children:lt?"🔄 Verifying...":"✅ Verify & Reward"})})]}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"Phase 2: Finalize & Challenge"}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:Kt,disabled:lt,className:"btn btn-success w-full mb-3",children:lt?"🔄 Finalizing...":"✔️ Finalize Action"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Mint rewards after challenge window"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{className:"input mb-2",type:"text",value:mt,onChange:Ft=>vt(Ft.target.value),placeholder:"Evidence CID"}),jsxRuntimeExports.jsx("button",{onClick:Qt,disabled:lt,className:"btn btn-warning w-full",children:lt?"🔄 Challenging...":"⚠️ Challenge Action"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"Resolve Challenge"}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-3 gap-3",children:[jsxRuntimeExports.jsx("input",{className:"input",type:"number",min:0,value:yt,onChange:Ft=>bt(Number(Ft.target.value)),placeholder:"Challenge Index"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",value:xt,onChange:Ft=>wt(Ft.target.value),placeholder:"Slash to address (optional)"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Yt(!0),disabled:lt,className:"btn btn-danger flex-1",children:"Uphold"}),jsxRuntimeExports.jsx("button",{onClick:()=>Yt(!1),disabled:lt,className:"btn btn-secondary flex-1",children:"Dismiss"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 mb-6",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"Stake Management"}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-sm",children:"Deposit Stake"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{className:"input",type:"number",step:"0.01",min:"0",value:ft,onChange:Ft=>ht(Ft.target.value),placeholder:"0.01"}),jsxRuntimeExports.jsx("button",{onClick:ar,disabled:lt,className:"btn btn-primary",children:"Deposit"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"label text-sm",children:"Withdraw Stake"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{className:"input",type:"number",step:"0.01",min:"0",value:pt,onChange:Ft=>gt(Ft.target.value),placeholder:"0.01"}),jsxRuntimeExports.jsx("button",{onClick:sr,disabled:lt,className:"btn btn-secondary",children:"Withdraw"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"Oracle Report"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{className:"input flex-1",type:"text",value:At,onChange:Ft=>St(Ft.target.value),placeholder:"Report CID (IPFS)"}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:lt,className:"btn btn-info",children:lt?"🔄 Attaching...":"📎 Attach"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Attach IPFS CID with audit data (NDVI, LCA, etc.)"})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"Attestation UID"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{className:"input flex-1",type:"text",value:$t,onChange:Ft=>kt(Ft.target.value),placeholder:"Attestation UID (bytes32 or hex string)"}),jsxRuntimeExports.jsx("button",{onClick:It,disabled:lt,className:"btn btn-info",children:lt?"🔄 Setting...":"🔗 Attach UID"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Link to external attestation (e.g., EAS, Sign Protocol)"})]})]})]}):null},AdminRegistry=({provider:_e})=>{const[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),[ot,st]=reactExports.useState(""),[at,ct]=reactExports.useState(""),[lt,dt]=reactExports.useState(!0),[ft,ht]=reactExports.useState(!1),[pt,gt]=reactExports.useState(""),[mt,vt]=reactExports.useState(""),[yt,bt]=reactExports.useState(""),[xt,wt]=reactExports.useState(""),[At,St]=reactExports.useState(!0),[$t,kt]=reactExports.useState(!1),Ct=async Tt=>{if(Tt.preventDefault(),!et.trim()||!rt.trim()||!ot.trim())return zt.error("All fields are required");ht(!0);try{const{methodologyRegistryWithSigner:jt}=await getContracts(_e,!0);if(!jt)return zt.error("Methodology registry not configured");const Bt=id(et.trim());await(await jt.upsert(Bt,rt.trim(),ot.trim(),at.trim()||"",lt)).wait(),zt.success(`Methodology upserted: ${et}`),tt(""),nt(""),st(""),ct(""),dt(!0)}catch(jt){zt.error(jt.message??"Upsert failed")}finally{ht(!1)}},_t=async Tt=>{if(Tt.preventDefault(),!pt.trim()||!mt.trim()||!yt.trim())return zt.error("All fields are required");kt(!0);try{const{baselineRegistryWithSigner:jt}=await getContracts(_e,!0);if(!jt)return zt.error("Baseline registry not configured");const Bt=id(pt.trim()),Gt=id(mt.trim());await(await jt.upsert(Bt,Gt,yt.trim(),xt.trim()||"",At)).wait(),zt.success(`Baseline upserted: ${pt}`),gt(""),vt(""),bt(""),wt(""),St(!0)}catch(jt){zt.error(jt.message??"Upsert failed")}finally{kt(!1)}};return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-800",children:"🔧 Registry Administration"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Manage methodology and baseline registry entries (owner only)"})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"📚 Methodology Registry"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upsert methodology entries. The label will be hashed to create the unique ID."}),jsxRuntimeExports.jsxs("form",{onSubmit:Ct,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Methodology Label (for ID generation)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Cookstove v1.2",value:et,onChange:Tt=>tt(Tt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be hashed with keccak256 to create the ID"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Name"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Clean Cookstove Distribution",value:rt,onChange:Tt=>nt(Tt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Version"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., v1.2",value:ot,onChange:Tt=>st(Tt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"IPFS CID (optional)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., bafkreiexample123...",value:at,onChange:Tt=>ct(Tt.target.value)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"IPFS content identifier for methodology document"})]}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:lt,onChange:Tt=>dt(Tt.target.checked)}),jsxRuntimeExports.jsx("span",{className:"label",children:"Active"})]})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ft,className:"btn btn-primary w-full",children:ft?"⏳ Upserting...":"💾 Upsert Methodology"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"📊 Baseline Registry"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upsert baseline entries. The label will be hashed to create the unique ID."}),jsxRuntimeExports.jsxs("form",{onSubmit:_t,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Baseline Label (for ID generation)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Baseline Kenya 001 v1",value:pt,onChange:Tt=>gt(Tt.target.value),required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be hashed with keccak256 to create the ID"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Project Label (for project ID generation)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., Project Kenya 001",value:mt,onChange:Tt=>vt(Tt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Version"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., v1.0",value:yt,onChange:Tt=>bt(Tt.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"IPFS CID (optional)"}),jsxRuntimeExports.jsx("input",{className:"input",type:"text",placeholder:"e.g., bafkreiexample456...",value:xt,onChange:Tt=>wt(Tt.target.value)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"IPFS content identifier for baseline document"})]}),jsxRuntimeExports.jsx("div",{className:"form-group",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:At,onChange:Tt=>St(Tt.target.checked)}),jsxRuntimeExports.jsx("span",{className:"label",children:"Active"})]})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:$t,className:"btn btn-primary w-full",children:$t?"⏳ Upserting...":"💾 Upsert Baseline"})]})]})]})},AdminReputation=({provider:_e})=>{const[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[ot,st]=reactExports.useState(""),[at,ct]=reactExports.useState(""),[lt,dt]=reactExports.useState("3"),[ft,ht]=reactExports.useState(""),[pt,gt]=reactExports.useState(""),[mt,vt]=reactExports.useState(""),[yt,bt]=reactExports.useState("increase"),[xt,wt]=reactExports.useState([]);reactExports.useEffect(()=>{At()},[_e]);const At=async()=>{try{const{verifierBadgeSBT:Tt}=await getContracts(_e,!1);if(!Tt)return;const Bt=await(await _e.getSigner()).getAddress(),Gt=await Tt.owner();tt(Bt.toLowerCase()===Gt.toLowerCase())}catch(Tt){console.error("Error checking ownership:",Tt)}},St=async()=>{if(!ot||!at||!lt){zt.error("All fields are required");return}nt(!0);try{const{verifierBadgeSBTWithSigner:Tt}=await getContracts(_e,!0);if(!Tt){zt.error("VerifierBadgeSBT contract not configured");return}const jt=await Tt.mint(ot,at,parseInt(lt));zt.loading("Minting badge...",{id:"mint"}),await jt.wait(),zt.success("Badge minted successfully!",{id:"mint"}),st(""),ct(""),dt("3"),await Ct()}catch(Tt){console.error("Mint error:",Tt),zt.error((Tt==null?void 0:Tt.reason)||(Tt==null?void 0:Tt.message)||"Failed to mint badge")}finally{nt(!1)}},$t=async()=>{if(!ft){zt.error("Token ID is required");return}nt(!0);try{const{verifierBadgeSBTWithSigner:Tt}=await getContracts(_e,!0);if(!Tt){zt.error("VerifierBadgeSBT contract not configured");return}const jt=await Tt.revoke(ft);zt.loading("Revoking badge...",{id:"revoke"}),await jt.wait(),zt.success("Badge revoked successfully!",{id:"revoke"}),ht(""),await Ct()}catch(Tt){console.error("Revoke error:",Tt),zt.error((Tt==null?void 0:Tt.reason)||(Tt==null?void 0:Tt.message)||"Failed to revoke badge")}finally{nt(!1)}},kt=async()=>{if(!pt||!mt){zt.error("Address and amount are required");return}nt(!0);try{const{verifierBadgeSBTWithSigner:Tt}=await getContracts(_e,!0);if(!Tt){zt.error("VerifierBadgeSBT contract not configured");return}const jt=parseInt(mt);if(jt<=0){zt.error("Amount must be positive");return}const Bt=yt==="increase"?await Tt.increaseReputation(pt,jt):await Tt.decreaseReputation(pt,jt);zt.loading(`${yt==="increase"?"Increasing":"Decreasing"} reputation...`,{id:"rep"}),await Bt.wait(),zt.success(`Reputation ${yt==="increase"?"increased":"decreased"} successfully!`,{id:"rep"}),gt(""),vt(""),await Ct()}catch(Tt){console.error("Reputation error:",Tt),zt.error((Tt==null?void 0:Tt.reason)||(Tt==null?void 0:Tt.message)||"Failed to adjust reputation")}finally{nt(!1)}},Ct=async()=>{try{const{verifierBadgeSBT:Tt,verifier:jt}=await getContracts(_e,!1);if(!Tt||!jt)return;wt([])}catch(Tt){console.error("Error loading badges:",Tt)}},_t=async()=>{if(!pt){zt.error("Enter an address to check");return}try{const{verifierBadgeSBT:Tt}=await getContracts(_e,!1);if(!Tt){zt.error("VerifierBadgeSBT contract not configured");return}const jt=await Tt.tokenOfOwner(pt),Bt=await Tt.reputationOf(pt);if(jt===0n)zt.error("Address has no badge");else{const Gt=await Tt.levelOf(jt);zt.success(`Badge: Level ${Gt}, Reputation: ${Bt.toString()}`)}}catch(Tt){console.error("Check error:",Tt),zt.error((Tt==null?void 0:Tt.message)||"Failed to check badge")}};return et?jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6 text-[var(--primary-green)]",children:"👤 Verifier Reputation Management"}),jsxRuntimeExports.jsxs("div",{className:"card mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🏅 Mint Verifier Badge"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Verifier Address"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"0x...",value:ot,onChange:Tt=>st(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"1",value:at,onChange:Tt=>ct(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Badge Level (1-10)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"10",value:lt,onChange:Tt=>dt(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsx("button",{onClick:St,disabled:rt,className:"btn-primary w-full",children:rt?"Processing...":"Mint Badge"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🚫 Revoke Badge"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Token ID"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Token ID to revoke",value:ft,onChange:Tt=>ht(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsx("button",{onClick:$t,disabled:rt,className:"btn-secondary w-full",children:rt?"Processing...":"Revoke Badge"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"⭐ Adjust Reputation"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Verifier Address"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"0x...",value:pt,onChange:Tt=>gt(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount (positive integer)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",placeholder:"100",value:mt,onChange:Tt=>vt(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{bt("increase"),kt()},disabled:rt,className:"btn-primary flex-1",children:rt?"Processing...":"➕ Increase"}),jsxRuntimeExports.jsx("button",{onClick:()=>{bt("decrease"),kt()},disabled:rt,className:"btn-secondary flex-1",children:rt?"Processing...":"➖ Decrease"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🔍 Check Badge & Reputation"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Verifier Address"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"0x... (can reuse address from above)",value:pt,onChange:Tt=>gt(Tt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsx("button",{onClick:_t,className:"btn-secondary w-full",children:"Check Status"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card mt-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"💡 Notes"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx("li",{children:"Badges are soulbound (non-transferable) NFTs"}),jsxRuntimeExports.jsx("li",{children:"Each address can only have one badge"}),jsxRuntimeExports.jsx("li",{children:"Reputation scores can be positive or negative"}),jsxRuntimeExports.jsx("li",{children:"Reputation adjustments are logged on-chain for transparency"}),jsxRuntimeExports.jsx("li",{children:"Token IDs must be unique across all badges"})]})]})]}):jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"card bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-800 dark:text-yellow-200",children:"⚠️ Only the contract owner can manage verifier badges and reputation."})})})},Donate=({provider:_e})=>{const[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState("5"),[ot,st]=reactExports.useState(!1),at=async()=>{st(!0);try{const{tokenWithSigner:ct,poolWithSigner:lt,pool:dt}=await getContracts(_e,!0);if(!dt||!lt)return zt.error("Donation pool not configured");const ft=parseUnits$1(rt||"0",18);if(await(await ct.approve(await dt.getAddress(),ft)).wait(),!await lt.isNGO(et))return zt.error("NGO address is not allowlisted");await(await lt.donateTo(et,ft)).wait(),zt.success("Donation sent")}catch(ct){zt.error(ct.message??"Donation failed")}finally{st(!1)}};return jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"💚 Donate to Causes"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Support environmental initiatives with your GCT tokens"}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"sm:col-span-2 form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"NGO Address"}),jsxRuntimeExports.jsx("input",{className:"input",placeholder:"0x1234...abcd",value:et,onChange:ct=>tt(ct.target.value)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be an allowlisted NGO address"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{className:"label",children:"Amount to Donate"}),jsxRuntimeExports.jsx("input",{className:"input",type:"number",step:"0.01",min:"0",value:rt,onChange:ct=>nt(ct.target.value),placeholder:"5.00"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"GCT tokens"})]})]}),jsxRuntimeExports.jsx("button",{onClick:at,disabled:ot,className:"btn btn-primary w-full mt-4",children:ot?"🌿 Donating...":"💚 Donate"})]})},Leaderboard=({provider:_e})=>{const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{nt(!0);const{verifier:st}=await getContracts(_e),at=await st.getActionCount(),ct=Number(at>100n?100n:at),lt=Number(at)-ct,dt=new Map;for(let ht=lt;ht<Number(at);ht++){const pt=await st.actions(ht),gt=pt.user,mt=BigInt(pt.reward??0n);!!pt.verified&&dt.set(gt,(dt.get(gt)??0n)+mt)}const ft=Array.from(dt.entries()).map(([ht,pt])=>({user:ht,total:pt}));ft.sort((ht,pt)=>ht.total>pt.total?-1:1),tt(ft.slice(0,10))})().catch(console.error).finally(()=>nt(!1))},[_e]);const ot=st=>(Number(st)/1e18).toLocaleString(void 0,{maximumFractionDigits:4});return jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"🏆 Leaderboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Top contributors earning Green Credit Tokens"}),rt?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[...Array(5)].map((st,at)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center py-2",children:[jsxRuntimeExports.jsx("div",{className:"loading h-4 w-24"}),jsxRuntimeExports.jsx("div",{className:"loading h-4 w-16"})]},at))}):et.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"🌱 No verified actions yet. Start contributing!"}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:et.map((st,at)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full font-bold text-white ${at===0?"bg-yellow-500 rank-1":at===1?"bg-gray-400 rank-2":at===2?"bg-amber-600 rank-3":"bg-gray-300"}`,children:at===0?"🥇":at===1?"🥈":at===2?"🥉":`#${at+1}`}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-gray-800",children:[st.user.slice(0,6),"...",st.user.slice(-4)]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Verified contributor"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:"font-bold text-green-600 text-lg",children:[ot(st.total)," GCT"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Earned tokens"})]})]},st.user))})]})},MatchingPool=({provider:_e})=>{const[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[ot,st]=reactExports.useState("0"),[at,ct]=reactExports.useState(""),[lt,dt]=reactExports.useState(""),[ft,ht]=reactExports.useState(""),[pt,gt]=reactExports.useState("1"),[mt,vt]=reactExports.useState(null),[yt,bt]=reactExports.useState(""),[xt,wt]=reactExports.useState(""),[At,St]=reactExports.useState("1"),[$t,kt]=reactExports.useState(""),[Ct,_t]=reactExports.useState(""),[Tt,jt]=reactExports.useState("1"),[Bt,Gt]=reactExports.useState(""),[Rt,Wt]=reactExports.useState("");reactExports.useEffect(()=>{Vt(),Lt()},[_e]),reactExports.useEffect(()=>{pt&&Ht()},[pt]);const Vt=async()=>{try{const{matchingPool:It}=await getContracts(_e,!1);if(!It)return;const Jt=await(await _e.getSigner()).getAddress(),Dt=await It.owner();tt(Jt.toLowerCase()===Dt.toLowerCase())}catch(It){console.error("Error checking ownership:",It)}},Lt=async()=>{try{const{token:It}=await getContracts(_e,!1),Jt=await(await _e.getSigner()).getAddress(),Dt=await It.balanceOf(Jt);st(formatUnits(Dt,18))}catch(It){console.error("Error loading balance:",It)}},Ht=async()=>{try{const{matchingPool:It}=await getContracts(_e,!1);if(!It||!pt)return;const Ft=await It.getRound(pt);vt({id:Ft.id.toString(),token:Ft.token,start:new Date(Number(Ft.start)*1e3).toLocaleString(),end:new Date(Number(Ft.end)*1e3).toLocaleString(),matchingBudget:formatUnits(Ft.matchingBudget,18),active:Ft.active})}catch(It){console.error("Error loading round:",It),vt(null)}},Kt=async()=>{if(!at||!lt||!ft){zt.error("All fields are required");return}nt(!0);try{const{matchingPoolWithSigner:It,token:Ft}=await getContracts(_e,!0);if(!It){zt.error("MatchingPool contract not configured");return}const Jt=Math.floor(new Date(at).getTime()/1e3),Dt=Math.floor(new Date(lt).getTime()/1e3),qt=parseUnits$1(ft,18),Xt=await It.createRound(Ft.target,Jt,Dt,qt);zt.loading("Creating round...",{id:"create"});const Mt=await Xt.wait();zt.success("Round created successfully!",{id:"create"}),ct(""),dt(""),ht("")}catch(It){console.error("Create round error:",It),zt.error((It==null?void 0:It.reason)||(It==null?void 0:It.message)||"Failed to create round")}finally{nt(!1)}},Qt=async()=>{if(!pt){zt.error("Round ID is required");return}nt(!0);try{const{matchingPoolWithSigner:It}=await getContracts(_e,!0);if(!It){zt.error("MatchingPool contract not configured");return}const Ft=await It.activateRound(pt);zt.loading("Activating round...",{id:"activate"}),await Ft.wait(),zt.success("Round activated!",{id:"activate"}),await Ht()}catch(It){console.error("Activate error:",It),zt.error((It==null?void 0:It.reason)||(It==null?void 0:It.message)||"Failed to activate round")}finally{nt(!1)}},Yt=async()=>{if(!pt){zt.error("Round ID is required");return}nt(!0);try{const{matchingPoolWithSigner:It}=await getContracts(_e,!0);if(!It){zt.error("MatchingPool contract not configured");return}const Ft=await It.deactivateRound(pt);zt.loading("Deactivating round...",{id:"deactivate"}),await Ft.wait(),zt.success("Round deactivated!",{id:"deactivate"}),await Ht()}catch(It){console.error("Deactivate error:",It),zt.error((It==null?void 0:It.reason)||(It==null?void 0:It.message)||"Failed to deactivate round")}finally{nt(!1)}},ar=async()=>{if(!pt||!yt||!xt){zt.error("All fields are required");return}nt(!0);try{const{matchingPoolWithSigner:It}=await getContracts(_e,!0);if(!It){zt.error("MatchingPool contract not configured");return}const Ft=encodeBytes32String(yt),Jt=await It.addProject(pt,Ft,xt);zt.loading("Adding project...",{id:"addProject"}),await Jt.wait(),zt.success("Project added to round!",{id:"addProject"}),bt(""),wt("")}catch(It){console.error("Add project error:",It),zt.error((It==null?void 0:It.reason)||(It==null?void 0:It.message)||"Failed to add project")}finally{nt(!1)}},sr=async()=>{if(!At||!$t||!Ct){zt.error("All fields are required");return}nt(!0);try{const{matchingPoolWithSigner:It,tokenWithSigner:Ft}=await getContracts(_e,!0);if(!It){zt.error("MatchingPool contract not configured");return}const Jt=parseUnits$1(Ct,18),Dt=encodeBytes32String($t);zt.loading("Approving tokens...",{id:"donate"}),await(await Ft.approve(It.target,Jt)).wait(),zt.loading("Donating...",{id:"donate"}),await(await It.donate(At,Dt,Jt)).wait(),zt.success("Donation successful!",{id:"donate"}),_t(""),await Lt()}catch(It){console.error("Donate error:",It),zt.error((It==null?void 0:It.reason)||(It==null?void 0:It.message)||"Failed to donate")}finally{nt(!1)}},tr=async()=>{if(!Tt||!Bt||!Rt){zt.error("All fields are required");return}nt(!0);try{const{matchingPoolWithSigner:It}=await getContracts(_e,!0);if(!It){zt.error("MatchingPool contract not configured");return}const Ft=Bt.split(",").map(qt=>encodeBytes32String(qt.trim())),Jt=Rt.split(",").map(qt=>parseUnits$1(qt.trim(),18));if(Ft.length!==Jt.length){zt.error("Project IDs and amounts must have the same length");return}const Dt=await It.setMatchAllocations(Tt,Ft,Jt);zt.loading("Finalizing round and disbursing matches...",{id:"finalize"}),await Dt.wait(),zt.success("Round finalized and matches disbursed!",{id:"finalize"}),Gt(""),Wt("")}catch(It){console.error("Finalize error:",It),zt.error((It==null?void 0:It.reason)||(It==null?void 0:It.message)||"Failed to finalize round")}finally{nt(!1)}};return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6 text-[var(--primary-green)]",children:"💰 Quadratic Matching Pool"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🎁 Make a Donation"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Your Balance: ",parseFloat(ot).toFixed(2)," GCT"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Round ID"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"1",value:At,onChange:It=>St(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project ID"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g., reforestation_2024",value:$t,onChange:It=>kt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount (GCT)"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",placeholder:"100",value:Ct,onChange:It=>_t(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsx("button",{onClick:sr,disabled:rt,className:"btn-primary w-full",children:rt?"Processing...":"Donate"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"📊 Round Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Round ID"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"1",value:pt,onChange:It=>gt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),mt&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",mt.active?"🟢 Active":"🔴 Inactive"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Start:"})," ",mt.start]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"End:"})," ",mt.end]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Matching Budget:"})," ",mt.matchingBudget," GCT"]})]})]})]})]}),et&&jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[var(--primary-green)]",children:"⚙️ Admin Controls"}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New Round"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",value:at,onChange:It=>ct(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",value:lt,onChange:It=>dt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Matching Budget (GCT)"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",placeholder:"1000",value:ft,onChange:It=>ht(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Kt,disabled:rt,className:"btn-primary w-full mt-4",children:rt?"Processing...":"Create Round"})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Manage Round"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Qt,disabled:rt,className:"btn-primary flex-1",children:rt?"Processing...":"Activate Round"}),jsxRuntimeExports.jsx("button",{onClick:Yt,disabled:rt,className:"btn-secondary flex-1",children:rt?"Processing...":"Deactivate Round"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Project to Round"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project ID"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g., reforestation_2024",value:yt,onChange:It=>bt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Address"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"0x...",value:xt,onChange:It=>wt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsx("button",{onClick:ar,disabled:rt,className:"btn-primary w-full",children:rt?"Processing...":"Add Project"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Finalize Round & Disburse Matches"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Round ID to Finalize"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"1",value:Tt,onChange:It=>jt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project IDs (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"project1,project2,project3",value:Bt,onChange:It=>Gt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Match Amounts in GCT (comma-separated)"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"300,400,300",value:Rt,onChange:It=>Wt(It.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:rt,className:"btn-primary w-full",children:rt?"Processing...":"Finalize & Disburse"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card mt-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"💡 How Quadratic Funding Works"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx("li",{children:"More small donations = larger matching allocation"}),jsxRuntimeExports.jsx("li",{children:"Admin calculates quadratic formula off-chain and submits allocations"}),jsxRuntimeExports.jsx("li",{children:"Rounds must be ended before finalization"}),jsxRuntimeExports.jsx("li",{children:"Both direct donations and matches are distributed to projects upon finalization"})]})]})]})};function Hero({onGetStarted:_e}){return jsxRuntimeExports.jsx("section",{className:"relative mx-auto max-w-5xl px-4 pb-8 pt-14 md:pt-20",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6 text-center",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl font-extrabold leading-tight tracking-tight md:text-6xl",children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:"🌍"}),jsxRuntimeExports.jsx("span",{className:"text-green-400",children:"Green Credits"})," — Rewarding",jsxRuntimeExports.jsx("br",{className:"hidden md:block"})," Every Action That Heals the Planet"]}),jsxRuntimeExports.jsx("p",{className:"mx-auto max-w-3xl text-base leading-relaxed text-[color:var(--text-secondary)] md:text-lg",children:"Earn Green Credit Tokens (GCT) for real-world eco-actions verified on the Moonbeam."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>{var et;_e?_e():(window.dispatchEvent(new Event("open-wallet-connect")),(et=document.getElementById("wallet-connect"))==null||et.scrollIntoView({behavior:"smooth",block:"center"}))},className:"rounded-md bg-[color:var(--cta)] px-6 py-3 text-base font-semibold text-white transition-colors hover:bg-[color:var(--cta-hover)]",children:"Get Started"})})]})})}const items=[{icon:"🪙",title:"Earn Tokens",desc:"Get rewarded for your positive environmental impact with Moonbeam‑Verified GCT tokens.",link:"/submit",buttonText:"Submit Action"},{icon:"🌿",title:"Build Trust",desc:"Transparent on‑chain verification ensures every action is authentic and traceable.",link:"/actions",buttonText:"View Actions"},{icon:"🤝",title:"Join the Community",desc:"Connect with like‑minded individuals making a difference for our planet.",link:"/leaderboard",buttonText:"View Leaderboard"}];function FeatureCards(){return jsxRuntimeExports.jsx("section",{className:"mx-auto max-w-6xl px-4 pb-16 pt-6 md:pb-24",children:jsxRuntimeExports.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:items.map(_e=>jsxRuntimeExports.jsxs("div",{className:"glass hover-scale rounded-xl p-6 text-slate-300 shadow-green-soft",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-xl",children:_e.icon}),jsxRuntimeExports.jsx("div",{className:"mb-1 text-lg font-semibold text-white",children:_e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed text-slate-400 mb-4",children:_e.desc}),jsxRuntimeExports.jsx(Link$1,{to:_e.link,className:"btn btn-primary text-sm",children:_e.buttonText})]},_e.title))})})}function SiteFooter(){return jsxRuntimeExports.jsx("footer",{className:"border-t border-white/10 bg-[#0D1117]/60",children:jsxRuntimeExports.jsx("div",{className:"mx-auto max-w-7xl px-4",children:jsxRuntimeExports.jsxs("div",{className:"py-8 text-center text-sm text-slate-400",children:[jsxRuntimeExports.jsxs("div",{className:"mb-3",children:["© ",new Date().getFullYear()," ",jsxRuntimeExports.jsx("span",{className:"text-green-400",children:"Green Credits"})," — Building a sustainable, transparent future on Moonbeam."]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-5 text-slate-300",children:[jsxRuntimeExports.jsx("a",{className:"hover:text-white",href:"https://moonbeam.network/",target:"_blank",rel:"noreferrer",children:"🌙 Moonbeam"}),jsxRuntimeExports.jsx("a",{className:"hover:text-white",href:"https://github.com/Liwei254/green-credits",target:"_blank",rel:"noreferrer",children:"📦 Github"}),jsxRuntimeExports.jsx("a",{className:"hover:text-white",href:"https://github.com/Liwei254/green-credits#readme",target:"_blank",rel:"noreferrer",children:"📘 Docs"})]})]})})})}function Home({provider:_e,address:et,setAddress:tt,theme:rt,toggleTheme:nt,connectWallet:ot}){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen",children:[jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(Hero,{onGetStarted:ot}),jsxRuntimeExports.jsx(FeatureCards,{})]}),jsxRuntimeExports.jsx(SiteFooter,{})]})}const Retirement=({provider:_e,address:et})=>{const[tt,rt]=reactExports.useState(!1),[nt,ot]=reactExports.useState([]),[st,at]=reactExports.useState(""),[ct,lt]=reactExports.useState(""),[dt,ft]=reactExports.useState(""),[ht,pt]=reactExports.useState([]);reactExports.useEffect(()=>{gt(),mt()},[_e,et]);const gt=async()=>{try{const{verifier:wt}=await getContracts(_e,!1),At=await wt.getActionCount(),St=[];for(let $t=0;$t<Number(At);$t++){const kt=await wt.actions($t);USE_V2&&kt.user.toLowerCase()===et.toLowerCase()&&kt.status===2&&St.push({id:$t,user:kt.user,description:kt.description,quantity:kt.quantity.toString(),status:kt.status,selected:!1,gramsToRetire:kt.quantity.toString()})}ot(St)}catch(wt){console.error("Error loading actions:",wt)}},mt=async()=>{try{const{retirementRegistry:wt}=await getContracts(_e,!1);if(!wt)return;const At=await wt.getRetirementsByAccount(et),St=[];for(const $t of At){const kt=await wt.getRetirement($t);St.push({serial:kt.serial.toString(),actionIds:kt.actionIds.map(Ct=>Ct.toString()),grams:kt.grams.map(Ct=>Ct.toString()),reason:kt.reason,beneficiary:kt.beneficiary,timestamp:new Date(Number(kt.timestamp)*1e3).toLocaleString()})}pt(St)}catch(wt){console.error("Error loading retirements:",wt)}},vt=wt=>{ot(nt.map(At=>At.id===wt?{...At,selected:!At.selected}:At))},yt=(wt,At)=>{ot(nt.map(St=>St.id===wt?{...St,gramsToRetire:At}:St))},bt=async()=>{var At,St;const wt=nt.filter($t=>$t.selected);if(wt.length===0){zt.error("Please select at least one action to retire");return}if(!st||!ct){zt.error("Please provide reason and beneficiary");return}rt(!0);try{const{retirementRegistryWithSigner:$t}=await getContracts(_e,!0);if(!$t){zt.error("RetirementRegistry contract not configured");return}const kt=wt.map(Bt=>Bt.id),Ct=wt.map(Bt=>BigInt(Bt.gramsToRetire||"0"));for(let Bt=0;Bt<Ct.length;Bt++)if(Ct[Bt]<=0n){zt.error(`Invalid grams for action ${kt[Bt]}`);return}zt.loading("Retiring credits...",{id:"retire"});const jt=(await(await $t.retire(kt,Ct,st,ct)).wait()).logs.find(Bt=>{try{const Gt=$t.interface.parseLog(Bt);return Gt&&Gt.name==="Retired"}catch{return!1}});if(jt){const Bt=$t.interface.parseLog(jt),Gt=((St=(At=Bt==null?void 0:Bt.args)==null?void 0:At.serial)==null?void 0:St.toString())||"Unknown";ft(Gt),zt.success(`Credits retired! Serial: ${Gt}`,{id:"retire"})}else zt.success("Credits retired successfully!",{id:"retire"});at(""),lt(""),await gt(),await mt()}catch($t){console.error("Retire error:",$t),zt.error(($t==null?void 0:$t.reason)||($t==null?void 0:$t.message)||"Failed to retire credits")}finally{rt(!1)}},xt=()=>nt.filter(wt=>wt.selected).reduce((wt,At)=>wt+BigInt(At.gramsToRetire||"0"),0n);return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6 text-[var(--primary-green)]",children:"🏆 Retire Credits"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Actions to Retire"}),nt.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No finalized actions available to retire."}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:nt.map(wt=>jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${wt.selected?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-green-300"}`,onClick:()=>vt(wt.id),children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:wt.selected,onChange:()=>vt(wt.id),className:"h-5 w-5",onClick:At=>At.stopPropagation()}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:["Action #",wt.id]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:wt.description}),wt.quantity!=="0"&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total quantity: ",(Number(wt.quantity)/1e3).toFixed(2)," kg CO2e"]})]})}),wt.selected&&jsxRuntimeExports.jsxs("div",{className:"mt-3",onClick:At=>At.stopPropagation(),children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grams CO2e to Retire"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",value:wt.gramsToRetire,onChange:At=>yt(wt.id,At.target.value),className:"w-full px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800",placeholder:"Enter grams"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["= ",(Number(wt.gramsToRetire||0)/1e3).toFixed(2)," kg"]})]})]},wt.id))})]}),nt.some(wt=>wt.selected)&&jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Retirement Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Reason for Retirement"}),jsxRuntimeExports.jsx("textarea",{rows:3,placeholder:"e.g., Carbon offset for company operations 2024",value:st,onChange:wt=>at(wt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Beneficiary"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g., Acme Corp",value:ct,onChange:wt=>lt(wt.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-1",children:"Total to Retire:"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl text-[var(--primary-green)]",children:[(Number(xt())/1e3).toFixed(2)," kg CO2e"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["(",xt().toString()," grams)"]})]}),jsxRuntimeExports.jsx("button",{onClick:bt,disabled:tt,className:"btn-primary w-full",children:tt?"Processing...":"🏆 Retire Credits"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[dt&&jsxRuntimeExports.jsxs("div",{className:"card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"✅ Last Retirement"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Serial: ",jsxRuntimeExports.jsx("span",{className:"font-mono text-green-600 dark:text-green-400",children:dt})]})]}),jsxRuntimeExports.jsxs("div",{className:"card",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📜 My Retirements"}),ht.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No retirements yet."}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ht.map(wt=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-sm",children:["Serial: ",wt.serial]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Actions: ",wt.actionIds.join(", ")]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Total: ",wt.grams.reduce((At,St)=>At+Number(St),0)/1e3," kg"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:wt.timestamp})]},wt.serial))})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"💡 About Retirement"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-700 dark:text-gray-300",children:[jsxRuntimeExports.jsx("li",{children:"Retirement permanently removes credits from circulation"}),jsxRuntimeExports.jsx("li",{children:"Each retirement receives a unique serial number"}),jsxRuntimeExports.jsx("li",{children:"Specify beneficiary for proper attribution"}),jsxRuntimeExports.jsx("li",{children:"Retirements are recorded immutably on-chain"})]})]})]})]})]})},MOONBASE_PARAMS={chainId:"0x507",chainName:"Moonbase Alpha",nativeCurrency:{name:"Dev",symbol:"DEV",decimals:18},rpcUrls:["https://rpc.api.moonbase.moonbeam.network"],blockExplorerUrls:["https://moonbase.moonscan.io"]};function getInjectedProvider(){const _e=window.ethereum;return _e?Array.isArray(_e.providers)?_e.providers.find(tt=>tt&&tt.isMetaMask)??_e.providers[0]:_e:null}const App=()=>{const[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(""),[nt,ot]=reactExports.useState("dark");reactExports.useEffect(()=>{document.documentElement.setAttribute("data-theme",nt)},[nt]),reactExports.useEffect(()=>{const dt=window.ethereum;if(dt)try{et(new BrowserProvider(dt))}catch(ft){console.error("Failed to initialize BrowserProvider:",ft),et(null)}else et(null)},[]);const st=!!tt&&!!_e,at=({isActive:dt})=>`nav-link ${dt?"active":""}`,ct=()=>{ot(nt==="light"?"dark":"light")},lt=async()=>{const dt=getInjectedProvider();if(!dt){alert("No injected wallet found. Please install MetaMask.");return}try{if(await dt.request({method:"eth_chainId"})!==MOONBASE_PARAMS.chainId)try{await dt.request({method:"wallet_switchEthereumChain",params:[{chainId:MOONBASE_PARAMS.chainId}]})}catch(mt){if((mt==null?void 0:mt.code)===4902)await dt.request({method:"wallet_addEthereumChain",params:[MOONBASE_PARAMS]});else throw mt}await dt.request({method:"eth_requestAccounts"});const gt=await(await new BrowserProvider(dt).getSigner()).getAddress();rt(gt)}catch(ft){console.error(ft),alert((ft==null?void 0:ft.message)??"Failed to connect wallet")}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[var(--background)] text-[var(--text-primary)]",children:[jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-50 bg-[var(--card-bg)]/90 backdrop-blur-sm border-b border-[rgba(0,0,0,0.1)] shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-12 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/",className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-green-500 to-green-600 text-white font-bold text-lg shadow-lg",children:"🌱"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-bold text-lg text-[var(--primary-green)] flex items-center gap-2",children:["Green Credits",jsxRuntimeExports.jsx("span",{className:"polkadot-badge text-xs",children:"Built on Moonbeam × Polkadot"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Rewarding Every Action That Heals the Planet"})]})]}),jsxRuntimeExports.jsx(WalletConnect,{provider:_e,address:tt,setAddress:rt})]}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-12 pb-4",children:jsxRuntimeExports.jsxs("nav",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(NavLink,{to:"/",className:at,end:!0,children:"Home"}),jsxRuntimeExports.jsx(NavLink,{to:"/dashboard",className:at,children:"Dashboard"}),jsxRuntimeExports.jsx(NavLink,{to:"/submit",className:at,children:"Submit Action"}),jsxRuntimeExports.jsx(NavLink,{to:"/actions",className:at,children:"Actions"}),jsxRuntimeExports.jsx(NavLink,{to:"/leaderboard",className:at,children:"Leaderboard"}),jsxRuntimeExports.jsx(NavLink,{to:"/donate",className:at,children:"Donate"}),jsxRuntimeExports.jsx(NavLink,{to:"/matching",className:at,children:"Matching"}),jsxRuntimeExports.jsx(NavLink,{to:"/retirement",className:at,children:"Retirement"}),jsxRuntimeExports.jsx(NavLink,{to:"/admin",className:at,children:"Admin"}),jsxRuntimeExports.jsx(NavLink,{to:"/admin/registry",className:at,children:"Registry"}),jsxRuntimeExports.jsx(NavLink,{to:"/admin/reputation",className:at,children:"Reputation"})]})})]}),jsxRuntimeExports.jsx("main",{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{provider:_e,address:tt,setAddress:rt,theme:nt,toggleTheme:ct,connectWallet:lt})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:st?jsxRuntimeExports.jsx(Dashboard,{provider:_e,address:tt}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/submit",element:st?jsxRuntimeExports.jsx(ActionForm,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/actions",element:st?jsxRuntimeExports.jsx(ActionsList,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/leaderboard",element:st?jsxRuntimeExports.jsx(Leaderboard,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/donate",element:st?jsxRuntimeExports.jsx(Donate,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:st?jsxRuntimeExports.jsx(AdminVerify,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/admin/registry",element:st?jsxRuntimeExports.jsx(AdminRegistry,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/admin/reputation",element:st?jsxRuntimeExports.jsx(AdminReputation,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/matching",element:st?jsxRuntimeExports.jsx(MatchingPool,{provider:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/retirement",element:st?jsxRuntimeExports.jsx(Retirement,{provider:_e,address:tt}):jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]})}),jsxRuntimeExports.jsxs("footer",{className:"footer",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"© 2024 Green Credits. Building a sustainable future on Moonbeam."}),jsxRuntimeExports.jsxs("div",{className:"footer-links",children:[jsxRuntimeExports.jsx("a",{href:"https://moonbeam.network",target:"_blank",rel:"noopener noreferrer",children:"🌙 Moonbeam"}),jsxRuntimeExports.jsx("a",{href:"https://polkadot.network",target:"_blank",rel:"noopener noreferrer",children:"🔗 Polkadot"}),jsxRuntimeExports.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:"💻 GitHub"}),jsxRuntimeExports.jsx("a",{href:"https://docs.moonbeam.network",target:"_blank",rel:"noopener noreferrer",children:"📚 Docs"})]})]})]})};createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$3.StrictMode,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Fe,{position:"top-right"}),jsxRuntimeExports.jsx(App,{})]})}));
